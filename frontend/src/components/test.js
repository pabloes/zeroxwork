"use strict";var iS=Object.create;var Nu=Object.defineProperty;var aS=Object.getOwnPropertyDescriptor;var sS=Object.getOwnPropertyNames;var lS=Object.getPrototypeOf,cS=Object.prototype.hasOwnProperty;var Qt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),uS=(e,t)=>{for(var r in t)Nu(e,r,{get:t[r],enumerable:!0})},Sy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of sS(t))!cS.call(e,s)&&s!==r&&Nu(e,s,{get:()=>t[s],enumerable:!(n=aS(t,s))||n.enumerable});return e};var _e=(e,t,r)=>(r=e!=null?iS(lS(e)):{},Sy(t||!e||!e.__esModule?Nu(r,"default",{value:e,enumerable:!0}):r,e)),fS=e=>Sy(Nu({},"__esModule",{value:!0}),e);var vy=Qt((Jv,by)=>{"use strict";by.exports=dS;function dS(e,t){for(var r=new Array(arguments.length-1),n=0,s=2,a=!0;s<arguments.length;)r[n++]=arguments[s++];return new Promise(function(c,l){r[n]=function(g){if(a)if(a=!1,g)l(g);else{for(var M=new Array(arguments.length-1),w=0;w<M.length;)M[w++]=arguments[w];c.apply(null,M)}};try{e.apply(t||null,r)}catch(y){a&&(a=!1,l(y))}})}});var Iy=Qt(Cy=>{"use strict";var _u=Cy;_u.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&t.charAt(r)==="=";)++n;return Math.ceil(t.length*3)/4-n};var rs=new Array(64),ky=new Array(123);for(no=0;no<64;)ky[rs[no]=no<26?no+65:no<52?no+71:no<62?no-4:no-59|43]=no++;var no;_u.encode=function(t,r,n){for(var s=null,a=[],f=0,c=0,l;r<n;){var y=t[r++];switch(c){case 0:a[f++]=rs[y>>2],l=(y&3)<<4,c=1;break;case 1:a[f++]=rs[l|y>>4],l=(y&15)<<2,c=2;break;case 2:a[f++]=rs[l|y>>6],a[f++]=rs[y&63],c=0;break}f>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),f=0)}return c&&(a[f++]=rs[l],a[f++]=61,c===1&&(a[f++]=61)),s?(f&&s.push(String.fromCharCode.apply(String,a.slice(0,f))),s.join("")):String.fromCharCode.apply(String,a.slice(0,f))};var wy="invalid encoding";_u.decode=function(t,r,n){for(var s=n,a=0,f,c=0;c<t.length;){var l=t.charCodeAt(c++);if(l===61&&a>1)break;if((l=ky[l])===void 0)throw Error(wy);switch(a){case 0:f=l,a=1;break;case 1:r[n++]=f<<2|(l&48)>>4,f=l,a=2;break;case 2:r[n++]=(f&15)<<4|(l&60)>>2,f=l,a=3;break;case 3:r[n++]=(f&3)<<6|l,a=0;break}}if(a===1)throw Error(wy);return n-s};_u.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var Ry=Qt((Kv,Ay)=>{"use strict";Ay.exports=Ou;function Ou(){this._listeners={}}Ou.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this};Ou.prototype.off=function(t,r){if(t===void 0)this._listeners={};else if(r===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],s=0;s<n.length;)n[s].fn===r?n.splice(s,1):++s;return this};Ou.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],s=1;s<arguments.length;)n.push(arguments[s++]);for(s=0;s<r.length;)r[s].fn.apply(r[s++].ctx,n)}return this}});var zy=Qt((Zv,By)=>{"use strict";By.exports=Py(Py);function Py(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function s(l,y,g){t[0]=l,y[g]=r[0],y[g+1]=r[1],y[g+2]=r[2],y[g+3]=r[3]}function a(l,y,g){t[0]=l,y[g]=r[3],y[g+1]=r[2],y[g+2]=r[1],y[g+3]=r[0]}e.writeFloatLE=n?s:a,e.writeFloatBE=n?a:s;function f(l,y){return r[0]=l[y],r[1]=l[y+1],r[2]=l[y+2],r[3]=l[y+3],t[0]}function c(l,y){return r[3]=l[y],r[2]=l[y+1],r[1]=l[y+2],r[0]=l[y+3],t[0]}e.readFloatLE=n?f:c,e.readFloatBE=n?c:f}():function(){function t(n,s,a,f){var c=s<0?1:0;if(c&&(s=-s),s===0)n(1/s>0?0:2147483648,a,f);else if(isNaN(s))n(2143289344,a,f);else if(s>34028234663852886e22)n((c<<31|2139095040)>>>0,a,f);else if(s<11754943508222875e-54)n((c<<31|Math.round(s/1401298464324817e-60))>>>0,a,f);else{var l=Math.floor(Math.log(s)/Math.LN2),y=Math.round(s*Math.pow(2,-l)*8388608)&8388607;n((c<<31|l+127<<23|y)>>>0,a,f)}}e.writeFloatLE=t.bind(null,Ny),e.writeFloatBE=t.bind(null,My);function r(n,s,a){var f=n(s,a),c=(f>>31)*2+1,l=f>>>23&255,y=f&8388607;return l===255?y?NaN:c*(1/0):l===0?c*1401298464324817e-60*y:c*Math.pow(2,l-150)*(y+8388608)}e.readFloatLE=r.bind(null,_y),e.readFloatBE=r.bind(null,Oy)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function s(l,y,g){t[0]=l,y[g]=r[0],y[g+1]=r[1],y[g+2]=r[2],y[g+3]=r[3],y[g+4]=r[4],y[g+5]=r[5],y[g+6]=r[6],y[g+7]=r[7]}function a(l,y,g){t[0]=l,y[g]=r[7],y[g+1]=r[6],y[g+2]=r[5],y[g+3]=r[4],y[g+4]=r[3],y[g+5]=r[2],y[g+6]=r[1],y[g+7]=r[0]}e.writeDoubleLE=n?s:a,e.writeDoubleBE=n?a:s;function f(l,y){return r[0]=l[y],r[1]=l[y+1],r[2]=l[y+2],r[3]=l[y+3],r[4]=l[y+4],r[5]=l[y+5],r[6]=l[y+6],r[7]=l[y+7],t[0]}function c(l,y){return r[7]=l[y],r[6]=l[y+1],r[5]=l[y+2],r[4]=l[y+3],r[3]=l[y+4],r[2]=l[y+5],r[1]=l[y+6],r[0]=l[y+7],t[0]}e.readDoubleLE=n?f:c,e.readDoubleBE=n?c:f}():function(){function t(n,s,a,f,c,l){var y=f<0?1:0;if(y&&(f=-f),f===0)n(0,c,l+s),n(1/f>0?0:2147483648,c,l+a);else if(isNaN(f))n(0,c,l+s),n(2146959360,c,l+a);else if(f>17976931348623157e292)n(0,c,l+s),n((y<<31|2146435072)>>>0,c,l+a);else{var g;if(f<22250738585072014e-324)g=f/5e-324,n(g>>>0,c,l+s),n((y<<31|g/4294967296)>>>0,c,l+a);else{var M=Math.floor(Math.log(f)/Math.LN2);M===1024&&(M=1023),g=f*Math.pow(2,-M),n(g*4503599627370496>>>0,c,l+s),n((y<<31|M+1023<<20|g*1048576&1048575)>>>0,c,l+a)}}}e.writeDoubleLE=t.bind(null,Ny,0,4),e.writeDoubleBE=t.bind(null,My,4,0);function r(n,s,a,f,c){var l=n(f,c+s),y=n(f,c+a),g=(y>>31)*2+1,M=y>>>20&2047,w=4294967296*(y&1048575)+l;return M===2047?w?NaN:g*(1/0):M===0?g*5e-324*w:g*Math.pow(2,M-1075)*(w+4503599627370496)}e.readDoubleLE=r.bind(null,_y,0,4),e.readDoubleBE=r.bind(null,Oy,4,0)}(),e}function Ny(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function My(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function _y(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Oy(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}});var Dy=Qt((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var Bu=Qt(Uy=>{"use strict";var dp=Uy;dp.length=function(t){for(var r=0,n=0,s=0;s<t.length;++s)n=t.charCodeAt(s),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(t.charCodeAt(s+1)&64512)===56320?(++s,r+=4):r+=3;return r};dp.read=function(t,r,n){var s=n-r;if(s<1)return"";for(var a=null,f=[],c=0,l;r<n;)l=t[r++],l<128?f[c++]=l:l>191&&l<224?f[c++]=(l&31)<<6|t[r++]&63:l>239&&l<365?(l=((l&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,f[c++]=55296+(l>>10),f[c++]=56320+(l&1023)):f[c++]=(l&15)<<12|(t[r++]&63)<<6|t[r++]&63,c>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,f)),c=0);return a?(c&&a.push(String.fromCharCode.apply(String,f.slice(0,c))),a.join("")):String.fromCharCode.apply(String,f.slice(0,c))};dp.write=function(t,r,n){for(var s=n,a,f,c=0;c<t.length;++c)a=t.charCodeAt(c),a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):(a&64512)===55296&&((f=t.charCodeAt(c+1))&64512)===56320?(a=65536+((a&1023)<<10)+(f&1023),++c,r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128);return n-s}});var Fy=Qt((ew,Ly)=>{"use strict";Ly.exports=mS;function mS(e,t,r){var n=r||8192,s=n>>>1,a=null,f=n;return function(l){if(l<1||l>s)return e(l);f+l>n&&(a=e(n),f=0);var y=t.call(a,f,f+=l);return f&7&&(f=(f|7)+1),y}}});var Wy=Qt((tw,Vy)=>{"use strict";Vy.exports=kn;var Zl=Ni();function kn(e,t){this.lo=e>>>0,this.hi=t>>>0}var fa=kn.zero=new kn(0,0);fa.toNumber=function(){return 0};fa.zzEncode=fa.zzDecode=function(){return this};fa.length=function(){return 1};var pS=kn.zeroHash="\0\0\0\0\0\0\0\0";kn.fromNumber=function(t){if(t===0)return fa;var r=t<0;r&&(t=-t);var n=t>>>0,s=(t-n)/4294967296>>>0;return r&&(s=~s>>>0,n=~n>>>0,++n>4294967295&&(n=0,++s>4294967295&&(s=0))),new kn(n,s)};kn.from=function(t){if(typeof t=="number")return kn.fromNumber(t);if(Zl.isString(t))if(Zl.Long)t=Zl.Long.fromString(t);else return kn.fromNumber(parseInt(t,10));return t.low||t.high?new kn(t.low>>>0,t.high>>>0):fa};kn.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};kn.prototype.toLong=function(t){return Zl.Long?new Zl.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var Pi=String.prototype.charCodeAt;kn.fromHash=function(t){return t===pS?fa:new kn((Pi.call(t,0)|Pi.call(t,1)<<8|Pi.call(t,2)<<16|Pi.call(t,3)<<24)>>>0,(Pi.call(t,4)|Pi.call(t,5)<<8|Pi.call(t,6)<<16|Pi.call(t,7)<<24)>>>0)};kn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};kn.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};kn.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};kn.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Ni=Qt(mp=>{"use strict";var Me=mp;Me.asPromise=vy();Me.base64=Iy();Me.EventEmitter=Ry();Me.float=zy();Me.inquire=Dy();Me.utf8=Bu();Me.pool=Fy();Me.LongBits=Wy();Me.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Me.global=Me.isNode&&global||!1||typeof self<"u"&&self||mp;Me.emptyArray=Object.freeze?Object.freeze([]):[];Me.emptyObject=Object.freeze?Object.freeze({}):{};Me.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};Me.isString=function(t){return typeof t=="string"||t instanceof String};Me.isObject=function(t){return t&&typeof t=="object"};Me.isset=Me.isSet=function(t,r){var n=t[r];return n!=null&&t.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};Me.Buffer=function(){try{var e=Me.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();Me._Buffer_from=null;Me._Buffer_allocUnsafe=null;Me.newBuffer=function(t){return typeof t=="number"?Me.Buffer?Me._Buffer_allocUnsafe(t):new Me.Array(t):Me.Buffer?Me._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};Me.Array=typeof Uint8Array<"u"?Uint8Array:Array;Me.Long=Me.global.dcodeIO&&Me.global.dcodeIO.Long||Me.global.Long||Me.inquire("long");Me.key2Re=/^true|false|0|1$/;Me.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Me.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Me.longToHash=function(t){return t?Me.LongBits.from(t).toHash():Me.LongBits.zeroHash};Me.longFromHash=function(t,r){var n=Me.LongBits.fromHash(t);return Me.Long?Me.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function Gy(e,t,r){for(var n=Object.keys(t),s=0;s<n.length;++s)(e[n[s]]===void 0||!r)&&(e[n[s]]=t[n[s]]);return e}Me.merge=Gy;Me.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function Hy(e){function t(r,n){if(!(this instanceof t))return new t(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Gy(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}Me.newError=Hy;Me.ProtocolError=Hy("ProtocolError");Me.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var s=Object.keys(this),a=s.length-1;a>-1;--a)if(r[s[a]]===1&&this[s[a]]!==void 0&&this[s[a]]!==null)return s[a]}};Me.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}};Me.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Me._configure=function(){var e=Me.Buffer;if(!e){Me._Buffer_from=Me._Buffer_allocUnsafe=null;return}Me._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,n){return new e(r,n)},Me._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var Sp=Qt((rw,Yy)=>{"use strict";Yy.exports=yt;var Wr=Ni(),pp,zu=Wr.LongBits,jy=Wr.base64,qy=Wr.utf8;function Xl(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function yp(){}function hS(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function yt(){this.len=0,this.head=new Xl(yp,0,0),this.tail=this.head,this.states=null}var Qy=function(){return Wr.Buffer?function(){return(yt.create=function(){return new pp})()}:function(){return new yt}};yt.create=Qy();yt.alloc=function(t){return new Wr.Array(t)};Wr.Array!==Array&&(yt.alloc=Wr.pool(yt.alloc,Wr.Array.prototype.subarray));yt.prototype._push=function(t,r,n){return this.tail=this.tail.next=new Xl(t,r,n),this.len+=r,this};function gp(e,t,r){t[r]=e&255}function yS(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function Ep(e,t){this.len=e,this.next=void 0,this.val=t}Ep.prototype=Object.create(Xl.prototype);Ep.prototype.fn=yS;yt.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new Ep((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};yt.prototype.int32=function(t){return t<0?this._push(Tp,10,zu.fromNumber(t)):this.uint32(t)};yt.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function Tp(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}yt.prototype.uint64=function(t){var r=zu.from(t);return this._push(Tp,r.length(),r)};yt.prototype.int64=yt.prototype.uint64;yt.prototype.sint64=function(t){var r=zu.from(t).zzEncode();return this._push(Tp,r.length(),r)};yt.prototype.bool=function(t){return this._push(gp,1,t?1:0)};function hp(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}yt.prototype.fixed32=function(t){return this._push(hp,4,t>>>0)};yt.prototype.sfixed32=yt.prototype.fixed32;yt.prototype.fixed64=function(t){var r=zu.from(t);return this._push(hp,4,r.lo)._push(hp,4,r.hi)};yt.prototype.sfixed64=yt.prototype.fixed64;yt.prototype.float=function(t){return this._push(Wr.float.writeFloatLE,4,t)};yt.prototype.double=function(t){return this._push(Wr.float.writeDoubleLE,8,t)};var gS=Wr.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var s=0;s<t.length;++s)r[n+s]=t[s]};yt.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(gp,1,0);if(Wr.isString(t)){var n=yt.alloc(r=jy.length(t));jy.decode(t,n,0),t=n}return this.uint32(r)._push(gS,r,t)};yt.prototype.string=function(t){var r=qy.length(t);return r?this.uint32(r)._push(qy.write,r,t):this._push(gp,1,0)};yt.prototype.fork=function(){return this.states=new hS(this),this.head=this.tail=new Xl(yp,0,0),this.len=0,this};yt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Xl(yp,0,0),this.len=0),this};yt.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};yt.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};yt._configure=function(e){pp=e,yt.create=Qy(),pp._configure()}});var Ky=Qt((ow,$y)=>{"use strict";$y.exports=Oo;var Jy=Sp();(Oo.prototype=Object.create(Jy.prototype)).constructor=Oo;var Mi=Ni();function Oo(){Jy.call(this)}Oo._configure=function(){Oo.alloc=Mi._Buffer_allocUnsafe,Oo.writeBytesBuffer=Mi.Buffer&&Mi.Buffer.prototype instanceof Uint8Array&&Mi.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var s=0;s<t.length;)r[n++]=t[s++]}};Oo.prototype.bytes=function(t){Mi.isString(t)&&(t=Mi._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(Oo.writeBytesBuffer,r,t),this};function ES(e,t,r){e.length<40?Mi.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}Oo.prototype.string=function(t){var r=Mi.Buffer.byteLength(t);return this.uint32(r),r&&this._push(ES,r,t),this};Oo._configure()});var vp=Qt((iw,ng)=>{"use strict";ng.exports=on;var ro=Ni(),bp,eg=ro.LongBits,TS=ro.utf8;function oo(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function on(e){this.buf=e,this.pos=0,this.len=e.length}var Zy=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new on(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new on(t);throw Error("illegal buffer")},tg=function(){return ro.Buffer?function(r){return(on.create=function(s){return ro.Buffer.isBuffer(s)?new bp(s):Zy(s)})(r)}:Zy};on.create=tg();on.prototype._slice=ro.Array.prototype.subarray||ro.Array.prototype.slice;on.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,oo(this,10);return t}}();on.prototype.int32=function(){return this.uint32()|0};on.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function xp(){var e=new eg(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw oo(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw oo(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}on.prototype.bool=function(){return this.uint32()!==0};function Du(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}on.prototype.fixed32=function(){if(this.pos+4>this.len)throw oo(this,4);return Du(this.buf,this.pos+=4)};on.prototype.sfixed32=function(){if(this.pos+4>this.len)throw oo(this,4);return Du(this.buf,this.pos+=4)|0};function Xy(){if(this.pos+8>this.len)throw oo(this,8);return new eg(Du(this.buf,this.pos+=4),Du(this.buf,this.pos+=4))}on.prototype.float=function(){if(this.pos+4>this.len)throw oo(this,4);var t=ro.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};on.prototype.double=function(){if(this.pos+8>this.len)throw oo(this,4);var t=ro.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};on.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw oo(this,t);if(this.pos+=t,Array.isArray(this.buf))return this.buf.slice(r,n);if(r===n){var s=ro.Buffer;return s?s.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,n)};on.prototype.string=function(){var t=this.bytes();return TS.read(t,0,t.length)};on.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw oo(this,t);this.pos+=t}else do if(this.pos>=this.len)throw oo(this);while(this.buf[this.pos++]&128);return this};on.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};on._configure=function(e){bp=e,on.create=tg(),bp._configure();var t=ro.Long?"toLong":"toNumber";ro.merge(on.prototype,{int64:function(){return xp.call(this)[t](!1)},uint64:function(){return xp.call(this)[t](!0)},sint64:function(){return xp.call(this).zzDecode()[t](!1)},fixed64:function(){return Xy.call(this)[t](!0)},sfixed64:function(){return Xy.call(this)[t](!1)}})}});var ag=Qt((aw,ig)=>{"use strict";ig.exports=da;var og=vp();(da.prototype=Object.create(og.prototype)).constructor=da;var rg=Ni();function da(e){og.call(this,e)}da._configure=function(){rg.Buffer&&(da.prototype._slice=rg.Buffer.prototype.slice)};da.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};da._configure()});var lg=Qt((sw,sg)=>{"use strict";sg.exports=ec;var wp=Ni();(ec.prototype=Object.create(wp.EventEmitter.prototype)).constructor=ec;function ec(e,t,r){if(typeof e!="function")throw TypeError("rpcImpl must be a function");wp.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}ec.prototype.rpcCall=function e(t,r,n,s,a){if(!s)throw TypeError("request must be specified");var f=this;if(!a)return wp.asPromise(e,f,t,r,n,s);if(!f.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return f.rpcImpl(t,r[f.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(l,y){if(l)return f.emit("error",l,t),a(l);if(y===null){f.end(!0);return}if(!(y instanceof n))try{y=n[f.responseDelimited?"decodeDelimited":"decode"](y)}catch(g){return f.emit("error",g,t),a(g)}return f.emit("data",y,t),a(null,y)})}catch(c){f.emit("error",c,t),setTimeout(function(){a(c)},0);return}};ec.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var ug=Qt(cg=>{"use strict";var SS=cg;SS.Service=lg()});var dg=Qt((cw,fg)=>{"use strict";fg.exports={}});var hg=Qt(pg=>{"use strict";var cr=pg;cr.build="minimal";cr.Writer=Sp();cr.BufferWriter=Ky();cr.Reader=vp();cr.BufferReader=ag();cr.util=Ni();cr.rpc=ug();cr.roots=dg();cr.configure=mg;function mg(){cr.util._configure(),cr.Writer._configure(cr.BufferWriter),cr.Reader._configure(cr.BufferReader)}mg()});var Le=Qt((fw,yg)=>{"use strict";yg.exports=hg()});var c2=Qt(ct=>{"use strict";var kc=Symbol.for("react.element"),Ob=Symbol.for("react.portal"),Bb=Symbol.for("react.fragment"),zb=Symbol.for("react.strict_mode"),Db=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),Fb=Symbol.for("react.forward_ref"),Vb=Symbol.for("react.suspense"),Wb=Symbol.for("react.memo"),Gb=Symbol.for("react.lazy"),ZE=Symbol.iterator;function Hb(e){return e===null||typeof e!="object"?null:(e=ZE&&e[ZE]||e["@@iterator"],typeof e=="function"?e:null)}var t2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n2=Object.assign,r2={};function ll(e,t,r){this.props=e,this.context=t,this.refs=r2,this.updater=r||t2}ll.prototype.isReactComponent={};ll.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ll.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function o2(){}o2.prototype=ll.prototype;function l0(e,t,r){this.props=e,this.context=t,this.refs=r2,this.updater=r||t2}var c0=l0.prototype=new o2;c0.constructor=l0;n2(c0,ll.prototype);c0.isPureReactComponent=!0;var XE=Array.isArray,i2=Object.prototype.hasOwnProperty,u0={current:null},a2={key:!0,ref:!0,__self:!0,__source:!0};function s2(e,t,r){var n,s={},a=null,f=null;if(t!=null)for(n in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(a=""+t.key),t)i2.call(t,n)&&!a2.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var l=Array(c),y=0;y<c;y++)l[y]=arguments[y+2];s.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:kc,type:e,key:a,ref:f,props:s,_owner:u0.current}}function jb(e,t){return{$$typeof:kc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function f0(e){return typeof e=="object"&&e!==null&&e.$$typeof===kc}function qb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var e2=/\/+/g;function s0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qb(""+e.key):t.toString(36)}function xd(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(a){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case kc:case Ob:f=!0}}if(f)return f=e,s=s(f),e=n===""?"."+s0(f,0):n,XE(s)?(r="",e!=null&&(r=e.replace(e2,"$&/")+"/"),xd(s,t,r,"",function(y){return y})):s!=null&&(f0(s)&&(s=jb(s,r+(!s.key||f&&f.key===s.key?"":(""+s.key).replace(e2,"$&/")+"/")+e)),t.push(s)),1;if(f=0,n=n===""?".":n+":",XE(e))for(var c=0;c<e.length;c++){a=e[c];var l=n+s0(a,c);f+=xd(a,t,r,l,s)}else if(l=Hb(e),typeof l=="function")for(e=l.call(e),c=0;!(a=e.next()).done;)a=a.value,l=n+s0(a,c++),f+=xd(a,t,r,l,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function Sd(e,t,r){if(e==null)return e;var n=[],s=0;return xd(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Qb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $n={current:null},bd={transition:null},Yb={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:bd,ReactCurrentOwner:u0};function l2(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:Sd,forEach:function(e,t,r){Sd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Sd(e,function(){t++}),t},toArray:function(e){return Sd(e,function(t){return t})||[]},only:function(e){if(!f0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ct.Component=ll;ct.Fragment=Bb;ct.Profiler=Db;ct.PureComponent=l0;ct.StrictMode=zb;ct.Suspense=Vb;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yb;ct.act=l2;ct.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=n2({},e.props),s=e.key,a=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,f=u0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)i2.call(t,l)&&!a2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var y=0;y<l;y++)c[y]=arguments[y+2];n.children=c}return{$$typeof:kc,type:e.type,key:s,ref:a,props:n,_owner:f}};ct.createContext=function(e){return e={$$typeof:Lb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ub,_context:e},e.Consumer=e};ct.createElement=s2;ct.createFactory=function(e){var t=s2.bind(null,e);return t.type=e,t};ct.createRef=function(){return{current:null}};ct.forwardRef=function(e){return{$$typeof:Fb,render:e}};ct.isValidElement=f0;ct.lazy=function(e){return{$$typeof:Gb,_payload:{_status:-1,_result:e},_init:Qb}};ct.memo=function(e,t){return{$$typeof:Wb,type:e,compare:t===void 0?null:t}};ct.startTransition=function(e){var t=bd.transition;bd.transition={};try{e()}finally{bd.transition=t}};ct.unstable_act=l2;ct.useCallback=function(e,t){return $n.current.useCallback(e,t)};ct.useContext=function(e){return $n.current.useContext(e)};ct.useDebugValue=function(){};ct.useDeferredValue=function(e){return $n.current.useDeferredValue(e)};ct.useEffect=function(e,t){return $n.current.useEffect(e,t)};ct.useId=function(){return $n.current.useId()};ct.useImperativeHandle=function(e,t,r){return $n.current.useImperativeHandle(e,t,r)};ct.useInsertionEffect=function(e,t){return $n.current.useInsertionEffect(e,t)};ct.useLayoutEffect=function(e,t){return $n.current.useLayoutEffect(e,t)};ct.useMemo=function(e,t){return $n.current.useMemo(e,t)};ct.useReducer=function(e,t,r){return $n.current.useReducer(e,t,r)};ct.useRef=function(e){return $n.current.useRef(e)};ct.useState=function(e){return $n.current.useState(e)};ct.useSyncExternalStore=function(e,t,r){return $n.current.useSyncExternalStore(e,t,r)};ct.useTransition=function(){return $n.current.useTransition()};ct.version="18.3.1"});var d0=Qt((cO,u2)=>{"use strict";u2.exports=c2()});var x2=Qt(Bt=>{"use strict";function y0(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,s=e[n];if(0<vd(s,t))e[n]=t,e[r]=s,r=n;else break e}}function fo(e){return e.length===0?null:e[0]}function kd(e){if(e.length===0)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length,a=s>>>1;n<a;){var f=2*(n+1)-1,c=e[f],l=f+1,y=e[l];if(0>vd(c,r))l<s&&0>vd(y,c)?(e[n]=y,e[l]=r,n=l):(e[n]=c,e[f]=r,n=f);else if(l<s&&0>vd(y,r))e[n]=y,e[l]=r,n=l;else break e}}return t}function vd(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(d2=performance,Bt.unstable_now=function(){return d2.now()}):(m0=Date,m2=m0.now(),Bt.unstable_now=function(){return m0.now()-m2});var d2,m0,m2,Wo=[],Wi=[],Jb=1,qr=null,Yn=3,Cd=!1,Ia=!1,Ic=!1,y2=typeof setTimeout=="function"?setTimeout:null,g2=typeof clearTimeout=="function"?clearTimeout:null,p2=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g0(e){for(var t=fo(Wi);t!==null;){if(t.callback===null)kd(Wi);else if(t.startTime<=e)kd(Wi),t.sortIndex=t.expirationTime,y0(Wo,t);else break;t=fo(Wi)}}function E0(e){if(Ic=!1,g0(e),!Ia)if(fo(Wo)!==null)Ia=!0,S0(T0);else{var t=fo(Wi);t!==null&&x0(E0,t.startTime-e)}}function T0(e,t){Ia=!1,Ic&&(Ic=!1,g2(Ac),Ac=-1),Cd=!0;var r=Yn;try{for(g0(t),qr=fo(Wo);qr!==null&&(!(qr.expirationTime>t)||e&&!S2());){var n=qr.callback;if(typeof n=="function"){qr.callback=null,Yn=qr.priorityLevel;var s=n(qr.expirationTime<=t);t=Bt.unstable_now(),typeof s=="function"?qr.callback=s:qr===fo(Wo)&&kd(Wo),g0(t)}else kd(Wo);qr=fo(Wo)}if(qr!==null)var a=!0;else{var f=fo(Wi);f!==null&&x0(E0,f.startTime-t),a=!1}return a}finally{qr=null,Yn=r,Cd=!1}}var Id=!1,wd=null,Ac=-1,E2=5,T2=-1;function S2(){return!(Bt.unstable_now()-T2<E2)}function p0(){if(wd!==null){var e=Bt.unstable_now();T2=e;var t=!0;try{t=wd(!0,e)}finally{t?Cc():(Id=!1,wd=null)}}else Id=!1}var Cc;typeof p2=="function"?Cc=function(){p2(p0)}:typeof MessageChannel<"u"?(h0=new MessageChannel,h2=h0.port2,h0.port1.onmessage=p0,Cc=function(){h2.postMessage(null)}):Cc=function(){y2(p0,0)};var h0,h2;function S0(e){wd=e,Id||(Id=!0,Cc())}function x0(e,t){Ac=y2(function(){e(Bt.unstable_now())},t)}Bt.unstable_IdlePriority=5;Bt.unstable_ImmediatePriority=1;Bt.unstable_LowPriority=4;Bt.unstable_NormalPriority=3;Bt.unstable_Profiling=null;Bt.unstable_UserBlockingPriority=2;Bt.unstable_cancelCallback=function(e){e.callback=null};Bt.unstable_continueExecution=function(){Ia||Cd||(Ia=!0,S0(T0))};Bt.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E2=0<e?Math.floor(1e3/e):5};Bt.unstable_getCurrentPriorityLevel=function(){return Yn};Bt.unstable_getFirstCallbackNode=function(){return fo(Wo)};Bt.unstable_next=function(e){switch(Yn){case 1:case 2:case 3:var t=3;break;default:t=Yn}var r=Yn;Yn=t;try{return e()}finally{Yn=r}};Bt.unstable_pauseExecution=function(){};Bt.unstable_requestPaint=function(){};Bt.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=Yn;Yn=e;try{return t()}finally{Yn=r}};Bt.unstable_scheduleCallback=function(e,t,r){var n=Bt.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=r+s,e={id:Jb++,callback:t,priorityLevel:e,startTime:r,expirationTime:s,sortIndex:-1},r>n?(e.sortIndex=r,y0(Wi,e),fo(Wo)===null&&e===fo(Wi)&&(Ic?(g2(Ac),Ac=-1):Ic=!0,x0(E0,r-n))):(e.sortIndex=s,y0(Wo,e),Ia||Cd||(Ia=!0,S0(T0))),e};Bt.unstable_shouldYield=S2;Bt.unstable_wrapCallback=function(e){var t=Yn;return function(){var r=Yn;Yn=t;try{return e.apply(this,arguments)}finally{Yn=r}}}});var v2=Qt((dO,b2)=>{"use strict";b2.exports=x2()});var k2=Qt((mO,w2)=>{"use strict";w2.exports=function(t){var r={},n=d0(),s=v2(),a=Object.assign;function f(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),y=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var ae=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Ae=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=Ae&&o[Ae]||o["@@iterator"],typeof o=="function"?o:null)}function j(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case g:return"Fragment";case y:return"Portal";case w:return"Profiler";case M:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case P:return(o.displayName||"Context")+".Consumer";case I:return(o._context.displayName||"Context")+".Provider";case S:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case N:return i=o.displayName||null,i!==null?i:j(o.type)||"Memo";case F:i=o._payload,o=o._init;try{return j(o(i))}catch{}}return null}function se(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(i);case 8:return i===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function oe(o){var i=o,u=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,i.flags&4098&&(u=i.return),o=i.return;while(o)}return i.tag===3?u:null}function $(o){if(oe(o)!==o)throw Error(f(188))}function A(o){var i=o.alternate;if(!i){if(i=oe(o),i===null)throw Error(f(188));return i!==o?null:o}for(var u=o,d=i;;){var m=u.return;if(m===null)break;var h=m.alternate;if(h===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===h.child){for(h=m.child;h;){if(h===u)return $(m),o;if(h===d)return $(m),i;h=h.sibling}throw Error(f(188))}if(u.return!==d.return)u=m,d=h;else{for(var T=!1,z=m.child;z;){if(z===u){T=!0,u=m,d=h;break}if(z===d){T=!0,d=m,u=h;break}z=z.sibling}if(!T){for(z=h.child;z;){if(z===u){T=!0,u=h,d=m;break}if(z===d){T=!0,d=h,u=m;break}z=z.sibling}if(!T)throw Error(f(189))}}if(u.alternate!==d)throw Error(f(190))}if(u.tag!==3)throw Error(f(188));return u.stateNode.current===u?o:i}function O(o){return o=A(o),o!==null?H(o):null}function H(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=H(o);if(i!==null)return i;o=o.sibling}return null}function le(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){if(o.tag!==4){var i=le(o);if(i!==null)return i}o=o.sibling}return null}var he=Array.isArray,Re=t.getPublicInstance,$e=t.getRootHostContext,Ke=t.getChildHostContext,ot=t.prepareForCommit,it=t.resetAfterCommit,pt=t.createInstance,ut=t.appendInitialChild,Nt=t.finalizeInitialChildren,tt=t.prepareUpdate,Rn=t.shouldSetTextContent,W=t.createTextInstance,X=t.scheduleTimeout,ye=t.cancelTimeout,U=t.noTimeout,J=t.isPrimaryRenderer,ve=t.supportsMutation,Tt=t.supportsPersistence,Dn=t.supportsHydration,Tl=t.getInstanceFromNode,za=t.preparePortalMount,Sl=t.getCurrentEventPriority,Ji=t.detachDeletedInstance,xl=t.supportsMicrotasks,Da=t.scheduleMicrotask,qo=t.supportsTestSelectors,$i=t.findFiberRoot,zt=t.getBoundingRect,Ua=t.getTextContent,Qo=t.isHiddenSubtree,La=t.matchAccessibilityRole,bl=t.setFocusIfFocusable,Fa=t.setupIntersectionObserver,Va=t.appendChild,vl=t.appendChildToContainer,Wa=t.commitTextUpdate,Yo=t.commitMount,wl=t.commitUpdate,Ki=t.insertBefore,kl=t.insertInContainerBefore,Cl=t.removeChild,Ga=t.removeChildFromContainer,Zi=t.resetTextContent,Il=t.hideInstance,Al=t.hideTextInstance,v=t.unhideInstance,_=t.unhideTextInstance,G=t.clearContainer,ge=t.cloneInstance,me=t.createContainerChildSet,we=t.appendChildToContainerChildSet,Ve=t.finalizeContainerChildren,Ft=t.replaceContainerChildren,un=t.cloneHiddenInstance,Vt=t.cloneHiddenTextInstance,Jr=t.canHydrateInstance,Jo=t.canHydrateTextInstance,bo=t.canHydrateSuspenseInstance,vo=t.isSuspenseInstancePending,Rl=t.isSuspenseInstanceFallback,rm=t.getSuspenseInstanceFallbackErrorDetails,Lc=t.registerSuspenseInstanceRetry,Ha=t.getNextHydratableSibling,om=t.getFirstHydratableChild,fn=t.getFirstHydratableChildWithinContainer,E=t.getFirstHydratableChildWithinSuspenseInstance,b=t.hydrateInstance,C=t.hydrateTextInstance,R=t.hydrateSuspenseInstance,D=t.getNextHydratableInstanceAfterSuspenseInstance,ee=t.commitHydratedContainer,Z=t.commitHydratedSuspenseInstance,de=t.clearSuspenseBoundary,Ce=t.clearSuspenseBoundaryFromContainer,Ue=t.shouldDeleteUnhydratedTailInstances,Ge=t.didNotMatchHydratedContainerTextInstance,ht=t.didNotMatchHydratedTextInstance,We;function Rt(o){if(We===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);We=i&&i[1]||""}return`
`+We+o}var Dt=!1;function $t(o,i){if(!o||Dt)return"";Dt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(fe){var d=fe}Reflect.construct(o,[],i)}else{try{i.call()}catch(fe){d=fe}o.call(i.prototype)}else{try{throw Error()}catch(fe){d=fe}o()}}catch(fe){if(fe&&d&&typeof fe.stack=="string"){for(var m=fe.stack.split(`
`),h=d.stack.split(`
`),T=m.length-1,z=h.length-1;1<=T&&0<=z&&m[T]!==h[z];)z--;for(;1<=T&&0<=z;T--,z--)if(m[T]!==h[z]){if(T!==1||z!==1)do if(T--,z--,0>z||m[T]!==h[z]){var Y=`
`+m[T].replace(" at new "," at ");return o.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",o.displayName)),Y}while(1<=T&&0<=z);break}}}finally{Dt=!1,Error.prepareStackTrace=u}return(o=o?o.displayName||o.name:"")?Rt(o):""}var Wt=Object.prototype.hasOwnProperty,Oe=[],en=-1;function tn(o){return{current:o}}function at(o){0>en||(o.current=Oe[en],Oe[en]=null,en--)}function nt(o,i){en++,Oe[en]=o.current,o.current=i}var nn={},It=tn(nn),Mt=tn(!1),Pn=nn;function Un(o,i){var u=o.type.contextTypes;if(!u)return nn;var d=o.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var m={},h;for(h in u)m[h]=i[h];return d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=m),m}function Gt(o){return o=o.childContextTypes,o!=null}function Nr(){at(Mt),at(It)}function wo(o,i,u){if(It.current!==nn)throw Error(f(168));nt(It,i),nt(Mt,u)}function Ht(o,i,u){var d=o.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in i))throw Error(f(108,se(o)||"Unknown",m));return a({},u,d)}function Mr(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||nn,Pn=It.current,nt(It,o),nt(Mt,Mt.current),!0}function ko(o,i,u){var d=o.stateNode;if(!d)throw Error(f(169));u?(o=Ht(o,i,Pn),d.__reactInternalMemoizedMergedChildContext=o,at(Mt),at(It),nt(It,o)):at(Mt),nt(Mt,u)}var dn=Math.clz32?Math.clz32:Zo,$o=Math.log,Ko=Math.LN2;function Zo(o){return o>>>=0,o===0?32:31-($o(o)/Ko|0)|0}var _r=64,Xi=4194304;function Ti(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ea(o,i){var u=o.pendingLanes;if(u===0)return 0;var d=0,m=o.suspendedLanes,h=o.pingedLanes,T=u&268435455;if(T!==0){var z=T&~m;z!==0?d=Ti(z):(h&=T,h!==0&&(d=Ti(h)))}else T=u&~m,T!==0?d=Ti(T):h!==0&&(d=Ti(h));if(d===0)return 0;if(i!==0&&i!==d&&!(i&m)&&(m=d&-d,h=i&-i,m>=h||m===16&&(h&4194240)!==0))return i;if(d&4&&(d|=u&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=d;0<i;)u=31-dn(i),m=1<<u,d|=o[u],i&=~m;return d}function Fc(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vc(o,i){for(var u=o.suspendedLanes,d=o.pingedLanes,m=o.expirationTimes,h=o.pendingLanes;0<h;){var T=31-dn(h),z=1<<T,Y=m[T];Y===-1?(!(z&u)||z&d)&&(m[T]=Fc(z,i)):Y<=i&&(o.expiredLanes|=z),h&=~z}}function Pl(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Wc(){var o=_r;return _r<<=1,!(_r&4194240)&&(_r=64),o}function Nl(o){for(var i=[],u=0;31>u;u++)i.push(o);return i}function ta(o,i,u){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-dn(i),o[i]=u}function im(o,i){var u=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var d=o.eventTimes;for(o=o.expirationTimes;0<u;){var m=31-dn(u),h=1<<m;i[m]=0,d[m]=-1,o[m]=-1,u&=~h}}function Ml(o,i){var u=o.entangledLanes|=i;for(o=o.entanglements;u;){var d=31-dn(u),m=1<<d;m&i|o[d]&i&&(o[d]|=i),u&=~m}}var dt=0;function Gc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var _l=s.unstable_scheduleCallback,Hc=s.unstable_cancelCallback,am=s.unstable_shouldYield,sm=s.unstable_requestPaint,xn=s.unstable_now,lm=s.unstable_ImmediatePriority,bT=s.unstable_UserBlockingPriority,cm=s.unstable_NormalPriority,vT=s.unstable_IdlePriority,jc=null,Co=null;function wT(o){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(jc,o,void 0,(o.current.flags&128)===128)}catch{}}function kT(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var $r=typeof Object.is=="function"?Object.is:kT,Xo=null,qc=!1,um=!1;function j0(o){Xo===null?Xo=[o]:Xo.push(o)}function CT(o){qc=!0,j0(o)}function Io(){if(!um&&Xo!==null){um=!0;var o=0,i=dt;try{var u=Xo;for(dt=1;o<u.length;o++){var d=u[o];do d=d(!0);while(d!==null)}Xo=null,qc=!1}catch(m){throw Xo!==null&&(Xo=Xo.slice(o+1)),_l(lm,Io),m}finally{dt=i,um=!1}}return null}var ja=[],qa=0,Qc=null,Yc=0,Or=[],Br=0,na=null,ei=1,ti="";function ra(o,i){ja[qa++]=Yc,ja[qa++]=Qc,Qc=o,Yc=i}function q0(o,i,u){Or[Br++]=ei,Or[Br++]=ti,Or[Br++]=na,na=o;var d=ei;o=ti;var m=32-dn(d)-1;d&=~(1<<m),u+=1;var h=32-dn(i)+m;if(30<h){var T=m-m%5;h=(d&(1<<T)-1).toString(32),d>>=T,m-=T,ei=1<<32-dn(i)+m|u<<m|d,ti=h+o}else ei=1<<h|u<<m|d,ti=o}function fm(o){o.return!==null&&(ra(o,1),q0(o,1,0))}function dm(o){for(;o===Qc;)Qc=ja[--qa],ja[qa]=null,Yc=ja[--qa],ja[qa]=null;for(;o===na;)na=Or[--Br],Or[Br]=null,ti=Or[--Br],Or[Br]=null,ei=Or[--Br],Or[Br]=null}var gr=null,zr=null,jt=!1,Ol=!1,Kr=null;function Q0(o,i){var u=Vr(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=o,i=o.deletions,i===null?(o.deletions=[u],o.flags|=16):i.push(u)}function Y0(o,i){switch(o.tag){case 5:return i=Jr(i,o.type,o.pendingProps),i!==null?(o.stateNode=i,gr=o,zr=om(i),!0):!1;case 6:return i=Jo(i,o.pendingProps),i!==null?(o.stateNode=i,gr=o,zr=null,!0):!1;case 13:if(i=bo(i),i!==null){var u=na!==null?{id:ei,overflow:ti}:null;return o.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Vr(18,null,null,0),u.stateNode=i,u.return=o,o.child=u,gr=o,zr=null,!0}return!1;default:return!1}}function mm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function pm(o){if(jt){var i=zr;if(i){var u=i;if(!Y0(o,i)){if(mm(o))throw Error(f(418));i=Ha(u);var d=gr;i&&Y0(o,i)?Q0(d,u):(o.flags=o.flags&-4097|2,jt=!1,gr=o)}}else{if(mm(o))throw Error(f(418));o.flags=o.flags&-4097|2,jt=!1,gr=o}}}function J0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;gr=o}function Jc(o){if(!Dn||o!==gr)return!1;if(!jt)return J0(o),jt=!0,!1;if(o.tag!==3&&(o.tag!==5||Ue(o.type)&&!Rn(o.type,o.memoizedProps))){var i=zr;if(i){if(mm(o))throw $0(),Error(f(418));for(;i;)Q0(o,i),i=Ha(i)}}if(J0(o),o.tag===13){if(!Dn)throw Error(f(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(f(317));zr=D(o)}else zr=gr?Ha(o.stateNode):null;return!0}function $0(){for(var o=zr;o;)o=Ha(o)}function Qa(){Dn&&(zr=gr=null,Ol=jt=!1)}function hm(o){Kr===null?Kr=[o]:Kr.push(o)}var IT=c.ReactCurrentBatchConfig;function $c(o,i){if($r(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var u=Object.keys(o),d=Object.keys(i);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!Wt.call(i,m)||!$r(o[m],i[m]))return!1}return!0}function AT(o){switch(o.tag){case 5:return Rt(o.type);case 16:return Rt("Lazy");case 13:return Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 2:case 15:return o=$t(o.type,!1),o;case 11:return o=$t(o.type.render,!1),o;case 1:return o=$t(o.type,!0),o;default:return""}}function Bl(o,i,u){if(o=u.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(f(309));var d=u.stateNode}if(!d)throw Error(f(147,o));var m=d,h=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===h?i.ref:(i=function(T){var z=m.refs;T===null?delete z[h]:z[h]=T},i._stringRef=h,i)}if(typeof o!="string")throw Error(f(284));if(!u._owner)throw Error(f(290,o))}return o}function Kc(o,i){throw o=Object.prototype.toString.call(i),Error(f(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function K0(o){var i=o._init;return i(o._payload)}function Z0(o){function i(q,L){if(o){var K=q.deletions;K===null?(q.deletions=[L],q.flags|=16):K.push(L)}}function u(q,L){if(!o)return null;for(;L!==null;)i(q,L),L=L.sibling;return null}function d(q,L){for(q=new Map;L!==null;)L.key!==null?q.set(L.key,L):q.set(L.index,L),L=L.sibling;return q}function m(q,L){return q=Ci(q,L),q.index=0,q.sibling=null,q}function h(q,L,K){return q.index=K,o?(K=q.alternate,K!==null?(K=K.index,K<L?(q.flags|=2,L):K):(q.flags|=2,L)):(q.flags|=1048576,L)}function T(q){return o&&q.alternate===null&&(q.flags|=2),q}function z(q,L,K,Se){return L===null||L.tag!==6?(L=up(K,q.mode,Se),L.return=q,L):(L=m(L,K),L.return=q,L)}function Y(q,L,K,Se){var ze=K.type;return ze===g?Ie(q,L,K.props.children,Se,K.key):L!==null&&(L.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===F&&K0(ze)===L.type)?(Se=m(L,K.props),Se.ref=Bl(q,L,K),Se.return=q,Se):(Se=Au(K.type,K.key,K.props,null,q.mode,Se),Se.ref=Bl(q,L,K),Se.return=q,Se)}function fe(q,L,K,Se){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=fp(K,q.mode,Se),L.return=q,L):(L=m(L,K.children||[]),L.return=q,L)}function Ie(q,L,K,Se,ze){return L===null||L.tag!==7?(L=ua(K,q.mode,Se,ze),L.return=q,L):(L=m(L,K),L.return=q,L)}function Qe(q,L,K){if(typeof L=="string"&&L!==""||typeof L=="number")return L=up(""+L,q.mode,K),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case l:return K=Au(L.type,L.key,L.props,null,q.mode,K),K.ref=Bl(q,null,L),K.return=q,K;case y:return L=fp(L,q.mode,K),L.return=q,L;case F:var Se=L._init;return Qe(q,Se(L._payload),K)}if(he(L)||ne(L))return L=ua(L,q.mode,K,null),L.return=q,L;Kc(q,L)}return null}function Te(q,L,K,Se){var ze=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ze!==null?null:z(q,L,""+K,Se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case l:return K.key===ze?Y(q,L,K,Se):null;case y:return K.key===ze?fe(q,L,K,Se):null;case F:return ze=K._init,Te(q,L,ze(K._payload),Se)}if(he(K)||ne(K))return ze!==null?null:Ie(q,L,K,Se,null);Kc(q,K)}return null}function Ut(q,L,K,Se,ze){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return q=q.get(K)||null,z(L,q,""+Se,ze);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return q=q.get(Se.key===null?K:Se.key)||null,Y(L,q,Se,ze);case y:return q=q.get(Se.key===null?K:Se.key)||null,fe(L,q,Se,ze);case F:var Xe=Se._init;return Ut(q,L,K,Xe(Se._payload),ze)}if(he(Se)||ne(Se))return q=q.get(K)||null,Ie(L,q,Se,ze,null);Kc(L,Se)}return null}function Pt(q,L,K,Se){for(var ze=null,Xe=null,Ye=L,St=L=0,wn=null;Ye!==null&&St<K.length;St++){Ye.index>St?(wn=Ye,Ye=null):wn=Ye.sibling;var xt=Te(q,Ye,K[St],Se);if(xt===null){Ye===null&&(Ye=wn);break}o&&Ye&&xt.alternate===null&&i(q,Ye),L=h(xt,L,St),Xe===null?ze=xt:Xe.sibling=xt,Xe=xt,Ye=wn}if(St===K.length)return u(q,Ye),jt&&ra(q,St),ze;if(Ye===null){for(;St<K.length;St++)Ye=Qe(q,K[St],Se),Ye!==null&&(L=h(Ye,L,St),Xe===null?ze=Ye:Xe.sibling=Ye,Xe=Ye);return jt&&ra(q,St),ze}for(Ye=d(q,Ye);St<K.length;St++)wn=Ut(Ye,q,St,K[St],Se),wn!==null&&(o&&wn.alternate!==null&&Ye.delete(wn.key===null?St:wn.key),L=h(wn,L,St),Xe===null?ze=wn:Xe.sibling=wn,Xe=wn);return o&&Ye.forEach(function(Ii){return i(q,Ii)}),jt&&ra(q,St),ze}function lr(q,L,K,Se){var ze=ne(K);if(typeof ze!="function")throw Error(f(150));if(K=ze.call(K),K==null)throw Error(f(151));for(var Xe=ze=null,Ye=L,St=L=0,wn=null,xt=K.next();Ye!==null&&!xt.done;St++,xt=K.next()){Ye.index>St?(wn=Ye,Ye=null):wn=Ye.sibling;var Ii=Te(q,Ye,xt.value,Se);if(Ii===null){Ye===null&&(Ye=wn);break}o&&Ye&&Ii.alternate===null&&i(q,Ye),L=h(Ii,L,St),Xe===null?ze=Ii:Xe.sibling=Ii,Xe=Ii,Ye=wn}if(xt.done)return u(q,Ye),jt&&ra(q,St),ze;if(Ye===null){for(;!xt.done;St++,xt=K.next())xt=Qe(q,xt.value,Se),xt!==null&&(L=h(xt,L,St),Xe===null?ze=xt:Xe.sibling=xt,Xe=xt);return jt&&ra(q,St),ze}for(Ye=d(q,Ye);!xt.done;St++,xt=K.next())xt=Ut(Ye,q,St,xt.value,Se),xt!==null&&(o&&xt.alternate!==null&&Ye.delete(xt.key===null?St:xt.key),L=h(xt,L,St),Xe===null?ze=xt:Xe.sibling=xt,Xe=xt);return o&&Ye.forEach(function(oS){return i(q,oS)}),jt&&ra(q,St),ze}function ii(q,L,K,Se){if(typeof K=="object"&&K!==null&&K.type===g&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case l:e:{for(var ze=K.key,Xe=L;Xe!==null;){if(Xe.key===ze){if(ze=K.type,ze===g){if(Xe.tag===7){u(q,Xe.sibling),L=m(Xe,K.props.children),L.return=q,q=L;break e}}else if(Xe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===F&&K0(ze)===Xe.type){u(q,Xe.sibling),L=m(Xe,K.props),L.ref=Bl(q,Xe,K),L.return=q,q=L;break e}u(q,Xe);break}else i(q,Xe);Xe=Xe.sibling}K.type===g?(L=ua(K.props.children,q.mode,Se,K.key),L.return=q,q=L):(Se=Au(K.type,K.key,K.props,null,q.mode,Se),Se.ref=Bl(q,L,K),Se.return=q,q=Se)}return T(q);case y:e:{for(Xe=K.key;L!==null;){if(L.key===Xe)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){u(q,L.sibling),L=m(L,K.children||[]),L.return=q,q=L;break e}else{u(q,L);break}else i(q,L);L=L.sibling}L=fp(K,q.mode,Se),L.return=q,q=L}return T(q);case F:return Xe=K._init,ii(q,L,Xe(K._payload),Se)}if(he(K))return Pt(q,L,K,Se);if(ne(K))return lr(q,L,K,Se);Kc(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,L!==null&&L.tag===6?(u(q,L.sibling),L=m(L,K),L.return=q,q=L):(u(q,L),L=up(K,q.mode,Se),L.return=q,q=L),T(q)):u(q,L)}return ii}var Ya=Z0(!0),X0=Z0(!1),Zc=tn(null),Xc=null,Ja=null,ym=null;function gm(){ym=Ja=Xc=null}function eh(o,i,u){J?(nt(Zc,i._currentValue),i._currentValue=u):(nt(Zc,i._currentValue2),i._currentValue2=u)}function Em(o){var i=Zc.current;at(Zc),J?o._currentValue=i:o._currentValue2=i}function Tm(o,i,u){for(;o!==null;){var d=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),o===u)break;o=o.return}}function $a(o,i){Xc=o,ym=Ja=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&i&&(ir=!0),o.firstContext=null)}function Dr(o){var i=J?o._currentValue:o._currentValue2;if(ym!==o)if(o={context:o,memoizedValue:i,next:null},Ja===null){if(Xc===null)throw Error(f(308));Ja=o,Xc.dependencies={lanes:0,firstContext:o}}else Ja=Ja.next=o;return i}var oa=null;function Sm(o){oa===null?oa=[o]:oa.push(o)}function th(o,i,u,d){var m=i.interleaved;return m===null?(u.next=u,Sm(i)):(u.next=m.next,m.next=u),i.interleaved=u,Ao(o,d)}function Ao(o,i){o.lanes|=i;var u=o.alternate;for(u!==null&&(u.lanes|=i),u=o,o=o.return;o!==null;)o.childLanes|=i,u=o.alternate,u!==null&&(u.childLanes|=i),u=o,o=o.return;return u.tag===3?u.stateNode:null}var Si=!1;function xm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ni(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function xi(o,i,u){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,st&2){var m=d.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),d.pending=i,Ao(o,u)}return m=d.interleaved,m===null?(i.next=i,Sm(d)):(i.next=m.next,m.next=i),d.interleaved=i,Ao(o,u)}function eu(o,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var d=i.lanes;d&=o.pendingLanes,u|=d,i.lanes=u,Ml(o,u)}}function rh(o,i){var u=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,h=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};h===null?m=h=T:h=h.next=T,u=u.next}while(u!==null);h===null?m=h=i:h=h.next=i}else m=h=i;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:h,shared:d.shared,effects:d.effects},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=i:o.next=i,u.lastBaseUpdate=i}function tu(o,i,u,d){var m=o.updateQueue;Si=!1;var h=m.firstBaseUpdate,T=m.lastBaseUpdate,z=m.shared.pending;if(z!==null){m.shared.pending=null;var Y=z,fe=Y.next;Y.next=null,T===null?h=fe:T.next=fe,T=Y;var Ie=o.alternate;Ie!==null&&(Ie=Ie.updateQueue,z=Ie.lastBaseUpdate,z!==T&&(z===null?Ie.firstBaseUpdate=fe:z.next=fe,Ie.lastBaseUpdate=Y))}if(h!==null){var Qe=m.baseState;T=0,Ie=fe=Y=null,z=h;do{var Te=z.lane,Ut=z.eventTime;if((d&Te)===Te){Ie!==null&&(Ie=Ie.next={eventTime:Ut,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Pt=o,lr=z;switch(Te=i,Ut=u,lr.tag){case 1:if(Pt=lr.payload,typeof Pt=="function"){Qe=Pt.call(Ut,Qe,Te);break e}Qe=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=lr.payload,Te=typeof Pt=="function"?Pt.call(Ut,Qe,Te):Pt,Te==null)break e;Qe=a({},Qe,Te);break e;case 2:Si=!0}}z.callback!==null&&z.lane!==0&&(o.flags|=64,Te=m.effects,Te===null?m.effects=[z]:Te.push(z))}else Ut={eventTime:Ut,lane:Te,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Ie===null?(fe=Ie=Ut,Y=Qe):Ie=Ie.next=Ut,T|=Te;if(z=z.next,z===null){if(z=m.shared.pending,z===null)break;Te=z,z=Te.next,Te.next=null,m.lastBaseUpdate=Te,m.shared.pending=null}}while(1);if(Ie===null&&(Y=Qe),m.baseState=Y,m.firstBaseUpdate=fe,m.lastBaseUpdate=Ie,i=m.shared.interleaved,i!==null){m=i;do T|=m.lane,m=m.next;while(m!==i)}else h===null&&(m.shared.lanes=0);aa|=T,o.lanes=T,o.memoizedState=Qe}}function oh(o,i,u){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var d=o[i],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(f(191,m));m.call(d)}}}var zl={},Ur=tn(zl),Dl=tn(zl),Ka=tn(zl);function Ro(o){if(o===zl)throw Error(f(174));return o}function bm(o,i){nt(Ka,i),nt(Dl,o),nt(Ur,zl),o=$e(i),at(Ur),nt(Ur,o)}function Za(){at(Ur),at(Dl),at(Ka)}function ih(o){var i=Ro(Ka.current),u=Ro(Ur.current);i=Ke(u,o.type,i),u!==i&&(nt(Dl,o),nt(Ur,i))}function vm(o){Dl.current===o&&(at(Ur),at(Dl))}var Kt=tn(0);function nu(o){for(var i=o;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||vo(u)||Rl(u)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var wm=[];function km(){for(var o=0;o<wm.length;o++){var i=wm[o];J?i._workInProgressVersionPrimary=null:i._workInProgressVersionSecondary=null}wm.length=0}var ru=c.ReactCurrentDispatcher,Cm=c.ReactCurrentBatchConfig,ia=0,Zt=null,mn=null,bn=null,ou=!1,Ul=!1,Ll=0,RT=0;function Ln(){throw Error(f(321))}function Im(o,i){if(i===null)return!1;for(var u=0;u<i.length&&u<o.length;u++)if(!$r(o[u],i[u]))return!1;return!0}function Am(o,i,u,d,m,h){if(ia=h,Zt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ru.current=o===null||o.memoizedState===null?_T:OT,o=u(d,m),Ul){h=0;do{if(Ul=!1,Ll=0,25<=h)throw Error(f(301));h+=1,bn=mn=null,i.updateQueue=null,ru.current=BT,o=u(d,m)}while(Ul)}if(ru.current=su,i=mn!==null&&mn.next!==null,ia=0,bn=mn=Zt=null,ou=!1,i)throw Error(f(300));return o}function Rm(){var o=Ll!==0;return Ll=0,o}function Po(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Zt.memoizedState=bn=o:bn=bn.next=o,bn}function Lr(){if(mn===null){var o=Zt.alternate;o=o!==null?o.memoizedState:null}else o=mn.next;var i=bn===null?Zt.memoizedState:bn.next;if(i!==null)bn=i,mn=o;else{if(o===null)throw Error(f(310));mn=o,o={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},bn===null?Zt.memoizedState=bn=o:bn=bn.next=o}return bn}function Fl(o,i){return typeof i=="function"?i(o):i}function Pm(o){var i=Lr(),u=i.queue;if(u===null)throw Error(f(311));u.lastRenderedReducer=o;var d=mn,m=d.baseQueue,h=u.pending;if(h!==null){if(m!==null){var T=m.next;m.next=h.next,h.next=T}d.baseQueue=m=h,u.pending=null}if(m!==null){h=m.next,d=d.baseState;var z=T=null,Y=null,fe=h;do{var Ie=fe.lane;if((ia&Ie)===Ie)Y!==null&&(Y=Y.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),d=fe.hasEagerState?fe.eagerState:o(d,fe.action);else{var Qe={lane:Ie,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};Y===null?(z=Y=Qe,T=d):Y=Y.next=Qe,Zt.lanes|=Ie,aa|=Ie}fe=fe.next}while(fe!==null&&fe!==h);Y===null?T=d:Y.next=z,$r(d,i.memoizedState)||(ir=!0),i.memoizedState=d,i.baseState=T,i.baseQueue=Y,u.lastRenderedState=d}if(o=u.interleaved,o!==null){m=o;do h=m.lane,Zt.lanes|=h,aa|=h,m=m.next;while(m!==o)}else m===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Nm(o){var i=Lr(),u=i.queue;if(u===null)throw Error(f(311));u.lastRenderedReducer=o;var d=u.dispatch,m=u.pending,h=i.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do h=o(h,T.action),T=T.next;while(T!==m);$r(h,i.memoizedState)||(ir=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),u.lastRenderedState=h}return[h,d]}function ah(){}function sh(o,i){var u=Zt,d=Lr(),m=i(),h=!$r(d.memoizedState,m);if(h&&(d.memoizedState=m,ir=!0),d=d.queue,Mm(uh.bind(null,u,d,o),[o]),d.getSnapshot!==i||h||bn!==null&&bn.memoizedState.tag&1){if(u.flags|=2048,Vl(9,ch.bind(null,u,d,m,i),void 0,null),vn===null)throw Error(f(349));ia&30||lh(u,i,m)}return m}function lh(o,i,u){o.flags|=16384,o={getSnapshot:i,value:u},i=Zt.updateQueue,i===null?(i={lastEffect:null,stores:null},Zt.updateQueue=i,i.stores=[o]):(u=i.stores,u===null?i.stores=[o]:u.push(o))}function ch(o,i,u,d){i.value=u,i.getSnapshot=d,fh(i)&&dh(o)}function uh(o,i,u){return u(function(){fh(i)&&dh(o)})}function fh(o){var i=o.getSnapshot;o=o.value;try{var u=i();return!$r(o,u)}catch{return!0}}function dh(o){var i=Ao(o,1);i!==null&&Fr(i,o,1,-1)}function mh(o){var i=Po();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:o},i.queue=o,o=o.dispatch=MT.bind(null,Zt,o),[i.memoizedState,o]}function Vl(o,i,u,d){return o={tag:o,create:i,destroy:u,deps:d,next:null},i=Zt.updateQueue,i===null?(i={lastEffect:null,stores:null},Zt.updateQueue=i,i.lastEffect=o.next=o):(u=i.lastEffect,u===null?i.lastEffect=o.next=o:(d=u.next,u.next=o,o.next=d,i.lastEffect=o)),o}function ph(){return Lr().memoizedState}function iu(o,i,u,d){var m=Po();Zt.flags|=o,m.memoizedState=Vl(1|i,u,void 0,d===void 0?null:d)}function au(o,i,u,d){var m=Lr();d=d===void 0?null:d;var h=void 0;if(mn!==null){var T=mn.memoizedState;if(h=T.destroy,d!==null&&Im(d,T.deps)){m.memoizedState=Vl(i,u,h,d);return}}Zt.flags|=o,m.memoizedState=Vl(1|i,u,h,d)}function hh(o,i){return iu(8390656,8,o,i)}function Mm(o,i){return au(2048,8,o,i)}function yh(o,i){return au(4,2,o,i)}function gh(o,i){return au(4,4,o,i)}function Eh(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function Th(o,i,u){return u=u!=null?u.concat([o]):null,au(4,4,Eh.bind(null,i,o),u)}function _m(){}function Sh(o,i){var u=Lr();i=i===void 0?null:i;var d=u.memoizedState;return d!==null&&i!==null&&Im(i,d[1])?d[0]:(u.memoizedState=[o,i],o)}function xh(o,i){var u=Lr();i=i===void 0?null:i;var d=u.memoizedState;return d!==null&&i!==null&&Im(i,d[1])?d[0]:(o=o(),u.memoizedState=[o,i],o)}function bh(o,i,u){return ia&21?($r(u,i)||(u=Wc(),Zt.lanes|=u,aa|=u,o.baseState=!0),i):(o.baseState&&(o.baseState=!1,ir=!0),o.memoizedState=u)}function PT(o,i){var u=dt;dt=u!==0&&4>u?u:4,o(!0);var d=Cm.transition;Cm.transition={};try{o(!1),i()}finally{dt=u,Cm.transition=d}}function vh(){return Lr().memoizedState}function NT(o,i,u){var d=wi(o);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},wh(o))kh(i,u);else if(u=th(o,i,u,d),u!==null){var m=Wn();Fr(u,o,d,m),Ch(u,i,d)}}function MT(o,i,u){var d=wi(o),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(wh(o))kh(i,m);else{var h=o.alternate;if(o.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var T=i.lastRenderedState,z=h(T,u);if(m.hasEagerState=!0,m.eagerState=z,$r(z,T)){var Y=i.interleaved;Y===null?(m.next=m,Sm(i)):(m.next=Y.next,Y.next=m),i.interleaved=m;return}}catch{}finally{}u=th(o,i,m,d),u!==null&&(m=Wn(),Fr(u,o,d,m),Ch(u,i,d))}}function wh(o){var i=o.alternate;return o===Zt||i!==null&&i===Zt}function kh(o,i){Ul=ou=!0;var u=o.pending;u===null?i.next=i:(i.next=u.next,u.next=i),o.pending=i}function Ch(o,i,u){if(u&4194240){var d=i.lanes;d&=o.pendingLanes,u|=d,i.lanes=u,Ml(o,u)}}var su={readContext:Dr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},_T={readContext:Dr,useCallback:function(o,i){return Po().memoizedState=[o,i===void 0?null:i],o},useContext:Dr,useEffect:hh,useImperativeHandle:function(o,i,u){return u=u!=null?u.concat([o]):null,iu(4194308,4,Eh.bind(null,i,o),u)},useLayoutEffect:function(o,i){return iu(4194308,4,o,i)},useInsertionEffect:function(o,i){return iu(4,2,o,i)},useMemo:function(o,i){var u=Po();return i=i===void 0?null:i,o=o(),u.memoizedState=[o,i],o},useReducer:function(o,i,u){var d=Po();return i=u!==void 0?u(i):i,d.memoizedState=d.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},d.queue=o,o=o.dispatch=NT.bind(null,Zt,o),[d.memoizedState,o]},useRef:function(o){var i=Po();return o={current:o},i.memoizedState=o},useState:mh,useDebugValue:_m,useDeferredValue:function(o){return Po().memoizedState=o},useTransition:function(){var o=mh(!1),i=o[0];return o=PT.bind(null,o[1]),Po().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,u){var d=Zt,m=Po();if(jt){if(u===void 0)throw Error(f(407));u=u()}else{if(u=i(),vn===null)throw Error(f(349));ia&30||lh(d,i,u)}m.memoizedState=u;var h={value:u,getSnapshot:i};return m.queue=h,hh(uh.bind(null,d,h,o),[o]),d.flags|=2048,Vl(9,ch.bind(null,d,h,u,i),void 0,null),u},useId:function(){var o=Po(),i=vn.identifierPrefix;if(jt){var u=ti,d=ei;u=(d&~(1<<32-dn(d)-1)).toString(32)+u,i=":"+i+"R"+u,u=Ll++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=RT++,i=":"+i+"r"+u.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},OT={readContext:Dr,useCallback:Sh,useContext:Dr,useEffect:Mm,useImperativeHandle:Th,useInsertionEffect:yh,useLayoutEffect:gh,useMemo:xh,useReducer:Pm,useRef:ph,useState:function(){return Pm(Fl)},useDebugValue:_m,useDeferredValue:function(o){var i=Lr();return bh(i,mn.memoizedState,o)},useTransition:function(){var o=Pm(Fl)[0],i=Lr().memoizedState;return[o,i]},useMutableSource:ah,useSyncExternalStore:sh,useId:vh,unstable_isNewReconciler:!1},BT={readContext:Dr,useCallback:Sh,useContext:Dr,useEffect:Mm,useImperativeHandle:Th,useInsertionEffect:yh,useLayoutEffect:gh,useMemo:xh,useReducer:Nm,useRef:ph,useState:function(){return Nm(Fl)},useDebugValue:_m,useDeferredValue:function(o){var i=Lr();return mn===null?i.memoizedState=o:bh(i,mn.memoizedState,o)},useTransition:function(){var o=Nm(Fl)[0],i=Lr().memoizedState;return[o,i]},useMutableSource:ah,useSyncExternalStore:sh,useId:vh,unstable_isNewReconciler:!1};function Zr(o,i){if(o&&o.defaultProps){i=a({},i),o=o.defaultProps;for(var u in o)i[u]===void 0&&(i[u]=o[u]);return i}return i}function Om(o,i,u,d){i=o.memoizedState,u=u(d,i),u=u==null?i:a({},i,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var lu={isMounted:function(o){return(o=o._reactInternals)?oe(o)===o:!1},enqueueSetState:function(o,i,u){o=o._reactInternals;var d=Wn(),m=wi(o),h=ni(d,m);h.payload=i,u!=null&&(h.callback=u),i=xi(o,h,m),i!==null&&(Fr(i,o,m,d),eu(i,o,m))},enqueueReplaceState:function(o,i,u){o=o._reactInternals;var d=Wn(),m=wi(o),h=ni(d,m);h.tag=1,h.payload=i,u!=null&&(h.callback=u),i=xi(o,h,m),i!==null&&(Fr(i,o,m,d),eu(i,o,m))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var u=Wn(),d=wi(o),m=ni(u,d);m.tag=2,i!=null&&(m.callback=i),i=xi(o,m,d),i!==null&&(Fr(i,o,d,u),eu(i,o,d))}};function Ih(o,i,u,d,m,h,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,h,T):i.prototype&&i.prototype.isPureReactComponent?!$c(u,d)||!$c(m,h):!0}function Ah(o,i,u){var d=!1,m=nn,h=i.contextType;return typeof h=="object"&&h!==null?h=Dr(h):(m=Gt(i)?Pn:It.current,d=i.contextTypes,h=(d=d!=null)?Un(o,m):nn),i=new i(u,h),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=lu,o.stateNode=i,i._reactInternals=o,d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=m,o.__reactInternalMemoizedMaskedChildContext=h),i}function Rh(o,i,u,d){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,d),i.state!==o&&lu.enqueueReplaceState(i,i.state,null)}function Bm(o,i,u,d){var m=o.stateNode;m.props=u,m.state=o.memoizedState,m.refs={},xm(o);var h=i.contextType;typeof h=="object"&&h!==null?m.context=Dr(h):(h=Gt(i)?Pn:It.current,m.context=Un(o,h)),m.state=o.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(Om(o,i,h,u),m.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&lu.enqueueReplaceState(m,m.state,null),tu(o,u,m,d),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308)}function Xa(o,i){try{var u="",d=i;do u+=AT(d),d=d.return;while(d);var m=u}catch(h){m=`
Error generating stack: `+h.message+`
`+h.stack}return{value:o,source:i,stack:m,digest:null}}function zm(o,i,u){return{value:o,source:null,stack:u??null,digest:i??null}}function Dm(o,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var zT=typeof WeakMap=="function"?WeakMap:Map;function Ph(o,i,u){u=ni(-1,u),u.tag=3,u.payload={element:null};var d=i.value;return u.callback=function(){bu||(bu=!0,rp=d),Dm(o,i)},u}function Nh(o,i,u){u=ni(-1,u),u.tag=3;var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=i.value;u.payload=function(){return d(m)},u.callback=function(){Dm(o,i)}}var h=o.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(u.callback=function(){Dm(o,i),typeof d!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),u}function Mh(o,i,u){var d=o.pingCache;if(d===null){d=o.pingCache=new zT;var m=new Set;d.set(i,m)}else m=d.get(i),m===void 0&&(m=new Set,d.set(i,m));m.has(u)||(m.add(u),o=$T.bind(null,o,i,u),i.then(o,o))}function _h(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function Oh(o,i,u,d,m){return o.mode&1?(o.flags|=65536,o.lanes=m,o):(o===i?o.flags|=65536:(o.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=ni(-1,1),i.tag=2,xi(u,i,1))),u.lanes|=1),o)}var DT=c.ReactCurrentOwner,ir=!1;function Jn(o,i,u,d){i.child=o===null?X0(i,null,u,d):Ya(i,o.child,u,d)}function Bh(o,i,u,d,m){u=u.render;var h=i.ref;return $a(i,m),d=Am(o,i,u,d,h,m),u=Rm(),o!==null&&!ir?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~m,ri(o,i,m)):(jt&&u&&fm(i),i.flags|=1,Jn(o,i,d,m),i.child)}function zh(o,i,u,d,m){if(o===null){var h=u.type;return typeof h=="function"&&!cp(h)&&h.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=h,Dh(o,i,h,d,m)):(o=Au(u.type,null,d,i,i.mode,m),o.ref=i.ref,o.return=i,i.child=o)}if(h=o.child,!(o.lanes&m)){var T=h.memoizedProps;if(u=u.compare,u=u!==null?u:$c,u(T,d)&&o.ref===i.ref)return ri(o,i,m)}return i.flags|=1,o=Ci(h,d),o.ref=i.ref,o.return=i,i.child=o}function Dh(o,i,u,d,m){if(o!==null){var h=o.memoizedProps;if($c(h,d)&&o.ref===i.ref)if(ir=!1,i.pendingProps=d=h,(o.lanes&m)!==0)o.flags&131072&&(ir=!0);else return i.lanes=o.lanes,ri(o,i,m)}return Um(o,i,u,d,m)}function Uh(o,i,u){var d=i.pendingProps,m=d.children,h=o!==null?o.memoizedState:null;if(d.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ts,Er),Er|=u;else{if(!(u&1073741824))return o=h!==null?h.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,nt(ts,Er),Er|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=h!==null?h.baseLanes:u,nt(ts,Er),Er|=d}else h!==null?(d=h.baseLanes|u,i.memoizedState=null):d=u,nt(ts,Er),Er|=d;return Jn(o,i,m,u),i.child}function Lh(o,i){var u=i.ref;(o===null&&u!==null||o!==null&&o.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Um(o,i,u,d,m){var h=Gt(u)?Pn:It.current;return h=Un(i,h),$a(i,m),u=Am(o,i,u,d,h,m),d=Rm(),o!==null&&!ir?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~m,ri(o,i,m)):(jt&&d&&fm(i),i.flags|=1,Jn(o,i,u,m),i.child)}function Fh(o,i,u,d,m){if(Gt(u)){var h=!0;Mr(i)}else h=!1;if($a(i,m),i.stateNode===null)uu(o,i),Ah(i,u,d),Bm(i,u,d,m),d=!0;else if(o===null){var T=i.stateNode,z=i.memoizedProps;T.props=z;var Y=T.context,fe=u.contextType;typeof fe=="object"&&fe!==null?fe=Dr(fe):(fe=Gt(u)?Pn:It.current,fe=Un(i,fe));var Ie=u.getDerivedStateFromProps,Qe=typeof Ie=="function"||typeof T.getSnapshotBeforeUpdate=="function";Qe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==d||Y!==fe)&&Rh(i,T,d,fe),Si=!1;var Te=i.memoizedState;T.state=Te,tu(i,d,T,m),Y=i.memoizedState,z!==d||Te!==Y||Mt.current||Si?(typeof Ie=="function"&&(Om(i,u,Ie,d),Y=i.memoizedState),(z=Si||Ih(i,u,z,d,Te,Y,fe))?(Qe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=Y),T.props=d,T.state=Y,T.context=fe,d=z):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{T=i.stateNode,nh(o,i),z=i.memoizedProps,fe=i.type===i.elementType?z:Zr(i.type,z),T.props=fe,Qe=i.pendingProps,Te=T.context,Y=u.contextType,typeof Y=="object"&&Y!==null?Y=Dr(Y):(Y=Gt(u)?Pn:It.current,Y=Un(i,Y));var Ut=u.getDerivedStateFromProps;(Ie=typeof Ut=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==Qe||Te!==Y)&&Rh(i,T,d,Y),Si=!1,Te=i.memoizedState,T.state=Te,tu(i,d,T,m);var Pt=i.memoizedState;z!==Qe||Te!==Pt||Mt.current||Si?(typeof Ut=="function"&&(Om(i,u,Ut,d),Pt=i.memoizedState),(fe=Si||Ih(i,u,fe,d,Te,Pt,Y)||!1)?(Ie||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,Pt,Y),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,Pt,Y)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||z===o.memoizedProps&&Te===o.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Te===o.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Pt),T.props=d,T.state=Pt,T.context=Y,d=fe):(typeof T.componentDidUpdate!="function"||z===o.memoizedProps&&Te===o.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Te===o.memoizedState||(i.flags|=1024),d=!1)}return Lm(o,i,u,d,h,m)}function Lm(o,i,u,d,m,h){Lh(o,i);var T=(i.flags&128)!==0;if(!d&&!T)return m&&ko(i,u,!1),ri(o,i,h);d=i.stateNode,DT.current=i;var z=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,o!==null&&T?(i.child=Ya(i,o.child,null,h),i.child=Ya(i,null,z,h)):Jn(o,i,z,h),i.memoizedState=d.state,m&&ko(i,u,!0),i.child}function Vh(o){var i=o.stateNode;i.pendingContext?wo(o,i.pendingContext,i.pendingContext!==i.context):i.context&&wo(o,i.context,!1),bm(o,i.containerInfo)}function Wh(o,i,u,d,m){return Qa(),hm(m),i.flags|=256,Jn(o,i,u,d),i.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function Vm(o){return{baseLanes:o,cachePool:null,transitions:null}}function Gh(o,i,u){var d=i.pendingProps,m=Kt.current,h=!1,T=(i.flags&128)!==0,z;if((z=T)||(z=o!==null&&o.memoizedState===null?!1:(m&2)!==0),z?(h=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&(m|=1),nt(Kt,m&1),o===null)return pm(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(i.mode&1?Rl(o)?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(T=d.children,o=d.fallback,h?(d=i.mode,h=i.child,T={mode:"hidden",children:T},!(d&1)&&h!==null?(h.childLanes=0,h.pendingProps=T):h=Ru(T,d,0,null),o=ua(o,d,u,null),h.return=i,o.return=i,h.sibling=o,i.child=h,i.child.memoizedState=Vm(u),i.memoizedState=Fm,o):Wm(i,T));if(m=o.memoizedState,m!==null&&(z=m.dehydrated,z!==null))return UT(o,i,T,d,z,m,u);if(h){h=d.fallback,T=i.mode,m=o.child,z=m.sibling;var Y={mode:"hidden",children:d.children};return!(T&1)&&i.child!==m?(d=i.child,d.childLanes=0,d.pendingProps=Y,i.deletions=null):(d=Ci(m,Y),d.subtreeFlags=m.subtreeFlags&14680064),z!==null?h=Ci(z,h):(h=ua(h,T,u,null),h.flags|=2),h.return=i,d.return=i,d.sibling=h,i.child=d,d=h,h=i.child,T=o.child.memoizedState,T=T===null?Vm(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},h.memoizedState=T,h.childLanes=o.childLanes&~u,i.memoizedState=Fm,d}return h=o.child,o=h.sibling,d=Ci(h,{mode:"visible",children:d.children}),!(i.mode&1)&&(d.lanes=u),d.return=i,d.sibling=null,o!==null&&(u=i.deletions,u===null?(i.deletions=[o],i.flags|=16):u.push(o)),i.child=d,i.memoizedState=null,d}function Wm(o,i){return i=Ru({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function cu(o,i,u,d){return d!==null&&hm(d),Ya(i,o.child,null,u),o=Wm(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function UT(o,i,u,d,m,h,T){if(u)return i.flags&256?(i.flags&=-257,d=zm(Error(f(422))),cu(o,i,T,d)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(h=d.fallback,m=i.mode,d=Ru({mode:"visible",children:d.children},m,0,null),h=ua(h,m,T,null),h.flags|=2,d.return=i,h.return=i,d.sibling=h,i.child=d,i.mode&1&&Ya(i,o.child,null,T),i.child.memoizedState=Vm(T),i.memoizedState=Fm,h);if(!(i.mode&1))return cu(o,i,T,null);if(Rl(m))return d=rm(m).digest,h=Error(f(419)),d=zm(h,d,void 0),cu(o,i,T,d);if(u=(T&o.childLanes)!==0,ir||u){if(d=vn,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|T)?0:m,m!==0&&m!==h.retryLane&&(h.retryLane=m,Ao(o,m),Fr(d,o,m,-1))}return lp(),d=zm(Error(f(421))),cu(o,i,T,d)}return vo(m)?(i.flags|=128,i.child=o.child,i=KT.bind(null,o),Lc(m,i),null):(o=h.treeContext,Dn&&(zr=E(m),gr=i,jt=!0,Kr=null,Ol=!1,o!==null&&(Or[Br++]=ei,Or[Br++]=ti,Or[Br++]=na,ei=o.id,ti=o.overflow,na=i)),i=Wm(i,d.children),i.flags|=4096,i)}function Hh(o,i,u){o.lanes|=i;var d=o.alternate;d!==null&&(d.lanes|=i),Tm(o.return,i,u)}function Gm(o,i,u,d,m){var h=o.memoizedState;h===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=d,h.tail=u,h.tailMode=m)}function jh(o,i,u){var d=i.pendingProps,m=d.revealOrder,h=d.tail;if(Jn(o,i,d.children,u),d=Kt.current,d&2)d=d&1|2,i.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Hh(o,u,i);else if(o.tag===19)Hh(o,u,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}if(nt(Kt,d),!(i.mode&1))i.memoizedState=null;else switch(m){case"forwards":for(u=i.child,m=null;u!==null;)o=u.alternate,o!==null&&nu(o)===null&&(m=u),u=u.sibling;u=m,u===null?(m=i.child,i.child=null):(m=u.sibling,u.sibling=null),Gm(i,!1,m,u,h);break;case"backwards":for(u=null,m=i.child,i.child=null;m!==null;){if(o=m.alternate,o!==null&&nu(o)===null){i.child=m;break}o=m.sibling,m.sibling=u,u=m,m=o}Gm(i,!0,u,null,h);break;case"together":Gm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function uu(o,i){!(i.mode&1)&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function ri(o,i,u){if(o!==null&&(i.dependencies=o.dependencies),aa|=i.lanes,!(u&i.childLanes))return null;if(o!==null&&i.child!==o.child)throw Error(f(153));if(i.child!==null){for(o=i.child,u=Ci(o,o.pendingProps),i.child=u,u.return=i;o.sibling!==null;)o=o.sibling,u=u.sibling=Ci(o,o.pendingProps),u.return=i;u.sibling=null}return i.child}function LT(o,i,u){switch(i.tag){case 3:Vh(i),Qa();break;case 5:ih(i);break;case 1:Gt(i.type)&&Mr(i);break;case 4:bm(i,i.stateNode.containerInfo);break;case 10:eh(i,i.type._context,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(nt(Kt,Kt.current&1),i.flags|=128,null):u&i.child.childLanes?Gh(o,i,u):(nt(Kt,Kt.current&1),o=ri(o,i,u),o!==null?o.sibling:null);nt(Kt,Kt.current&1);break;case 19:if(d=(u&i.childLanes)!==0,o.flags&128){if(d)return jh(o,i,u);i.flags|=128}var m=i.memoizedState;if(m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(Kt,Kt.current),d)break;return null;case 22:case 23:return i.lanes=0,Uh(o,i,u)}return ri(o,i,u)}function No(o){o.flags|=4}function qh(o,i){if(o!==null&&o.child===i.child)return!0;if(i.flags&16)return!1;for(o=i.child;o!==null;){if(o.flags&12854||o.subtreeFlags&12854)return!1;o=o.sibling}return!0}var Wl,Gl,fu,du;if(ve)Wl=function(o,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)ut(o,u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Gl=function(){},fu=function(o,i,u,d,m){if(o=o.memoizedProps,o!==d){var h=i.stateNode,T=Ro(Ur.current);u=tt(h,u,o,d,m,T),(i.updateQueue=u)&&No(i)}},du=function(o,i,u,d){u!==d&&No(i)};else if(Tt){Wl=function(o,i,u,d){for(var m=i.child;m!==null;){if(m.tag===5){var h=m.stateNode;u&&d&&(h=un(h,m.type,m.memoizedProps,m)),ut(o,h)}else if(m.tag===6)h=m.stateNode,u&&d&&(h=Vt(h,m.memoizedProps,m)),ut(o,h);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)h=m.child,h!==null&&(h.return=m),Wl(o,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===i)break;for(;m.sibling===null;){if(m.return===null||m.return===i)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};var Qh=function(o,i,u,d){for(var m=i.child;m!==null;){if(m.tag===5){var h=m.stateNode;u&&d&&(h=un(h,m.type,m.memoizedProps,m)),we(o,h)}else if(m.tag===6)h=m.stateNode,u&&d&&(h=Vt(h,m.memoizedProps,m)),we(o,h);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)h=m.child,h!==null&&(h.return=m),Qh(o,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===i)break;for(;m.sibling===null;){if(m.return===null||m.return===i)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};Gl=function(o,i){var u=i.stateNode;if(!qh(o,i)){o=u.containerInfo;var d=me(o);Qh(d,i,!1,!1),u.pendingChildren=d,No(i),Ve(o,d)}},fu=function(o,i,u,d,m){var h=o.stateNode,T=o.memoizedProps;if((o=qh(o,i))&&T===d)i.stateNode=h;else{var z=i.stateNode,Y=Ro(Ur.current),fe=null;T!==d&&(fe=tt(z,u,T,d,m,Y)),o&&fe===null?i.stateNode=h:(h=ge(h,fe,u,T,d,i,o,z),Nt(h,u,d,m,Y)&&No(i),i.stateNode=h,o?No(i):Wl(h,i,!1,!1))}},du=function(o,i,u,d){u!==d?(o=Ro(Ka.current),u=Ro(Ur.current),i.stateNode=W(d,o,u,i),No(i)):i.stateNode=o.stateNode}}else Gl=function(){},fu=function(){},du=function(){};function Hl(o,i){if(!jt)switch(o.tailMode){case"hidden":i=o.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function Fn(o){var i=o.alternate!==null&&o.alternate.child===o.child,u=0,d=0;if(i)for(var m=o.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=d,o.childLanes=u,i}function FT(o,i,u){var d=i.pendingProps;switch(dm(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(i),null;case 1:return Gt(i.type)&&Nr(),Fn(i),null;case 3:return u=i.stateNode,Za(),at(Mt),at(It),km(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(Jc(i)?No(i):o===null||o.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Kr!==null&&(ap(Kr),Kr=null))),Gl(o,i),Fn(i),null;case 5:vm(i),u=Ro(Ka.current);var m=i.type;if(o!==null&&i.stateNode!=null)fu(o,i,m,d,u),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(f(166));return Fn(i),null}if(o=Ro(Ur.current),Jc(i)){if(!Dn)throw Error(f(175));o=b(i.stateNode,i.type,i.memoizedProps,u,o,i,!Ol),i.updateQueue=o,o!==null&&No(i)}else{var h=pt(m,d,u,o,i);Wl(h,i,!1,!1),i.stateNode=h,Nt(h,m,d,u,o)&&No(i)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Fn(i),null;case 6:if(o&&i.stateNode!=null)du(o,i,o.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(f(166));if(o=Ro(Ka.current),u=Ro(Ur.current),Jc(i)){if(!Dn)throw Error(f(176));if(o=i.stateNode,u=i.memoizedProps,(d=C(o,u,i,!Ol))&&(m=gr,m!==null))switch(m.tag){case 3:Ge(m.stateNode.containerInfo,o,u,(m.mode&1)!==0);break;case 5:ht(m.type,m.memoizedProps,m.stateNode,o,u,(m.mode&1)!==0)}d&&No(i)}else i.stateNode=W(d,o,u,i)}return Fn(i),null;case 13:if(at(Kt),d=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(jt&&zr!==null&&i.mode&1&&!(i.flags&128))$0(),Qa(),i.flags|=98560,m=!1;else if(m=Jc(i),d!==null&&d.dehydrated!==null){if(o===null){if(!m)throw Error(f(318));if(!Dn)throw Error(f(344));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(f(317));R(m,i)}else Qa(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Fn(i),m=!1}else Kr!==null&&(ap(Kr),Kr=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=u,i):(u=d!==null,u!==(o!==null&&o.memoizedState!==null)&&u&&(i.child.flags|=8192,i.mode&1&&(o===null||Kt.current&1?pn===0&&(pn=3):lp())),i.updateQueue!==null&&(i.flags|=4),Fn(i),null);case 4:return Za(),Gl(o,i),o===null&&za(i.stateNode.containerInfo),Fn(i),null;case 10:return Em(i.type._context),Fn(i),null;case 17:return Gt(i.type)&&Nr(),Fn(i),null;case 19:if(at(Kt),m=i.memoizedState,m===null)return Fn(i),null;if(d=(i.flags&128)!==0,h=m.rendering,h===null)if(d)Hl(m,!1);else{if(pn!==0||o!==null&&o.flags&128)for(o=i.child;o!==null;){if(h=nu(o),h!==null){for(i.flags|=128,Hl(m,!1),o=h.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=u,u=i.child;u!==null;)d=u,m=o,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=m,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,m=h.dependencies,d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),u=u.sibling;return nt(Kt,Kt.current&1|2),i.child}o=o.sibling}m.tail!==null&&xn()>np&&(i.flags|=128,d=!0,Hl(m,!1),i.lanes=4194304)}else{if(!d)if(o=nu(h),o!==null){if(i.flags|=128,d=!0,o=o.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Hl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!h.alternate&&!jt)return Fn(i),null}else 2*xn()-m.renderingStartTime>np&&u!==1073741824&&(i.flags|=128,d=!0,Hl(m,!1),i.lanes=4194304);m.isBackwards?(h.sibling=i.child,i.child=h):(o=m.last,o!==null?o.sibling=h:i.child=h,m.last=h)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=xn(),i.sibling=null,o=Kt.current,nt(Kt,d?o&1|2:o&1),i):(Fn(i),null);case 22:case 23:return sp(),u=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==u&&(i.flags|=8192),u&&i.mode&1?Er&1073741824&&(Fn(i),ve&&i.subtreeFlags&6&&(i.flags|=8192)):Fn(i),null;case 24:return null;case 25:return null}throw Error(f(156,i.tag))}function VT(o,i){switch(dm(i),i.tag){case 1:return Gt(i.type)&&Nr(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return Za(),at(Mt),at(It),km(),o=i.flags,o&65536&&!(o&128)?(i.flags=o&-65537|128,i):null;case 5:return vm(i),null;case 13:if(at(Kt),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(f(340));Qa()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return at(Kt),null;case 4:return Za(),null;case 10:return Em(i.type._context),null;case 22:case 23:return sp(),null;case 24:return null;default:return null}}var mu=!1,Vn=!1,WT=typeof WeakSet=="function"?WeakSet:Set,ke=null;function es(o,i){var u=o.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){qt(o,i,d)}else u.current=null}function Hm(o,i,u){try{u()}catch(d){qt(o,i,d)}}var Yh=!1;function GT(o,i){for(ot(o.containerInfo),ke=i;ke!==null;)if(o=ke,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ke=i;else for(;ke!==null;){o=ke;try{var u=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var d=u.memoizedProps,m=u.memoizedState,h=o.stateNode,T=h.getSnapshotBeforeUpdate(o.elementType===o.type?d:Zr(o.type,d),m);h.__reactInternalSnapshotBeforeUpdate=T}break;case 3:ve&&G(o.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(f(163))}}catch(z){qt(o,o.return,z)}if(i=o.sibling,i!==null){i.return=o.return,ke=i;break}ke=o.return}return u=Yh,Yh=!1,u}function jl(o,i,u){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&o)===o){var h=m.destroy;m.destroy=void 0,h!==void 0&&Hm(i,u,h)}m=m.next}while(m!==d)}}function pu(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&o)===o){var d=u.create;u.destroy=d()}u=u.next}while(u!==i)}}function jm(o){var i=o.ref;if(i!==null){var u=o.stateNode;switch(o.tag){case 5:o=Re(u);break;default:o=u}typeof i=="function"?i(o):i.current=o}}function Jh(o){var i=o.alternate;i!==null&&(o.alternate=null,Jh(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&Ji(i)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function $h(o){return o.tag===5||o.tag===3||o.tag===4}function Kh(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||$h(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function qm(o,i,u){var d=o.tag;if(d===5||d===6)o=o.stateNode,i?kl(u,o,i):vl(u,o);else if(d!==4&&(o=o.child,o!==null))for(qm(o,i,u),o=o.sibling;o!==null;)qm(o,i,u),o=o.sibling}function Qm(o,i,u){var d=o.tag;if(d===5||d===6)o=o.stateNode,i?Ki(u,o,i):Va(u,o);else if(d!==4&&(o=o.child,o!==null))for(Qm(o,i,u),o=o.sibling;o!==null;)Qm(o,i,u),o=o.sibling}var Nn=null,Xr=!1;function Mo(o,i,u){for(u=u.child;u!==null;)Ym(o,i,u),u=u.sibling}function Ym(o,i,u){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(jc,u)}catch{}switch(u.tag){case 5:Vn||es(u,i);case 6:if(ve){var d=Nn,m=Xr;Nn=null,Mo(o,i,u),Nn=d,Xr=m,Nn!==null&&(Xr?Ga(Nn,u.stateNode):Cl(Nn,u.stateNode))}else Mo(o,i,u);break;case 18:ve&&Nn!==null&&(Xr?Ce(Nn,u.stateNode):de(Nn,u.stateNode));break;case 4:ve?(d=Nn,m=Xr,Nn=u.stateNode.containerInfo,Xr=!0,Mo(o,i,u),Nn=d,Xr=m):(Tt&&(d=u.stateNode.containerInfo,m=me(d),Ft(d,m)),Mo(o,i,u));break;case 0:case 11:case 14:case 15:if(!Vn&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var h=m,T=h.destroy;h=h.tag,T!==void 0&&(h&2||h&4)&&Hm(u,i,T),m=m.next}while(m!==d)}Mo(o,i,u);break;case 1:if(!Vn&&(es(u,i),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(z){qt(u,i,z)}Mo(o,i,u);break;case 21:Mo(o,i,u);break;case 22:u.mode&1?(Vn=(d=Vn)||u.memoizedState!==null,Mo(o,i,u),Vn=d):Mo(o,i,u);break;default:Mo(o,i,u)}}function Zh(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var u=o.stateNode;u===null&&(u=o.stateNode=new WT),i.forEach(function(d){var m=ZT.bind(null,o,d);u.has(d)||(u.add(d),d.then(m,m))})}}function eo(o,i){var u=i.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var h=o,T=i;if(ve){var z=T;e:for(;z!==null;){switch(z.tag){case 5:Nn=z.stateNode,Xr=!1;break e;case 3:Nn=z.stateNode.containerInfo,Xr=!0;break e;case 4:Nn=z.stateNode.containerInfo,Xr=!0;break e}z=z.return}if(Nn===null)throw Error(f(160));Ym(h,T,m),Nn=null,Xr=!1}else Ym(h,T,m);var Y=m.alternate;Y!==null&&(Y.return=null),m.return=null}catch(fe){qt(m,i,fe)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Xh(i,o),i=i.sibling}function Xh(o,i){var u=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(eo(i,o),_o(o),d&4){try{jl(3,o,o.return),pu(3,o)}catch(Te){qt(o,o.return,Te)}try{jl(5,o,o.return)}catch(Te){qt(o,o.return,Te)}}break;case 1:eo(i,o),_o(o),d&512&&u!==null&&es(u,u.return);break;case 5:if(eo(i,o),_o(o),d&512&&u!==null&&es(u,u.return),ve){if(o.flags&32){var m=o.stateNode;try{Zi(m)}catch(Te){qt(o,o.return,Te)}}if(d&4&&(m=o.stateNode,m!=null)){var h=o.memoizedProps;if(u=u!==null?u.memoizedProps:h,d=o.type,i=o.updateQueue,o.updateQueue=null,i!==null)try{wl(m,i,d,u,h,o)}catch(Te){qt(o,o.return,Te)}}}break;case 6:if(eo(i,o),_o(o),d&4&&ve){if(o.stateNode===null)throw Error(f(162));m=o.stateNode,h=o.memoizedProps,u=u!==null?u.memoizedProps:h;try{Wa(m,u,h)}catch(Te){qt(o,o.return,Te)}}break;case 3:if(eo(i,o),_o(o),d&4){if(ve&&Dn&&u!==null&&u.memoizedState.isDehydrated)try{ee(i.containerInfo)}catch(Te){qt(o,o.return,Te)}if(Tt){m=i.containerInfo,h=i.pendingChildren;try{Ft(m,h)}catch(Te){qt(o,o.return,Te)}}}break;case 4:if(eo(i,o),_o(o),d&4&&Tt){h=o.stateNode,m=h.containerInfo,h=h.pendingChildren;try{Ft(m,h)}catch(Te){qt(o,o.return,Te)}}break;case 13:eo(i,o),_o(o),m=o.child,m.flags&8192&&(h=m.memoizedState!==null,m.stateNode.isHidden=h,!h||m.alternate!==null&&m.alternate.memoizedState!==null||(tp=xn())),d&4&&Zh(o);break;case 22:var T=u!==null&&u.memoizedState!==null;if(o.mode&1?(Vn=(u=Vn)||T,eo(i,o),Vn=u):eo(i,o),_o(o),d&8192){if(u=o.memoizedState!==null,(o.stateNode.isHidden=u)&&!T&&o.mode&1)for(ke=o,d=o.child;d!==null;){for(i=ke=d;ke!==null;){T=ke;var z=T.child;switch(T.tag){case 0:case 11:case 14:case 15:jl(4,T,T.return);break;case 1:es(T,T.return);var Y=T.stateNode;if(typeof Y.componentWillUnmount=="function"){var fe=T,Ie=T.return;try{var Qe=fe;Y.props=Qe.memoizedProps,Y.state=Qe.memoizedState,Y.componentWillUnmount()}catch(Te){qt(fe,Ie,Te)}}break;case 5:es(T,T.return);break;case 22:if(T.memoizedState!==null){ny(i);continue}}z!==null?(z.return=T,ke=z):ny(i)}d=d.sibling}if(ve){e:if(d=null,ve)for(i=o;;){if(i.tag===5){if(d===null){d=i;try{m=i.stateNode,u?Il(m):v(i.stateNode,i.memoizedProps)}catch(Te){qt(o,o.return,Te)}}}else if(i.tag===6){if(d===null)try{h=i.stateNode,u?Al(h):_(h,i.memoizedProps)}catch(Te){qt(o,o.return,Te)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===o)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;d===i&&(d=null),i=i.return}d===i&&(d=null),i.sibling.return=i.return,i=i.sibling}}}break;case 19:eo(i,o),_o(o),d&4&&Zh(o);break;case 21:break;default:eo(i,o),_o(o)}}function _o(o){var i=o.flags;if(i&2){try{if(ve){e:{for(var u=o.return;u!==null;){if($h(u)){var d=u;break e}u=u.return}throw Error(f(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Zi(m),d.flags&=-33);var h=Kh(o);Qm(o,h,m);break;case 3:case 4:var T=d.stateNode.containerInfo,z=Kh(o);qm(o,z,T);break;default:throw Error(f(161))}}}catch(Y){qt(o,o.return,Y)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function HT(o,i,u){ke=o,ey(o,i,u)}function ey(o,i,u){for(var d=(o.mode&1)!==0;ke!==null;){var m=ke,h=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||mu;if(!T){var z=m.alternate,Y=z!==null&&z.memoizedState!==null||Vn;z=mu;var fe=Vn;if(mu=T,(Vn=Y)&&!fe)for(ke=m;ke!==null;)T=ke,Y=T.child,T.tag===22&&T.memoizedState!==null?ry(m):Y!==null?(Y.return=T,ke=Y):ry(m);for(;h!==null;)ke=h,ey(h,i,u),h=h.sibling;ke=m,mu=z,Vn=fe}ty(o,i,u)}else m.subtreeFlags&8772&&h!==null?(h.return=m,ke=h):ty(o,i,u)}}function ty(o){for(;ke!==null;){var i=ke;if(i.flags&8772){var u=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Vn||pu(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Vn)if(u===null)d.componentDidMount();else{var m=i.elementType===i.type?u.memoizedProps:Zr(i.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var h=i.updateQueue;h!==null&&oh(i,h,d);break;case 3:var T=i.updateQueue;if(T!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=Re(i.child.stateNode);break;case 1:u=i.child.stateNode}oh(i,T,u)}break;case 5:var z=i.stateNode;u===null&&i.flags&4&&Yo(z,i.type,i.memoizedProps,i);break;case 6:break;case 4:break;case 12:break;case 13:if(Dn&&i.memoizedState===null){var Y=i.alternate;if(Y!==null){var fe=Y.memoizedState;if(fe!==null){var Ie=fe.dehydrated;Ie!==null&&Z(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(f(163))}Vn||i.flags&512&&jm(i)}catch(Qe){qt(i,i.return,Qe)}}if(i===o){ke=null;break}if(u=i.sibling,u!==null){u.return=i.return,ke=u;break}ke=i.return}}function ny(o){for(;ke!==null;){var i=ke;if(i===o){ke=null;break}var u=i.sibling;if(u!==null){u.return=i.return,ke=u;break}ke=i.return}}function ry(o){for(;ke!==null;){var i=ke;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{pu(4,i)}catch(Y){qt(i,u,Y)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var m=i.return;try{d.componentDidMount()}catch(Y){qt(i,m,Y)}}var h=i.return;try{jm(i)}catch(Y){qt(i,h,Y)}break;case 5:var T=i.return;try{jm(i)}catch(Y){qt(i,T,Y)}}}catch(Y){qt(i,i.return,Y)}if(i===o){ke=null;break}var z=i.sibling;if(z!==null){z.return=i.return,ke=z;break}ke=i.return}}var hu=0,yu=1,gu=2,Eu=3,Tu=4;if(typeof Symbol=="function"&&Symbol.for){var ql=Symbol.for;hu=ql("selector.component"),yu=ql("selector.has_pseudo_class"),gu=ql("selector.role"),Eu=ql("selector.test_id"),Tu=ql("selector.text")}function Jm(o){var i=Tl(o);if(i!=null){if(typeof i.memoizedProps["data-testname"]!="string")throw Error(f(364));return i}if(o=$i(o),o===null)throw Error(f(362));return o.stateNode.current}function $m(o,i){switch(i.$$typeof){case hu:if(o.type===i.value)return!0;break;case yu:e:{i=i.value,o=[o,0];for(var u=0;u<o.length;){var d=o[u++],m=o[u++],h=i[m];if(d.tag!==5||!Qo(d)){for(;h!=null&&$m(d,h);)m++,h=i[m];if(m===i.length){i=!0;break e}else for(d=d.child;d!==null;)o.push(d,m),d=d.sibling}}i=!1}return i;case gu:if(o.tag===5&&La(o.stateNode,i.value))return!0;break;case Tu:if((o.tag===5||o.tag===6)&&(o=Ua(o),o!==null&&0<=o.indexOf(i.value)))return!0;break;case Eu:if(o.tag===5&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===i.value.toLowerCase()))return!0;break;default:throw Error(f(365))}return!1}function Km(o){switch(o.$$typeof){case hu:return"<"+(j(o.value)||"Unknown")+">";case yu:return":has("+(Km(o)||"")+")";case gu:return'[role="'+o.value+'"]';case Tu:return'"'+o.value+'"';case Eu:return'[data-testname="'+o.value+'"]';default:throw Error(f(365))}}function oy(o,i){var u=[];o=[o,0];for(var d=0;d<o.length;){var m=o[d++],h=o[d++],T=i[h];if(m.tag!==5||!Qo(m)){for(;T!=null&&$m(m,T);)h++,T=i[h];if(h===i.length)u.push(m);else for(m=m.child;m!==null;)o.push(m,h),m=m.sibling}}return u}function Zm(o,i){if(!qo)throw Error(f(363));o=Jm(o),o=oy(o,i),i=[],o=Array.from(o);for(var u=0;u<o.length;){var d=o[u++];if(d.tag===5)Qo(d)||i.push(d.stateNode);else for(d=d.child;d!==null;)o.push(d),d=d.sibling}return i}var jT=Math.ceil,Su=c.ReactCurrentDispatcher,Xm=c.ReactCurrentOwner,rn=c.ReactCurrentBatchConfig,st=0,vn=null,sn=null,Mn=0,Er=0,ts=tn(0),pn=0,Ql=null,aa=0,xu=0,ep=0,Yl=null,ar=null,tp=0,np=1/0,oi=null;function ns(){np=xn()+500}var bu=!1,rp=null,bi=null,vu=!1,vi=null,wu=0,Jl=0,op=null,ku=-1,Cu=0;function Wn(){return st&6?xn():ku!==-1?ku:ku=xn()}function wi(o){return o.mode&1?st&2&&Mn!==0?Mn&-Mn:IT.transition!==null?(Cu===0&&(Cu=Wc()),Cu):(o=dt,o!==0?o:Sl()):1}function Fr(o,i,u,d){if(50<Jl)throw Jl=0,op=null,Error(f(185));ta(o,u,d),(!(st&2)||o!==vn)&&(o===vn&&(!(st&2)&&(xu|=u),pn===4&&ki(o,Mn)),sr(o,d),u===1&&st===0&&!(i.mode&1)&&(ns(),qc&&Io()))}function sr(o,i){var u=o.callbackNode;Vc(o,i);var d=ea(o,o===vn?Mn:0);if(d===0)u!==null&&Hc(u),o.callbackNode=null,o.callbackPriority=0;else if(i=d&-d,o.callbackPriority!==i){if(u!=null&&Hc(u),i===1)o.tag===0?CT(ay.bind(null,o)):j0(ay.bind(null,o)),xl?Da(function(){!(st&6)&&Io()}):_l(lm,Io),u=null;else{switch(Gc(d)){case 1:u=lm;break;case 4:u=bT;break;case 16:u=cm;break;case 536870912:u=vT;break;default:u=cm}u=hy(u,iy.bind(null,o))}o.callbackPriority=i,o.callbackNode=u}}function iy(o,i){if(ku=-1,Cu=0,st&6)throw Error(f(327));var u=o.callbackNode;if(ca()&&o.callbackNode!==u)return null;var d=ea(o,o===vn?Mn:0);if(d===0)return null;if(d&30||d&o.expiredLanes||i)i=Iu(o,d);else{i=d;var m=st;st|=2;var h=cy();(vn!==o||Mn!==i)&&(oi=null,ns(),sa(o,i));do try{YT();break}catch(z){ly(o,z)}while(1);gm(),Su.current=h,st=m,sn!==null?i=0:(vn=null,Mn=0,i=pn)}if(i!==0){if(i===2&&(m=Pl(o),m!==0&&(d=m,i=ip(o,m))),i===1)throw u=Ql,sa(o,0),ki(o,d),sr(o,xn()),u;if(i===6)ki(o,d);else{if(m=o.current.alternate,!(d&30)&&!qT(m)&&(i=Iu(o,d),i===2&&(h=Pl(o),h!==0&&(d=h,i=ip(o,h))),i===1))throw u=Ql,sa(o,0),ki(o,d),sr(o,xn()),u;switch(o.finishedWork=m,o.finishedLanes=d,i){case 0:case 1:throw Error(f(345));case 2:la(o,ar,oi);break;case 3:if(ki(o,d),(d&130023424)===d&&(i=tp+500-xn(),10<i)){if(ea(o,0)!==0)break;if(m=o.suspendedLanes,(m&d)!==d){Wn(),o.pingedLanes|=o.suspendedLanes&m;break}o.timeoutHandle=X(la.bind(null,o,ar,oi),i);break}la(o,ar,oi);break;case 4:if(ki(o,d),(d&4194240)===d)break;for(i=o.eventTimes,m=-1;0<d;){var T=31-dn(d);h=1<<T,T=i[T],T>m&&(m=T),d&=~h}if(d=m,d=xn()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*jT(d/1960))-d,10<d){o.timeoutHandle=X(la.bind(null,o,ar,oi),d);break}la(o,ar,oi);break;case 5:la(o,ar,oi);break;default:throw Error(f(329))}}}return sr(o,xn()),o.callbackNode===u?iy.bind(null,o):null}function ip(o,i){var u=Yl;return o.current.memoizedState.isDehydrated&&(sa(o,i).flags|=256),o=Iu(o,i),o!==2&&(i=ar,ar=u,i!==null&&ap(i)),o}function ap(o){ar===null?ar=o:ar.push.apply(ar,o)}function qT(o){for(var i=o;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],h=m.getSnapshot;m=m.value;try{if(!$r(h(),m))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ki(o,i){for(i&=~ep,i&=~xu,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var u=31-dn(i),d=1<<u;o[u]=-1,i&=~d}}function ay(o){if(st&6)throw Error(f(327));ca();var i=ea(o,0);if(!(i&1))return sr(o,xn()),null;var u=Iu(o,i);if(o.tag!==0&&u===2){var d=Pl(o);d!==0&&(i=d,u=ip(o,d))}if(u===1)throw u=Ql,sa(o,0),ki(o,i),sr(o,xn()),u;if(u===6)throw Error(f(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,la(o,ar,oi),sr(o,xn()),null}function sy(o){vi!==null&&vi.tag===0&&!(st&6)&&ca();var i=st;st|=1;var u=rn.transition,d=dt;try{if(rn.transition=null,dt=1,o)return o()}finally{dt=d,rn.transition=u,st=i,!(st&6)&&Io()}}function sp(){Er=ts.current,at(ts)}function sa(o,i){o.finishedWork=null,o.finishedLanes=0;var u=o.timeoutHandle;if(u!==U&&(o.timeoutHandle=U,ye(u)),sn!==null)for(u=sn.return;u!==null;){var d=u;switch(dm(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Nr();break;case 3:Za(),at(Mt),at(It),km();break;case 5:vm(d);break;case 4:Za();break;case 13:at(Kt);break;case 19:at(Kt);break;case 10:Em(d.type._context);break;case 22:case 23:sp()}u=u.return}if(vn=o,sn=o=Ci(o.current,null),Mn=Er=i,pn=0,Ql=null,ep=xu=aa=0,ar=Yl=null,oa!==null){for(i=0;i<oa.length;i++)if(u=oa[i],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,h=u.pending;if(h!==null){var T=h.next;h.next=m,d.next=T}u.pending=d}oa=null}return o}function ly(o,i){do{var u=sn;try{if(gm(),ru.current=su,ou){for(var d=Zt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}ou=!1}if(ia=0,bn=mn=Zt=null,Ul=!1,Ll=0,Xm.current=null,u===null||u.return===null){pn=1,Ql=i,sn=null;break}e:{var h=o,T=u.return,z=u,Y=i;if(i=Mn,z.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var fe=Y,Ie=z,Qe=Ie.tag;if(!(Ie.mode&1)&&(Qe===0||Qe===11||Qe===15)){var Te=Ie.alternate;Te?(Ie.updateQueue=Te.updateQueue,Ie.memoizedState=Te.memoizedState,Ie.lanes=Te.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var Ut=_h(T);if(Ut!==null){Ut.flags&=-257,Oh(Ut,T,z,h,i),Ut.mode&1&&Mh(h,fe,i),i=Ut,Y=fe;var Pt=i.updateQueue;if(Pt===null){var lr=new Set;lr.add(Y),i.updateQueue=lr}else Pt.add(Y);break e}else{if(!(i&1)){Mh(h,fe,i),lp();break e}Y=Error(f(426))}}else if(jt&&z.mode&1){var ii=_h(T);if(ii!==null){!(ii.flags&65536)&&(ii.flags|=256),Oh(ii,T,z,h,i),hm(Xa(Y,z));break e}}h=Y=Xa(Y,z),pn!==4&&(pn=2),Yl===null?Yl=[h]:Yl.push(h),h=T;do{switch(h.tag){case 3:h.flags|=65536,i&=-i,h.lanes|=i;var q=Ph(h,Y,i);rh(h,q);break e;case 1:z=Y;var L=h.type,K=h.stateNode;if(!(h.flags&128)&&(typeof L.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(bi===null||!bi.has(K)))){h.flags|=65536,i&=-i,h.lanes|=i;var Se=Nh(h,z,i);rh(h,Se);break e}}h=h.return}while(h!==null)}fy(u)}catch(ze){i=ze,sn===u&&u!==null&&(sn=u=u.return);continue}break}while(1)}function cy(){var o=Su.current;return Su.current=su,o===null?su:o}function lp(){(pn===0||pn===3||pn===2)&&(pn=4),vn===null||!(aa&268435455)&&!(xu&268435455)||ki(vn,Mn)}function Iu(o,i){var u=st;st|=2;var d=cy();(vn!==o||Mn!==i)&&(oi=null,sa(o,i));do try{QT();break}catch(m){ly(o,m)}while(1);if(gm(),st=u,Su.current=d,sn!==null)throw Error(f(261));return vn=null,Mn=0,pn}function QT(){for(;sn!==null;)uy(sn)}function YT(){for(;sn!==null&&!am();)uy(sn)}function uy(o){var i=py(o.alternate,o,Er);o.memoizedProps=o.pendingProps,i===null?fy(o):sn=i,Xm.current=null}function fy(o){var i=o;do{var u=i.alternate;if(o=i.return,i.flags&32768){if(u=VT(u,i),u!==null){u.flags&=32767,sn=u;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{pn=6,sn=null;return}}else if(u=FT(u,i,Er),u!==null){sn=u;return}if(i=i.sibling,i!==null){sn=i;return}sn=i=o}while(i!==null);pn===0&&(pn=5)}function la(o,i,u){var d=dt,m=rn.transition;try{rn.transition=null,dt=1,JT(o,i,u,d)}finally{rn.transition=m,dt=d}return null}function JT(o,i,u,d){do ca();while(vi!==null);if(st&6)throw Error(f(327));u=o.finishedWork;var m=o.finishedLanes;if(u===null)return null;if(o.finishedWork=null,o.finishedLanes=0,u===o.current)throw Error(f(177));o.callbackNode=null,o.callbackPriority=0;var h=u.lanes|u.childLanes;if(im(o,h),o===vn&&(sn=vn=null,Mn=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||vu||(vu=!0,hy(cm,function(){return ca(),null})),h=(u.flags&15990)!==0,u.subtreeFlags&15990||h){h=rn.transition,rn.transition=null;var T=dt;dt=1;var z=st;st|=4,Xm.current=null,GT(o,u),Xh(u,o),it(o.containerInfo),o.current=u,HT(u,o,m),sm(),st=z,dt=T,rn.transition=h}else o.current=u;if(vu&&(vu=!1,vi=o,wu=m),h=o.pendingLanes,h===0&&(bi=null),wT(u.stateNode,d),sr(o,xn()),i!==null)for(d=o.onRecoverableError,u=0;u<i.length;u++)m=i[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(bu)throw bu=!1,o=rp,rp=null,o;return wu&1&&o.tag!==0&&ca(),h=o.pendingLanes,h&1?o===op?Jl++:(Jl=0,op=o):Jl=0,Io(),null}function ca(){if(vi!==null){var o=Gc(wu),i=rn.transition,u=dt;try{if(rn.transition=null,dt=16>o?16:o,vi===null)var d=!1;else{if(o=vi,vi=null,wu=0,st&6)throw Error(f(331));var m=st;for(st|=4,ke=o.current;ke!==null;){var h=ke,T=h.child;if(ke.flags&16){var z=h.deletions;if(z!==null){for(var Y=0;Y<z.length;Y++){var fe=z[Y];for(ke=fe;ke!==null;){var Ie=ke;switch(Ie.tag){case 0:case 11:case 15:jl(8,Ie,h)}var Qe=Ie.child;if(Qe!==null)Qe.return=Ie,ke=Qe;else for(;ke!==null;){Ie=ke;var Te=Ie.sibling,Ut=Ie.return;if(Jh(Ie),Ie===fe){ke=null;break}if(Te!==null){Te.return=Ut,ke=Te;break}ke=Ut}}}var Pt=h.alternate;if(Pt!==null){var lr=Pt.child;if(lr!==null){Pt.child=null;do{var ii=lr.sibling;lr.sibling=null,lr=ii}while(lr!==null)}}ke=h}}if(h.subtreeFlags&2064&&T!==null)T.return=h,ke=T;else e:for(;ke!==null;){if(h=ke,h.flags&2048)switch(h.tag){case 0:case 11:case 15:jl(9,h,h.return)}var q=h.sibling;if(q!==null){q.return=h.return,ke=q;break e}ke=h.return}}var L=o.current;for(ke=L;ke!==null;){T=ke;var K=T.child;if(T.subtreeFlags&2064&&K!==null)K.return=T,ke=K;else e:for(T=L;ke!==null;){if(z=ke,z.flags&2048)try{switch(z.tag){case 0:case 11:case 15:pu(9,z)}}catch(ze){qt(z,z.return,ze)}if(z===T){ke=null;break e}var Se=z.sibling;if(Se!==null){Se.return=z.return,ke=Se;break e}ke=z.return}}if(st=m,Io(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(jc,o)}catch{}d=!0}return d}finally{dt=u,rn.transition=i}}return!1}function dy(o,i,u){i=Xa(u,i),i=Ph(o,i,1),o=xi(o,i,1),i=Wn(),o!==null&&(ta(o,1,i),sr(o,i))}function qt(o,i,u){if(o.tag===3)dy(o,o,u);else for(;i!==null;){if(i.tag===3){dy(i,o,u);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(bi===null||!bi.has(d))){o=Xa(u,o),o=Nh(i,o,1),i=xi(i,o,1),o=Wn(),i!==null&&(ta(i,1,o),sr(i,o));break}}i=i.return}}function $T(o,i,u){var d=o.pingCache;d!==null&&d.delete(i),i=Wn(),o.pingedLanes|=o.suspendedLanes&u,vn===o&&(Mn&u)===u&&(pn===4||pn===3&&(Mn&130023424)===Mn&&500>xn()-tp?sa(o,0):ep|=u),sr(o,i)}function my(o,i){i===0&&(o.mode&1?(i=Xi,Xi<<=1,!(Xi&130023424)&&(Xi=4194304)):i=1);var u=Wn();o=Ao(o,i),o!==null&&(ta(o,i,u),sr(o,u))}function KT(o){var i=o.memoizedState,u=0;i!==null&&(u=i.retryLane),my(o,u)}function ZT(o,i){var u=0;switch(o.tag){case 13:var d=o.stateNode,m=o.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=o.stateNode;break;default:throw Error(f(314))}d!==null&&d.delete(i),my(o,u)}var py;py=function(o,i,u){if(o!==null)if(o.memoizedProps!==i.pendingProps||Mt.current)ir=!0;else{if(!(o.lanes&u)&&!(i.flags&128))return ir=!1,LT(o,i,u);ir=!!(o.flags&131072)}else ir=!1,jt&&i.flags&1048576&&q0(i,Yc,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;uu(o,i),o=i.pendingProps;var m=Un(i,It.current);$a(i,u),m=Am(null,i,d,o,m,u);var h=Rm();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Gt(d)?(h=!0,Mr(i)):h=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,xm(i),m.updater=lu,i.stateNode=m,m._reactInternals=i,Bm(i,d,o,u),i=Lm(null,i,d,!0,h,u)):(i.tag=0,jt&&h&&fm(i),Jn(null,i,m,u),i=i.child),i;case 16:d=i.elementType;e:{switch(uu(o,i),o=i.pendingProps,m=d._init,d=m(d._payload),i.type=d,m=i.tag=eS(d),o=Zr(d,o),m){case 0:i=Um(null,i,d,o,u);break e;case 1:i=Fh(null,i,d,o,u);break e;case 11:i=Bh(null,i,d,o,u);break e;case 14:i=zh(null,i,d,Zr(d.type,o),u);break e}throw Error(f(306,d,""))}return i;case 0:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Zr(d,m),Um(o,i,d,m,u);case 1:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Zr(d,m),Fh(o,i,d,m,u);case 3:e:{if(Vh(i),o===null)throw Error(f(387));d=i.pendingProps,h=i.memoizedState,m=h.element,nh(o,i),tu(i,d,null,u);var T=i.memoizedState;if(d=T.element,Dn&&h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){m=Xa(Error(f(423)),i),i=Wh(o,i,d,u,m);break e}else if(d!==m){m=Xa(Error(f(424)),i),i=Wh(o,i,d,u,m);break e}else for(Dn&&(zr=fn(i.stateNode.containerInfo),gr=i,jt=!0,Kr=null,Ol=!1),u=X0(i,null,d,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Qa(),d===m){i=ri(o,i,u);break e}Jn(o,i,d,u)}i=i.child}return i;case 5:return ih(i),o===null&&pm(i),d=i.type,m=i.pendingProps,h=o!==null?o.memoizedProps:null,T=m.children,Rn(d,m)?T=null:h!==null&&Rn(d,h)&&(i.flags|=32),Lh(o,i),Jn(o,i,T,u),i.child;case 6:return o===null&&pm(i),null;case 13:return Gh(o,i,u);case 4:return bm(i,i.stateNode.containerInfo),d=i.pendingProps,o===null?i.child=Ya(i,null,d,u):Jn(o,i,d,u),i.child;case 11:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Zr(d,m),Bh(o,i,d,m,u);case 7:return Jn(o,i,i.pendingProps,u),i.child;case 8:return Jn(o,i,i.pendingProps.children,u),i.child;case 12:return Jn(o,i,i.pendingProps.children,u),i.child;case 10:e:{if(d=i.type._context,m=i.pendingProps,h=i.memoizedProps,T=m.value,eh(i,d,T),h!==null)if($r(h.value,T)){if(h.children===m.children&&!Mt.current){i=ri(o,i,u);break e}}else for(h=i.child,h!==null&&(h.return=i);h!==null;){var z=h.dependencies;if(z!==null){T=h.child;for(var Y=z.firstContext;Y!==null;){if(Y.context===d){if(h.tag===1){Y=ni(-1,u&-u),Y.tag=2;var fe=h.updateQueue;if(fe!==null){fe=fe.shared;var Ie=fe.pending;Ie===null?Y.next=Y:(Y.next=Ie.next,Ie.next=Y),fe.pending=Y}}h.lanes|=u,Y=h.alternate,Y!==null&&(Y.lanes|=u),Tm(h.return,u,i),z.lanes|=u;break}Y=Y.next}}else if(h.tag===10)T=h.type===i.type?null:h.child;else if(h.tag===18){if(T=h.return,T===null)throw Error(f(341));T.lanes|=u,z=T.alternate,z!==null&&(z.lanes|=u),Tm(T,u,i),T=h.sibling}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===i){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}Jn(o,i,m.children,u),i=i.child}return i;case 9:return m=i.type,d=i.pendingProps.children,$a(i,u),m=Dr(m),d=d(m),i.flags|=1,Jn(o,i,d,u),i.child;case 14:return d=i.type,m=Zr(d,i.pendingProps),m=Zr(d.type,m),zh(o,i,d,m,u);case 15:return Dh(o,i,i.type,i.pendingProps,u);case 17:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Zr(d,m),uu(o,i),i.tag=1,Gt(d)?(o=!0,Mr(i)):o=!1,$a(i,u),Ah(i,d,m),Bm(i,d,m,u),Lm(null,i,d,!0,o,u);case 19:return jh(o,i,u);case 22:return Uh(o,i,u)}throw Error(f(156,i.tag))};function hy(o,i){return _l(o,i)}function XT(o,i,u,d){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(o,i,u,d){return new XT(o,i,u,d)}function cp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function eS(o){if(typeof o=="function")return cp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===S)return 11;if(o===N)return 14}return 2}function Ci(o,i){var u=o.alternate;return u===null?(u=Vr(o.tag,i,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=i,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&14680064,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,i=o.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u}function Au(o,i,u,d,m,h){var T=2;if(d=o,typeof o=="function")cp(o)&&(T=1);else if(typeof o=="string")T=5;else e:switch(o){case g:return ua(u.children,m,h,i);case M:T=8,m|=8;break;case w:return o=Vr(12,u,i,m|2),o.elementType=w,o.lanes=h,o;case x:return o=Vr(13,u,i,m),o.elementType=x,o.lanes=h,o;case k:return o=Vr(19,u,i,m),o.elementType=k,o.lanes=h,o;case ae:return Ru(u,m,h,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:T=10;break e;case P:T=9;break e;case S:T=11;break e;case N:T=14;break e;case F:T=16,d=null;break e}throw Error(f(130,o==null?o:typeof o,""))}return i=Vr(T,u,i,m),i.elementType=o,i.type=d,i.lanes=h,i}function ua(o,i,u,d){return o=Vr(7,o,d,i),o.lanes=u,o}function Ru(o,i,u,d){return o=Vr(22,o,d,i),o.elementType=ae,o.lanes=u,o.stateNode={isHidden:!1},o}function up(o,i,u){return o=Vr(6,o,null,i),o.lanes=u,o}function fp(o,i,u){return i=Vr(4,o.children!==null?o.children:[],o.key,i),i.lanes=u,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function tS(o,i,u,d,m){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=U,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=d,this.onRecoverableError=m,Dn&&(this.mutableSourceEagerHydrationData=null)}function yy(o,i,u,d,m,h,T,z,Y){return o=new tS(o,i,u,z,Y),i===1?(i=1,h===!0&&(i|=8)):i=0,h=Vr(3,null,null,i),o.current=h,h.stateNode=o,h.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},xm(h),o}function gy(o){if(!o)return nn;o=o._reactInternals;e:{if(oe(o)!==o||o.tag!==1)throw Error(f(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(f(171))}if(o.tag===1){var u=o.type;if(Gt(u))return Ht(o,u,i)}return i}function Ey(o){var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(f(188)):(o=Object.keys(o).join(","),Error(f(268,o)));return o=O(i),o===null?null:o.stateNode}function Ty(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<i?u:i}}function Pu(o,i){Ty(o,i),(o=o.alternate)&&Ty(o,i)}function nS(o){return o=O(o),o===null?null:o.stateNode}function rS(){return null}return r.attemptContinuousHydration=function(o){if(o.tag===13){var i=Ao(o,134217728);if(i!==null){var u=Wn();Fr(i,o,134217728,u)}Pu(o,134217728)}},r.attemptDiscreteHydration=function(o){if(o.tag===13){var i=Ao(o,1);if(i!==null){var u=Wn();Fr(i,o,1,u)}Pu(o,1)}},r.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var i=wi(o),u=Ao(o,i);if(u!==null){var d=Wn();Fr(u,o,i,d)}Pu(o,i)}},r.attemptSynchronousHydration=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var u=Ti(i.pendingLanes);u!==0&&(Ml(i,u|1),sr(i,xn()),!(st&6)&&(ns(),Io()))}break;case 13:sy(function(){var d=Ao(o,1);if(d!==null){var m=Wn();Fr(d,o,1,m)}}),Pu(o,1)}},r.batchedUpdates=function(o,i){var u=st;st|=1;try{return o(i)}finally{st=u,st===0&&(ns(),qc&&Io())}},r.createComponentSelector=function(o){return{$$typeof:hu,value:o}},r.createContainer=function(o,i,u,d,m,h,T){return yy(o,i,!1,null,u,d,m,h,T)},r.createHasPseudoClassSelector=function(o){return{$$typeof:yu,value:o}},r.createHydrationContainer=function(o,i,u,d,m,h,T,z,Y){return o=yy(u,d,!0,o,m,h,T,z,Y),o.context=gy(null),u=o.current,d=Wn(),m=wi(u),h=ni(d,m),h.callback=i??null,xi(u,h,m),o.current.lanes=m,ta(o,m,d),sr(o,d),o},r.createPortal=function(o,i,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y,key:d==null?null:""+d,children:o,containerInfo:i,implementation:u}},r.createRoleSelector=function(o){return{$$typeof:gu,value:o}},r.createTestNameSelector=function(o){return{$$typeof:Eu,value:o}},r.createTextSelector=function(o){return{$$typeof:Tu,value:o}},r.deferredUpdates=function(o){var i=dt,u=rn.transition;try{return rn.transition=null,dt=16,o()}finally{dt=i,rn.transition=u}},r.discreteUpdates=function(o,i,u,d,m){var h=dt,T=rn.transition;try{return rn.transition=null,dt=1,o(i,u,d,m)}finally{dt=h,rn.transition=T,st===0&&ns()}},r.findAllNodes=Zm,r.findBoundingRects=function(o,i){if(!qo)throw Error(f(363));i=Zm(o,i),o=[];for(var u=0;u<i.length;u++)o.push(zt(i[u]));for(i=o.length-1;0<i;i--){u=o[i];for(var d=u.x,m=d+u.width,h=u.y,T=h+u.height,z=i-1;0<=z;z--)if(i!==z){var Y=o[z],fe=Y.x,Ie=fe+Y.width,Qe=Y.y,Te=Qe+Y.height;if(d>=fe&&h>=Qe&&m<=Ie&&T<=Te){o.splice(i,1);break}else if(d!==fe||u.width!==Y.width||Te<h||Qe>T){if(!(h!==Qe||u.height!==Y.height||Ie<d||fe>m)){fe>d&&(Y.width+=fe-d,Y.x=d),Ie<m&&(Y.width=m-fe),o.splice(i,1);break}}else{Qe>h&&(Y.height+=Qe-h,Y.y=h),Te<T&&(Y.height=T-Qe),o.splice(i,1);break}}}return o},r.findHostInstance=Ey,r.findHostInstanceWithNoPortals=function(o){return o=A(o),o=o!==null?le(o):null,o===null?null:o.stateNode},r.findHostInstanceWithWarning=function(o){return Ey(o)},r.flushControlled=function(o){var i=st;st|=1;var u=rn.transition,d=dt;try{rn.transition=null,dt=1,o()}finally{dt=d,rn.transition=u,st=i,st===0&&(ns(),Io())}},r.flushPassiveEffects=ca,r.flushSync=sy,r.focusWithin=function(o,i){if(!qo)throw Error(f(363));for(o=Jm(o),i=oy(o,i),i=Array.from(i),o=0;o<i.length;){var u=i[o++];if(!Qo(u)){if(u.tag===5&&bl(u.stateNode))return!0;for(u=u.child;u!==null;)i.push(u),u=u.sibling}}return!1},r.getCurrentUpdatePriority=function(){return dt},r.getFindAllNodesFailureDescription=function(o,i){if(!qo)throw Error(f(363));var u=0,d=[];o=[Jm(o),0];for(var m=0;m<o.length;){var h=o[m++],T=o[m++],z=i[T];if((h.tag!==5||!Qo(h))&&($m(h,z)&&(d.push(Km(z)),T++,T>u&&(u=T)),T<i.length))for(h=h.child;h!==null;)o.push(h,T),h=h.sibling}if(u<i.length){for(o=[];u<i.length;u++)o.push(Km(i[u]));return`findAllNodes was able to match part of the selector:
  `+(d.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},r.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return Re(o.child.stateNode);default:return o.child.stateNode}},r.injectIntoDevTools=function(o){if(o={bundleType:o.bundleType,version:o.version,rendererPackageName:o.rendererPackageName,rendererConfig:o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:nS,findFiberByHostInstance:o.findFiberByHostInstance||rS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(i.isDisabled||!i.supportsFiber)o=!0;else{try{jc=i.inject(o),Co=i}catch{}o=!!i.checkDCE}}return o},r.isAlreadyRendering=function(){return!1},r.observeVisibleRects=function(o,i,u,d){if(!qo)throw Error(f(363));o=Zm(o,i);var m=Fa(o,u,d).disconnect;return{disconnect:function(){m()}}},r.registerMutableSourceForHydration=function(o,i){var u=i._getVersion;u=u(i._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[i,u]:o.mutableSourceEagerHydrationData.push(i,u)},r.runWithPriority=function(o,i){var u=dt;try{return dt=o,i()}finally{dt=u}},r.shouldError=function(){return null},r.shouldSuspend=function(){return!1},r.updateContainer=function(o,i,u,d){var m=i.current,h=Wn(),T=wi(m);return u=gy(u),i.context===null?i.context=u:i.pendingContext=u,i=ni(h,T),i.payload={element:o},d=d===void 0?null:d,d!==null&&(i.callback=d),o=xi(m,i,T),o!==null&&(Fr(o,m,T,h),eu(o,m,T)),T},r}});var I2=Qt((pO,C2)=>{"use strict";C2.exports=k2()});var lv={};uS(lv,{main:()=>em,onStart:()=>sv,onUpdate:()=>av,rendererTransport:()=>nm});module.exports=fS(lv);var Ai=.45454545454545453,Ri=2.2,xy=1e-6,$l=Math.PI/180,Kl=360/(Math.PI*2);var kt;(function(e){e.TwoPi=Math.PI*2;function t(ne,j,se=1401298e-51){let oe=ne-j;return-se<=oe&&oe<=se}e.withinEpsilon=t;function r(ne){let j=ne.toString(16);return ne<=15?("0"+j).toUpperCase():j.toUpperCase()}e.toHex=r;function n(ne){let j=+ne;return j===0||isNaN(j)?j:j>0?1:-1}e.sign=n;function s(ne,j=0,se=1){return Math.min(se,Math.max(j,ne))}e.clamp=s;function a(ne){return Math.log(ne)*Math.LOG2E}e.log2=a;function f(ne,j){return ne-Math.floor(ne/j)*j}e.repeat=f;function c(ne,j,se){return(ne-j)/(se-j)}e.normalize=c;function l(ne,j,se){return ne*(se-j)+j}e.denormalize=l;function y(ne,j){let se=f(j-ne,360);return se>180&&(se-=360),se}e.deltaAngle=y;function g(ne,j){let se=f(ne,j*2);return j-Math.abs(se-j)}e.pingPong=g;function M(ne,j,se){let oe=s(se);return oe=-2*oe*oe*oe+3*oe*oe,j*oe+ne*(1-oe)}e.smoothStep=M;function w(ne,j,se){let oe=0;return Math.abs(j-ne)<=se?oe=j:oe=ne+n(j-ne)*se,oe}e.moveTowards=w;function I(ne,j,se){let oe=y(ne,j),$=0;return-se<oe&&oe<se?$=j:$=w(ne,ne+oe,se),$}e.moveTowardsAngle=I;function P(ne,j,se){return ne+(j-ne)*se}e.lerp=P;function S(ne,j,se){let oe=f(j-ne,360);return oe>180&&(oe-=360),ne+oe*s(se)}e.lerpAngle=S;function x(ne,j,se){let oe=0;return ne!==j?oe=s((se-ne)/(j-ne)):oe=0,oe}e.inverseLerp=x;function k(ne,j,se,oe,$){let A=$*$,O=$*A,H=2*O-3*A+1,le=-2*O+3*A,he=O-2*A+$,Re=O-A;return ne*H+se*le+j*he+oe*Re}e.hermite=k;function N(ne,j){return ne===j?ne:Math.random()*(j-ne)+ne}e.randomRange=N;function F(ne,j,se){return(ne-j)/(se-j)}e.rangeToPercent=F;function ae(ne,j,se){return(se-j)*ne+j}e.percentToRange=ae;function Ae(ne){return ne-e.TwoPi*Math.floor((ne+Math.PI)/e.TwoPi)}e.normalizeRadians=Ae})(kt||(kt={}));var p;(function(e){function t(v){let _=Math.abs(v.x),G=Math.abs(v.y);if(_!==G)return!0;let ge=Math.abs(v.z);return _!==ge}e.isNonUniform=t;function r(v=0,_=0,G=0){return{x:v,y:_,z:G}}e.create=r;function n(v,_){return{x:v.x+_.x,y:v.y+_.y,z:v.z+_.z}}e.add=n;function s(v,_,G){G.x=v.x+_.x,G.y=v.y+_.y,G.z=v.z+_.z}e.addToRef=s;function a(v,_){return{x:v.x-_.x,y:v.y-_.y,z:v.z-_.z}}e.subtract=a;function f(v,_,G){G.x=v.x-_.x,G.y=v.y-_.y,G.z=v.z-_.z}e.subtractToRef=f;function c(v,_,G,ge,me){me.x=v.x-_,me.y=v.y-G,me.z=v.z-ge}e.subtractFromFloatsToRef=c;function l(v){return{x:-v.x,y:-v.y,z:-v.z}}e.negate=l;function y(v,_){_.x=v.x,_.y=v.y,_.z=v.z}e.copyFrom=y;function g(v,_,G,ge){ge.x=v,ge.y=_,ge.z=G}e.copyFromFloats=g;function M(v){return r(v.x,v.y,v.z)}e.clone=M;function w(v,_,G,ge){let me=$(v,G)-ge,we=$(_,G)-ge;return me/(me-we)}e.getClipFactor=w;function I(v,_,G){let ge=se(v),me=se(_),we=$(ge,me),Ve=r();return Ke(ge,me,Ve),$(Ve,G)>0?Math.acos(we):-Math.acos(we)}e.getAngleBetweenVectors=I;function P(v,_=0){return r(v[_],v[_+1],v[_+2])}e.fromArray=P;function S(v,_){return P(v,_)}e.fromFloatArray=S;function x(v,_,G){G.x=v[_],G.y=v[_+1],G.z=v[_+2]}e.fromArrayToRef=x;function k(v,_,G){return x(v,_,G)}e.fromFloatArrayToRef=k;function N(v){return Math.sqrt(v.x*v.x+v.y*v.y+v.z*v.z)}e.length=N;function F(v){return v.x*v.x+v.y*v.y+v.z*v.z}e.lengthSquared=F;function ae(v,_,G){G.x=v.x*_,G.y=v.y*_,G.z=v.z*_}e.scaleToRef=ae;function Ae(v,_){return r(v.x*_,v.y*_,v.z*_)}e.scale=Ae;function ne(v,_){let G=r(0,0,0);return j(v,_,G),G}e.normalizeFromLength=ne;function j(v,_,G){if(_===0||_===1){y(v,G);return}ae(v,1/_,G)}e.normalizeFromLengthToRef=j;function se(v){return ne(v,N(v))}e.normalize=se;function oe(v,_){j(v,N(v),_)}e.normalizeToRef=oe;function $(v,_){return v.x*_.x+v.y*_.y+v.z*_.z}e.dot=$;function A(v,_){let G=M(v);return O(v,_,G),G}e.applyMatrix4=A;function O(v,_,G){let{x:ge,y:me,z:we}=v,Ve=_._m,Ft=1/(Ve[3]*ge+Ve[7]*me+Ve[11]*we+Ve[15]);G.x=(Ve[0]*ge+Ve[4]*me+Ve[8]*we+Ve[12])*Ft,G.y=(Ve[1]*ge+Ve[5]*me+Ve[9]*we+Ve[13])*Ft,G.z=(Ve[2]*ge+Ve[6]*me+Ve[10]*we+Ve[14])*Ft}e.applyMatrix4ToRef=O;function H(v,_){let G=r();return le(v,_,G),G}e.rotate=H;function le(v,_,G){let{x:ge,y:me,z:we}=v,{x:Ve,y:Ft,z:un,w:Vt}=_,Jr=Vt*ge+Ft*we-un*me,Jo=Vt*me+un*ge-Ve*we,bo=Vt*we+Ve*me-Ft*ge,vo=-Ve*ge-Ft*me-un*we;G.x=Jr*Vt+vo*-Ve+Jo*-un-bo*-Ft,G.y=Jo*Vt+vo*-Ft+bo*-Ve-Jr*-un,G.z=bo*Vt+vo*-un+Jr*-Ft-Jo*-Ve}e.rotateToRef=le;function he(v,_,G){let ge=r(0,0,0);return Re(v,_,G,ge),ge}e.lerp=he;function Re(v,_,G,ge){ge.x=v.x+(_.x-v.x)*G,ge.y=v.y+(_.y-v.y)*G,ge.z=v.z+(_.z-v.z)*G}e.lerpToRef=Re;function $e(v,_){let G=Yo();return Ke(v,_,G),G}e.cross=$e;function Ke(v,_,G){G.x=v.y*_.z-v.z*_.y,G.y=v.z*_.x-v.x*_.z,G.z=v.x*_.y-v.y*_.x}e.crossToRef=Ke;function ot(v,_){let G=Yo();return it(v,_,G),G}e.transformCoordinates=ot;function it(v,_,G){return pt(v.x,v.y,v.z,_,G)}e.transformCoordinatesToRef=it;function pt(v,_,G,ge,me){let we=ge._m,Ve=v*we[0]+_*we[4]+G*we[8]+we[12],Ft=v*we[1]+_*we[5]+G*we[9]+we[13],un=v*we[2]+_*we[6]+G*we[10]+we[14],Vt=1/(v*we[3]+_*we[7]+G*we[11]+we[15]);me.x=Ve*Vt,me.y=Ft*Vt,me.z=un*Vt}e.transformCoordinatesFromFloatsToRef=pt;function ut(v,_){let G=Yo();return Nt(v,_,G),G}e.transformNormal=ut;function Nt(v,_,G){tt(v.x,v.y,v.z,_,G)}e.transformNormalToRef=Nt;function tt(v,_,G,ge,me){let we=ge._m;me.x=v*we[0]+_*we[4]+G*we[8],me.y=v*we[1]+_*we[5]+G*we[9],me.z=v*we[2]+_*we[6]+G*we[10]}e.transformNormalFromFloatsToRef=tt;function Rn(v,_,G,ge,me){let we=me*me,Ve=me*we,Ft=.5*(2*_.x+(-v.x+G.x)*me+(2*v.x-5*_.x+4*G.x-ge.x)*we+(-v.x+3*_.x-3*G.x+ge.x)*Ve),un=.5*(2*_.y+(-v.y+G.y)*me+(2*v.y-5*_.y+4*G.y-ge.y)*we+(-v.y+3*_.y-3*G.y+ge.y)*Ve),Vt=.5*(2*_.z+(-v.z+G.z)*me+(2*v.z-5*_.z+4*G.z-ge.z)*we+(-v.z+3*_.z-3*G.z+ge.z)*Ve);return r(Ft,un,Vt)}e.catmullRom=Rn;function W(v,_,G){let ge=r();return X(v,_,G,ge),ge}e.clamp=W;function X(v,_,G,ge){let me=v.x;me=me>G.x?G.x:me,me=me<_.x?_.x:me;let we=v.y;we=we>G.y?G.y:we,we=we<_.y?_.y:we;let Ve=v.z;Ve=Ve>G.z?G.z:Ve,Ve=Ve<_.z?_.z:Ve,g(me,we,Ve,ge)}e.clampToRef=X;function ye(v,_,G,ge,me){let we=me*me,Ve=me*we,Ft=2*Ve-3*we+1,un=-2*Ve+3*we,Vt=Ve-2*we+me,Jr=Ve-we,Jo=v.x*Ft+G.x*un+_.x*Vt+ge.x*Jr,bo=v.y*Ft+G.y*un+_.y*Vt+ge.y*Jr,vo=v.z*Ft+G.z*un+_.z*Vt+ge.z*Jr;return r(Jo,bo,vo)}e.hermite=ye;function U(v,_){let G=r();return Va(_,v.x,v.y,v.z,G),G}e.minimize=U;function J(v,_){let G=r();return Fa(v,_.x,_.y,_.z,G),G}e.maximize=J;function ve(v,_){return Math.sqrt(Tt(v,_))}e.distance=ve;function Tt(v,_){let G=v.x-_.x,ge=v.y-_.y,me=v.z-_.z;return G*G+ge*ge+me*me}e.distanceSquared=Tt;function Dn(v,_){let G=n(v,_);return ae(G,.5,G),G}e.center=Dn;function Tl(v,_,G){let ge=Yo();return za(v,_,G,ge),ge}e.rotationFromAxis=Tl;function za(v,_,G,ge){let me=V.create();V.fromAxisToRotationQuaternionToRef(v,_,G,me),y(V.toEulerAngles(me),ge)}e.rotationFromAxisToRef=za;function Sl(v){return`(${v.x}, ${v.y}, ${v.z})`}e.toString=Sl;function Ji(v){let _=v.x||0;return _=_*397^(v.y||0),_=_*397^(v.z||0),_}e.getHashCode=Ji;function xl(v,_){return v.x===_.x&&v.y===_.y&&v.z===_.z}e.equals=xl;function Da(v,_,G=xy){return kt.withinEpsilon(v.x,_.x,G)&&kt.withinEpsilon(v.y,_.y,G)&&kt.withinEpsilon(v.z,_.z,G)}e.equalsWithEpsilon=Da;function qo(v,_,G,ge){return v.x===_&&v.y===G&&v.z===ge}e.equalsToFloats=qo;function $i(v,_){let G=r();return zt(v,_,G),G}e.multiply=$i;function zt(v,_,G){G.x=v.x*_.x,G.y=v.y*_.y,G.z=v.z*_.z}e.multiplyToRef=zt;function Ua(v,_,G,ge,me){me.x=v.x*_,me.y=v.y*G,me.z=v.z*ge}e.multiplyByFloatsToRef=Ua;function Qo(v,_,G,ge){let me=r();return Ua(v,_,G,ge,me),me}e.multiplyByFloats=Qo;function La(v,_){return{x:v.x/_.x,y:v.y/_.y,z:v.z/_.z}}e.divide=La;function bl(v,_,G){G.x=v.x/_.x,G.y=v.y/_.y,G.z=v.z/_.z}e.divideToRef=bl;function Fa(v,_,G,ge,me){_>v.x?me.x=_:me.x=v.x,G>v.y?me.y=G:me.y=v.y,ge>v.z?me.z=ge:me.z=v.z}e.maximizeInPlaceFromFloatsToRef=Fa;function Va(v,_,G,ge,me){_<v.x?me.x=_:me.x=v.x,G<v.y?me.y=G:me.y=v.y,ge<v.z?me.z=ge:me.z=v.z}e.minimizeInPlaceFromFloatsToRef=Va;function vl(v){return r(Math.floor(v.x),Math.floor(v.y),Math.floor(v.z))}e.floor=vl;function Wa(v){return r(v.x-Math.floor(v.x),v.y-Math.floor(v.y),v.z-Math.floor(v.z))}e.fract=Wa;function Yo(){return r(0,0,0)}e.Zero=Yo;function wl(){return r(1,1,1)}e.One=wl;function Ki(){return r(0,1,0)}e.Up=Ki;function kl(){return r(0,-1,0)}e.Down=kl;function Cl(){return r(0,0,1)}e.Forward=Cl;function Ga(){return r(0,0,-1)}e.Backward=Ga;function Zi(){return r(1,0,0)}e.Right=Zi;function Il(){return r(-1,0,0)}e.Left=Il;function Al(){return r(Math.random(),Math.random(),Math.random())}e.Random=Al})(p||(p={}));var Mu;(function(e){function t(S,x,k,N){return{normal:p.create(S,x,k),d:N}}e.create=t;function r(S){return t(S[0],S[1],S[2],S[3])}e.fromArray=r;function n(S,x,k){return t(0,0,0,0)}e.fromPoints=n;function s(S,x){let k=t(0,0,0,0);return k.normal=p.normalize(x),k.d=-(x.x*S.x+x.y*S.y+x.z*S.z),k}e.romPositionAndNormal=s;function a(S,x,k){let N=-(x.x*S.x+x.y*S.y+x.z*S.z);return p.dot(k,x)+N}e.signedDistanceToPlaneFromPositionAndNormal=a;function f(S){return[S.normal.x,S.normal.y,S.normal.z,S.d]}e.asArray=f;function c(S){return t(S.normal.x,S.normal.y,S.normal.z,S.d)}e.clone=c;function l(S){return 0}e.getHashCode=l;function y(S){let x=t(0,0,0,0),k=Math.sqrt(S.normal.x*S.normal.x+S.normal.y*S.normal.y+S.normal.z*S.normal.z),N=0;return k!==0&&(N=1/k),x.normal.x=S.normal.x*N,x.normal.y=S.normal.y*N,x.normal.z=S.normal.z*N,x.d*=N,S}e.normalize=y;function g(S,x){let k=to.create();to.transposeToRef(x,k);let N=k._m,F=S.normal.x,ae=S.normal.y,Ae=S.normal.z,ne=S.d,j=F*N[0]+ae*N[1]+Ae*N[2]+ne*N[3],se=F*N[4]+ae*N[5]+Ae*N[6]+ne*N[7],oe=F*N[8]+ae*N[9]+Ae*N[10]+ne*N[11],$=F*N[12]+ae*N[13]+Ae*N[14]+ne*N[15];return t(j,se,oe,$)}e.transform=g;function M(S,x){return S.normal.x*x.x+S.normal.y*x.y+S.normal.z*x.z+S.d}e.dotCoordinate=M;function w(S,x,k){let N=x.x-S.x,F=x.y-S.y,ae=x.z-S.z,Ae=k.x-S.x,ne=k.y-S.y,j=k.z-S.z,se=F*j-ae*ne,oe=ae*Ae-N*j,$=N*ne-F*Ae,A=Math.sqrt(se*se+oe*oe+$*$),O;A!==0?O=1/A:O=0;let H=p.create(se*O,oe*O,$*O);return{normal:H,d:-(H.x*S.x+H.y*S.y+H.z*S.z)}}e.copyFromPoints=w;function I(S,x,k){return p.dot(S.normal,x)<=k}e.isFrontFacingTo=I;function P(S,x){return p.dot(x,S.normal)+S.d}e.signedDistanceTo=P})(Mu||(Mu={}));var to;(function(e){function t(E){return E._m}e.m=t;let r=0,n={};function s(){return n}e.IdentityReadonly=s;function a(){let E={updateFlag:0,isIdentity:!1,isIdentity3x2:!0,_isIdentityDirty:!0,_isIdentity3x2Dirty:!0,_m:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};return fn(E,!1),E}e.create=a;function f(E,b=0){let C=a();return c(E,b,C),C}e.fromArray=f;function c(E,b,C){for(let R=0;R<16;R++)C._m[R]=E[R+b];zt(C)}e.fromArrayToRef=c;function l(E,b,C,R){for(let D=0;D<16;D++)R._m[D]=E[D+b]*C;zt(R)}e.fromFloatArrayToRefScaled=l;function y(E,b,C,R,D,ee,Z,de,Ce,Ue,Ge,ht,We,Rt,Dt,$t,Wt){let Oe=Wt._m;Oe[0]=E,Oe[1]=b,Oe[2]=C,Oe[3]=R,Oe[4]=D,Oe[5]=ee,Oe[6]=Z,Oe[7]=de,Oe[8]=Ce,Oe[9]=Ue,Oe[10]=Ge,Oe[11]=ht,Oe[12]=We,Oe[13]=Rt,Oe[14]=Dt,Oe[15]=$t,zt(Wt)}e.fromValuesToRef=y;function g(E,b,C,R,D,ee,Z,de,Ce,Ue,Ge,ht,We,Rt,Dt,$t){let Wt=a(),Oe=Wt._m;return Oe[0]=E,Oe[1]=b,Oe[2]=C,Oe[3]=R,Oe[4]=D,Oe[5]=ee,Oe[6]=Z,Oe[7]=de,Oe[8]=Ce,Oe[9]=Ue,Oe[10]=Ge,Oe[11]=ht,Oe[12]=We,Oe[13]=Rt,Oe[14]=Dt,Oe[15]=$t,zt(Wt),Wt}e.fromValues=g;function M(E,b,C){let R=a();return w(E,b,C,R),R}e.compose=M;function w(E,b,C,R){let D=[a(),a(),a()];A(E.x,E.y,E.z,D[1]),$i(b,D[0]),me(D[1],D[0],R),Zi(R,C)}e.composeToRef=w;function I(){let E=g(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return fn(E,!0),E}e.Identity=I;function P(E){y(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,E),fn(E,!0)}e.IdentityToRef=P;function S(){let E=g(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return fn(E,!1),E}e.Zero=S;function x(E){let b=a();return k(E,b),b}e.RotationX=x;function k(E,b){let C=Math.sin(E),R=Math.cos(E);y(1,0,0,0,0,R,C,0,0,-C,R,0,0,0,0,1,b),fn(b,R===1&&C===0)}e.rotationXToRef=k;function N(E){let b=a();return F(E,b),b}e.rotationY=N;function F(E,b){let C=Math.sin(E),R=Math.cos(E);y(R,0,-C,0,0,1,0,0,C,0,R,0,0,0,0,1,b),fn(b,R===1&&C===0)}e.rotationYToRef=F;function ae(E){let b=a();return Ae(E,b),b}e.rotationZ=ae;function Ae(E,b){let C=Math.sin(E),R=Math.cos(E);y(R,C,0,0,-C,R,0,0,0,0,1,0,0,0,0,1,b),fn(b,R===1&&C===0)}e.rotationZToRef=Ae;function ne(E,b){let C=a();return j(E,b,C),C}e.rotationAxis=ne;function j(E,b,C){let R=Math.sin(-b),D=Math.cos(-b),ee=1-D,Z=p.normalize(E),de=C._m;de[0]=Z.x*Z.x*ee+D,de[1]=Z.x*Z.y*ee-Z.z*R,de[2]=Z.x*Z.z*ee+Z.y*R,de[3]=0,de[4]=Z.y*Z.x*ee+Z.z*R,de[5]=Z.y*Z.y*ee+D,de[6]=Z.y*Z.z*ee-Z.x*R,de[7]=0,de[8]=Z.z*Z.x*ee-Z.y*R,de[9]=Z.z*Z.y*ee+Z.x*R,de[10]=Z.z*Z.z*ee+D,de[11]=0,de[12]=0,de[13]=0,de[14]=0,de[15]=1,zt(C)}e.rotationAxisToRef=j;function se(E,b,C){let R=a();return oe(E,b,C,R),R}e.rotationYawPitchRoll=se;function oe(E,b,C,R){let D=V.Zero();V.fromRotationYawPitchRollToRef(E,b,C,D),$i(D,R)}e.rotationYawPitchRollToRef=oe;function $(E,b,C){let R=a();return A(E,b,C,R),R}e.scaling=$;function A(E,b,C,R){y(E,0,0,0,0,b,0,0,0,0,C,0,0,0,0,1,R),fn(R,E===1&&b===1&&C===1)}e.scalingToRef=A;function O(E,b,C){let R=a();return H(E,b,C,R),R}e.translation=O;function H(E,b,C,R){y(1,0,0,0,0,1,0,0,0,0,1,0,E,b,C,1,R),fn(R,E===0&&b===0&&C===0)}e.translationToRef=H;function le(E,b,C){let R=a();return he(E,b,C,R),R}e.lerp=le;function he(E,b,C,R){for(let D=0;D<16;D++)R._m[D]=E._m[D]*(1-C)+b._m[D]*C;zt(R)}e.lerpToRef=he;function Re(E,b,C){let R=a();return $e(E,b,C,R),R}e.decomposeLerp=Re;function $e(E,b,C,R){let D=p.Zero(),ee=V.Zero(),Z=p.Zero();Vt(E,D,ee,Z);let de=p.Zero(),Ce=V.Zero(),Ue=p.Zero();Vt(b,de,Ce,Ue);let Ge=p.Zero();p.lerpToRef(D,de,C,Ge);let ht=V.Zero();V.slerpToRef(ee,Ce,C,ht);let We=p.Zero();p.lerpToRef(Z,Ue,C,We),w(Ge,ht,We,R)}e.decomposeLerpToRef=$e;function Ke(E,b,C){let R=a();return ot(E,b,C,R),R}e.LookAtLH=Ke;function ot(E,b,C,R){let D=p.Zero(),ee=p.Zero(),Z=p.Zero();p.subtractToRef(b,E,Z),p.normalizeToRef(Z,Z),p.crossToRef(C,Z,D);let de=p.lengthSquared(D);de===0?D.x=1:p.normalizeFromLengthToRef(D,Math.sqrt(de),D),p.crossToRef(Z,D,ee),p.normalizeToRef(ee,ee);let Ce=-p.dot(D,E),Ue=-p.dot(ee,E),Ge=-p.dot(Z,E);y(D.x,ee.x,Z.x,0,D.y,ee.y,Z.y,0,D.z,ee.z,Z.z,0,Ce,Ue,Ge,1,R)}e.lookAtLHToRef=ot;function it(E,b,C){let R=a();return pt(E,b,C,R),R}e.lookAtRH=it;function pt(E,b,C,R){let D=p.Zero(),ee=p.Zero(),Z=p.Zero();p.subtractToRef(E,b,Z),p.normalizeToRef(Z,Z),p.crossToRef(C,Z,D);let de=p.lengthSquared(D);de===0?D.x=1:p.normalizeFromLengthToRef(D,Math.sqrt(de),D),p.crossToRef(Z,D,ee),p.normalizeToRef(ee,ee);let Ce=-p.dot(D,E),Ue=-p.dot(ee,E),Ge=-p.dot(Z,E);y(D.x,ee.x,Z.x,0,D.y,ee.y,Z.y,0,D.z,ee.z,Z.z,0,Ce,Ue,Ge,1,R)}e.lookAtRHToRef=pt;function ut(E,b,C,R){let D=a();return Nt(E,b,C,R,D),D}e.orthoLH=ut;function Nt(E,b,C,R,D){let ee=C,Z=R,de=2/E,Ce=2/b,Ue=2/(Z-ee),Ge=-(Z+ee)/(Z-ee);y(de,0,0,0,0,Ce,0,0,0,0,Ue,0,0,0,Ge,1,D),fn(D,de===1&&Ce===1&&Ue===1&&Ge===0)}e.orthoLHToRef=Nt;function tt(E,b,C,R,D,ee){let Z=a();return Rn(E,b,C,R,D,ee,Z),Z}e.OrthoOffCenterLH=tt;function Rn(E,b,C,R,D,ee,Z){let de=D,Ce=ee,Ue=2/(b-E),Ge=2/(R-C),ht=2/(Ce-de),We=-(Ce+de)/(Ce-de),Rt=(E+b)/(E-b),Dt=(R+C)/(C-R);y(Ue,0,0,0,0,Ge,0,0,0,0,ht,0,Rt,Dt,We,1,Z),zt(Z)}e.orthoOffCenterLHToRef=Rn;function W(E,b,C,R,D,ee){let Z=a();return X(E,b,C,R,D,ee,Z),Z}e.orthoOffCenterRH=W;function X(E,b,C,R,D,ee,Z){Rn(E,b,C,R,D,ee,Z),Z._m[10]*=-1}e.orthoOffCenterRHToRef=X;function ye(E,b,C,R){let D=a(),ee=C,Z=R,de=2*ee/E,Ce=2*ee/b,Ue=(Z+ee)/(Z-ee),Ge=-2*Z*ee/(Z-ee);return y(de,0,0,0,0,Ce,0,0,0,0,Ue,1,0,0,Ge,0,D),fn(D,!1),D}e.perspectiveLH=ye;function U(E,b,C,R){let D=a();return J(E,b,C,R,D),D}e.perspectiveFovLH=U;function J(E,b,C,R,D,ee=!0){let Z=C,de=R,Ce=1/Math.tan(E*.5),Ue=ee?Ce/b:Ce,Ge=ee?Ce:Ce*b,ht=(de+Z)/(de-Z),We=-2*de*Z/(de-Z);y(Ue,0,0,0,0,Ge,0,0,0,0,ht,1,0,0,We,0,D),fn(D,!1)}e.perspectiveFovLHToRef=J;function ve(E,b,C,R){let D=a();return Tt(E,b,C,R,D),D}e.PerspectiveFovRH=ve;function Tt(E,b,C,R,D,ee=!0){let Z=C,de=R,Ce=1/Math.tan(E*.5),Ue=ee?Ce/b:Ce,Ge=ee?Ce:Ce*b,ht=-(de+Z)/(de-Z),We=-2*de*Z/(de-Z);y(Ue,0,0,0,0,Ge,0,0,0,0,ht,-1,0,0,We,0,D),fn(D,!1)}e.perspectiveFovRHToRef=Tt;function Dn(E,b,C,R,D=!1){let ee=D?-1:1,Z=Math.tan(E.upDegrees*Math.PI/180),de=Math.tan(E.downDegrees*Math.PI/180),Ce=Math.tan(E.leftDegrees*Math.PI/180),Ue=Math.tan(E.rightDegrees*Math.PI/180),Ge=2/(Ce+Ue),ht=2/(Z+de),We=R._m;We[0]=Ge,We[1]=We[2]=We[3]=We[4]=0,We[5]=ht,We[6]=We[7]=0,We[8]=(Ce-Ue)*Ge*.5,We[9]=-((Z-de)*ht*.5),We[10]=-C/(b-C),We[11]=1*ee,We[12]=We[13]=We[15]=0,We[14]=-(2*C*b)/(C-b),zt(R)}e.perspectiveFovWebVRToRef=Dn;function Tl(E){return[E._m[0],E._m[1],E._m[4],E._m[5]]}e.GetAsMatrix2x2=Tl;function za(E){return[E._m[0],E._m[1],E._m[2],E._m[4],E._m[5],E._m[6],E._m[8],E._m[9],E._m[10]]}e.GetAsMatrix3x3=za;function Sl(E){let b=a();return Ji(E,b),b}e.transpose=Sl;function Ji(E,b){let C=b._m,R=E._m;C[0]=R[0],C[1]=R[4],C[2]=R[8],C[3]=R[12],C[4]=R[1],C[5]=R[5],C[6]=R[9],C[7]=R[13],C[8]=R[2],C[9]=R[6],C[10]=R[10],C[11]=R[14],C[12]=R[3],C[13]=R[7],C[14]=R[11],C[15]=R[15],fn(b,E.isIdentity,E._isIdentityDirty)}e.transposeToRef=Ji;function xl(E){let b=a();return Da(E,b),b}e.reflection=xl;function Da(E,b){let C=Mu.normalize(E),R=C.normal.x,D=C.normal.y,ee=C.normal.z,Z=-2*R,de=-2*D,Ce=-2*ee;y(Z*R+1,de*R,Ce*R,0,Z*D,de*D+1,Ce*D,0,Z*ee,de*ee,Ce*ee+1,0,Z*C.d,de*C.d,Ce*C.d,1,b)}e.reflectionToRef=Da;function qo(E,b,C,R){y(E.x,E.y,E.z,0,b.x,b.y,b.z,0,C.x,C.y,C.z,0,0,0,0,1,R)}e.fromXYZAxesToRef=qo;function $i(E,b){let C=E.x*E.x,R=E.y*E.y,D=E.z*E.z,ee=E.x*E.y,Z=E.z*E.w,de=E.z*E.x,Ce=E.y*E.w,Ue=E.y*E.z,Ge=E.x*E.w;b._m[0]=1-2*(R+D),b._m[1]=2*(ee+Z),b._m[2]=2*(de-Ce),b._m[3]=0,b._m[4]=2*(ee-Z),b._m[5]=1-2*(D+C),b._m[6]=2*(Ue+Ge),b._m[7]=0,b._m[8]=2*(de+Ce),b._m[9]=2*(Ue-Ge),b._m[10]=1-2*(R+C),b._m[11]=0,b._m[12]=0,b._m[13]=0,b._m[14]=0,b._m[15]=1,zt(b)}e.fromQuaternionToRef=$i;function zt(E){E.updateFlag=r++,E.isIdentity=!1,E.isIdentity3x2=!1,E._isIdentityDirty=!0,E._isIdentity3x2Dirty=!0}function Ua(E){if(E._isIdentityDirty){E._isIdentityDirty=!1;let b=E._m;E.isIdentity=b[0]===1&&b[1]===0&&b[2]===0&&b[3]===0&&b[4]===0&&b[5]===1&&b[6]===0&&b[7]===0&&b[8]===0&&b[9]===0&&b[10]===1&&b[11]===0&&b[12]===0&&b[13]===0&&b[14]===0&&b[15]===1}return E.isIdentity}e.isIdentityUpdate=Ua;function Qo(E){return E._isIdentity3x2Dirty&&(E._isIdentity3x2Dirty=!1,E._m[0]!==1||E._m[5]!==1||E._m[15]!==1||E._m[1]!==0||E._m[2]!==0||E._m[3]!==0||E._m[4]!==0||E._m[6]!==0||E._m[7]!==0||E._m[8]!==0||E._m[9]!==0||E._m[10]!==0||E._m[11]!==0||E._m[12]!==0||E._m[13]!==0||E._m[14]!==0?E.isIdentity3x2=!1:E.isIdentity3x2=!0),E.isIdentity3x2}e.isIdentityAs3x2Update=Qo;function La(E){if(E.isIdentity===!0)return 1;let b=E._m,C=b[0],R=b[1],D=b[2],ee=b[3],Z=b[4],de=b[5],Ce=b[6],Ue=b[7],Ge=b[8],ht=b[9],We=b[10],Rt=b[11],Dt=b[12],$t=b[13],Wt=b[14],Oe=b[15],en=We*Oe-Wt*Rt,tn=ht*Oe-$t*Rt,at=ht*Wt-$t*We,nt=Ge*Oe-Dt*Rt,nn=Ge*Wt-We*Dt,It=Ge*$t-Dt*ht,Mt=+(de*en-Ce*tn+Ue*at),Pn=-(Z*en-Ce*nt+Ue*nn),Un=+(Z*tn-de*nt+Ue*It),Gt=-(Z*at-de*nn+Ce*It);return C*Mt+R*Pn+D*Un+ee*Gt}e.determinant=La;function bl(E){return E._m}e.toArray=bl;function Fa(E){return E._m}e.asArray=Fa;function Va(E){y(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,E),fn(E,!1)}e.reset=Va;function vl(E,b){let C=a();return Wa(E,b,C),C}e.add=vl;function Wa(E,b,C){for(let R=0;R<16;R++)C._m[R]=E._m[R]+b._m[R];zt(C)}e.addToRef=Wa;function Yo(E,b){for(let C=0;C<16;C++)E._m[C]+=b._m[C];zt(E)}e.addToSelf=Yo;function wl(E){let b=a();return Ki(E,b),b}e.invert=wl;function Ki(E,b){if(E.isIdentity===!0){G(E,b);return}let C=E._m,R=C[0],D=C[1],ee=C[2],Z=C[3],de=C[4],Ce=C[5],Ue=C[6],Ge=C[7],ht=C[8],We=C[9],Rt=C[10],Dt=C[11],$t=C[12],Wt=C[13],Oe=C[14],en=C[15],tn=Rt*en-Oe*Dt,at=We*en-Wt*Dt,nt=We*Oe-Wt*Rt,nn=ht*en-$t*Dt,It=ht*Oe-Rt*$t,Mt=ht*Wt-$t*We,Pn=+(Ce*tn-Ue*at+Ge*nt),Un=-(de*tn-Ue*nn+Ge*It),Gt=+(de*at-Ce*nn+Ge*Mt),Nr=-(de*nt-Ce*It+Ue*Mt),wo=R*Pn+D*Un+ee*Gt+Z*Nr;if(wo===0){G(E,b);return}let Ht=1/wo,Mr=Ue*en-Oe*Ge,ko=Ce*en-Wt*Ge,dn=Ce*Oe-Wt*Ue,$o=de*en-$t*Ge,Ko=de*Oe-$t*Ue,Zo=de*Wt-$t*Ce,_r=Ue*Dt-Rt*Ge,Xi=Ce*Dt-We*Ge,Ti=Ce*Rt-We*Ue,ea=de*Dt-ht*Ge,Fc=de*Rt-ht*Ue,Vc=de*We-ht*Ce,Pl=-(D*tn-ee*at+Z*nt),Wc=+(R*tn-ee*nn+Z*It),Nl=-(R*at-D*nn+Z*Mt),ta=+(R*nt-D*It+ee*Mt),im=+(D*Mr-ee*ko+Z*dn),Ml=-(R*Mr-ee*$o+Z*Ko),dt=+(R*ko-D*$o+Z*Zo),Gc=-(R*dn-D*Ko+ee*Zo),_l=-(D*_r-ee*Xi+Z*Ti),Hc=+(R*_r-ee*ea+Z*Fc),am=-(R*Xi-D*ea+Z*Vc),sm=+(R*Ti-D*Fc+ee*Vc);y(Pn*Ht,Pl*Ht,im*Ht,_l*Ht,Un*Ht,Wc*Ht,Ml*Ht,Hc*Ht,Gt*Ht,Nl*Ht,dt*Ht,am*Ht,Nr*Ht,ta*Ht,Gc*Ht,sm*Ht,b)}e.invertToRef=Ki;function kl(E,b,C){E._m[b]+=C,zt(E)}e.addAtIndex=kl;function Cl(E,b,C){return E._m[b]*=C,zt(E),E}e.multiplyAtIndex=Cl;function Ga(E,b,C,R){E._m[12]=b,E._m[13]=C,E._m[14]=R,zt(E)}e.setTranslationFromFloats=Ga;function Zi(E,b){Ga(E,b.x,b.y,b.z)}e.setTranslation=Zi;function Il(E){return p.create(E._m[12],E._m[13],E._m[14])}e.getTranslation=Il;function Al(E,b){b.x=E._m[12],b.y=E._m[13],b.z=E._m[14]}e.getTranslationToRef=Al;function v(E){let b=E._m;return y(1,0,0,0,0,1,0,0,0,0,1,0,b[12],b[13],b[14],b[15],E),fn(E,b[12]===0&&b[13]===0&&b[14]===0&&b[15]===1),E}e.removeRotationAndScaling=v;function _(E,b){let C=a();return me(E,b,C),C}e.multiply=_;function G(E,b){ge(E,b._m),fn(b,E.isIdentity,E._isIdentityDirty,E.isIdentity3x2,E._isIdentity3x2Dirty)}e.copy=G;function ge(E,b,C=0){for(let R=0;R<16;R++)b[C+R]=E._m[R]}e.copyToArray=ge;function me(E,b,C){if(E.isIdentity){G(b,C);return}if(b.isIdentity){G(E,C);return}we(E,b,C._m,0),zt(C)}e.multiplyToRef=me;function we(E,b,C,R){let D=E._m,ee=b._m,Z=D[0],de=D[1],Ce=D[2],Ue=D[3],Ge=D[4],ht=D[5],We=D[6],Rt=D[7],Dt=D[8],$t=D[9],Wt=D[10],Oe=D[11],en=D[12],tn=D[13],at=D[14],nt=D[15],nn=ee[0],It=ee[1],Mt=ee[2],Pn=ee[3],Un=ee[4],Gt=ee[5],Nr=ee[6],wo=ee[7],Ht=ee[8],Mr=ee[9],ko=ee[10],dn=ee[11],$o=ee[12],Ko=ee[13],Zo=ee[14],_r=ee[15];C[R]=Z*nn+de*Un+Ce*Ht+Ue*$o,C[R+1]=Z*It+de*Gt+Ce*Mr+Ue*Ko,C[R+2]=Z*Mt+de*Nr+Ce*ko+Ue*Zo,C[R+3]=Z*Pn+de*wo+Ce*dn+Ue*_r,C[R+4]=Ge*nn+ht*Un+We*Ht+Rt*$o,C[R+5]=Ge*It+ht*Gt+We*Mr+Rt*Ko,C[R+6]=Ge*Mt+ht*Nr+We*ko+Rt*Zo,C[R+7]=Ge*Pn+ht*wo+We*dn+Rt*_r,C[R+8]=Dt*nn+$t*Un+Wt*Ht+Oe*$o,C[R+9]=Dt*It+$t*Gt+Wt*Mr+Oe*Ko,C[R+10]=Dt*Mt+$t*Nr+Wt*ko+Oe*Zo,C[R+11]=Dt*Pn+$t*wo+Wt*dn+Oe*_r,C[R+12]=en*nn+tn*Un+at*Ht+nt*$o,C[R+13]=en*It+tn*Gt+at*Mr+nt*Ko,C[R+14]=en*Mt+tn*Nr+at*ko+nt*Zo,C[R+15]=en*Pn+tn*wo+at*dn+nt*_r}e.multiplyToArray=we;function Ve(E,b){let C=b;if(!C)return!1;if((E.isIdentity||C.isIdentity)&&!E._isIdentityDirty&&!C._isIdentityDirty)return E.isIdentity&&C.isIdentity;let R=E._m,D=C._m;return R[0]===D[0]&&R[1]===D[1]&&R[2]===D[2]&&R[3]===D[3]&&R[4]===D[4]&&R[5]===D[5]&&R[6]===D[6]&&R[7]===D[7]&&R[8]===D[8]&&R[9]===D[9]&&R[10]===D[10]&&R[11]===D[11]&&R[12]===D[12]&&R[13]===D[13]&&R[14]===D[14]&&R[15]===D[15]}e.equals=Ve;function Ft(E){let b=a();return G(E,b),b}e.clone=Ft;function un(E){let b=E._m[0]||0;for(let C=1;C<16;C++)b=b*397^(E._m[C]||0);return b}e.getHashCode=un;function Vt(E,b,C,R){if(E.isIdentity)return R&&(R.x=0,R.y=0,R.z=0),b&&(b.x=1,b.y=1,b.z=1),C&&(C.w=1,C.x=0,C.y=0,C.z=0),!0;let D=E._m;R&&(R.x=D[12],R.y=D[13],R.z=D[14]);let ee=b||p.Zero();if(ee.x=Math.sqrt(D[0]*D[0]+D[1]*D[1]+D[2]*D[2]),ee.y=Math.sqrt(D[4]*D[4]+D[5]*D[5]+D[6]*D[6]),ee.z=Math.sqrt(D[8]*D[8]+D[9]*D[9]+D[10]*D[10]),La(E)<=0&&(ee.y*=-1),ee.x===0||ee.y===0||ee.z===0)return C&&(C.w=1,C.x=0,C.y=0,C.z=0),!1;if(C){let Z=1/ee.x,de=1/ee.y,Ce=1/ee.z,Ue=a();y(D[0]*Z,D[1]*Z,D[2]*Z,0,D[4]*de,D[5]*de,D[6]*de,0,D[8]*Ce,D[9]*Ce,D[10]*Ce,0,0,0,0,1,Ue),V.fromRotationMatrixToRef(Ue,C)}return!0}e.decompose=Vt;function Jr(E,b,C,R,D,ee){if(b<0||b>3)return;let Z=b*4;E._m[Z+0]=C,E._m[Z+1]=R,E._m[Z+2]=D,E._m[Z+3]=ee,zt(E)}e.setRowFromFloats=Jr;function Jo(E,b){let C=a();return bo(E,b,C),C}e.scale=Jo;function bo(E,b,C){for(let R=0;R<16;R++)C._m[R]=E._m[R]*b;zt(C)}e.scaleToRef=bo;function vo(E,b,C){for(let R=0;R<16;R++)C._m[R]+=E._m[R]*b;zt(C)}e.scaleAndAddToRef=vo;function Rl(E,b){let C=a();Ki(E,C),Ji(C,b);let R=b._m;y(R[0],R[1],R[2],0,R[4],R[5],R[6],0,R[8],R[9],R[10],0,0,0,0,1,b)}e.normalMatrixToRef=Rl;function rm(E){let b=a();return Lc(E,b),b}e.getRotationMatrix=rm;function Lc(E,b){let C=p.Zero();if(!Vt(E,C)){b=I();return}let R=E._m,D=1/C.x,ee=1/C.y,Z=1/C.z;y(R[0]*D,R[1]*D,R[2]*D,0,R[4]*ee,R[5]*ee,R[6]*ee,0,R[8]*Z,R[9]*Z,R[10]*Z,0,0,0,0,1,b)}e.getRotationMatrixToRef=Lc;function Ha(E){E._m[2]*=-1,E._m[6]*=-1,E._m[8]*=-1,E._m[9]*=-1,E._m[14]*=-1,zt(E)}e.toggleModelMatrixHandInPlace=Ha;function om(E){E._m[8]*=-1,E._m[9]*=-1,E._m[10]*=-1,E._m[11]*=-1,zt(E)}e.toggleProjectionMatrixHandInPlace=om;function fn(E,b,C=!1,R=!1,D=!0){E.updateFlag=r++,E.isIdentity=b,E.isIdentity3x2=b||R,E._isIdentityDirty=E.isIdentity?!1:C,E._isIdentity3x2Dirty=E.isIdentity3x2?!1:D}})(to||(to={}));var V;(function(e){function t(A=0,O=0,H=0,le=1){return{x:A,y:O,z:H,w:le}}e.create=t;function r(A,O){return{x:A.x+O.x,y:A.y+O.y,z:A.z+O.z,w:A.w+O.w}}e.add=r;function n(A,O,H){let le=O*.5,he=A*.5,Re=H*.5,$e=Math.cos(le),Ke=Math.cos(he),ot=Math.cos(Re),it=Math.sin(le),pt=Math.sin(he),ut=Math.sin(Re);return t(Ke*it*ot+pt*$e*ut,pt*$e*ot-Ke*it*ut,Ke*$e*ut-pt*it*ot,Ke*$e*ot+pt*it*ut)}e.fromRotationYawPitchRoll=n;function s(A,O,H){return n(O*$l,A*$l,H*$l)}e.fromEulerDegrees=s;function a(A){return Math.sqrt(f(A))}e.length=a;function f(A){return A.x*A.x+A.y*A.y+A.z*A.z+A.w*A.w}e.lengthSquared=f;function c(A,O){return A.x*O.x+A.y*O.y+A.z*O.z+A.w*O.w}e.dot=c;function l(A,O){let H=c(A,O);return Math.acos(Math.min(Math.abs(H),1))*2*Kl}e.angle=l;function y(A,O,H){let le=l(A,O);if(le===0)return O;let he=Math.min(1,H/le);return k(A,O,he)}e.rotateTowards=y;function g(A,O={x:0,y:1,z:0}){let H=p.normalize(A),le=p.normalize(p.cross(O,H)),he=p.cross(H,le),Re=le.x,$e=le.y,Ke=le.z,ot=he.x,it=he.y,pt=he.z,ut=H.x,Nt=H.y,tt=H.z,Rn=Re+it+tt,W=t();if(Rn>0){let U=Math.sqrt(Rn+1);return W.w=U*.5,U=.5/U,W.x=(pt-Nt)*U,W.y=(ut-Ke)*U,W.z=($e-ot)*U,W}if(Re>=it&&Re>=tt){let U=Math.sqrt(1+Re-it-tt),J=.5/U;return W.x=.5*U,W.y=($e+ot)*J,W.z=(Ke+ut)*J,W.w=(pt-Nt)*J,W}if(it>tt){let U=Math.sqrt(1+it-Re-tt),J=.5/U;return W.x=(ot+$e)*J,W.y=.5*U,W.z=(Nt+pt)*J,W.w=(ut-Ke)*J,W}let X=Math.sqrt(1+tt-Re-it),ye=.5/X;return W.x=(ut+Ke)*ye,W.y=(Nt+pt)*ye,W.z=.5*X,W.w=($e-ot)*ye,W}e.lookRotation=g;function M(A){let O=1/a(A);return t(A.x*O,A.y*O,A.z*O,A.w*O)}e.normalize=M;function w(A,O,H=p.Up()){let le=p.normalize(A),he=p.normalize(O),Re=p.cross(le,he),$e=Math.sqrt(p.lengthSquared(le)*p.lengthSquared(he))+p.dot(le,he);return p.lengthSquared(Re)<1e-4?Math.abs($e)<1e-4?M(t(H.x,H.y,H.z,0)):I():M(t(Re.x,Re.y,Re.z,$e))}e.fromToRotation=w;function I(){return t(0,0,0,1)}e.Identity=I;function P(A){let O=p.create(),H=A.x*A.x+A.y*A.y+A.z*A.z+A.w*A.w,le=A.x*A.w-A.y*A.z;return le>.4995*H?(O.x=Math.PI/2,O.y=2*Math.atan2(A.y,A.x),O.z=0):le<-.4995*H?(O.x=-Math.PI/2,O.y=-2*Math.atan2(A.y,A.x),O.z=0):(O.x=Math.asin(2*(A.w*A.x-A.y*A.z)),O.y=Math.atan2(2*A.w*A.y+2*A.z*A.x,1-2*(A.x*A.x+A.y*A.y)),O.z=Math.atan2(2*A.w*A.z+2*A.x*A.y,1-2*(A.z*A.z+A.x*A.x))),O.x*=Kl,O.y*=Kl,O.z*=Kl,O.x=kt.repeat(O.x,360),O.y=kt.repeat(O.y,360),O.z=kt.repeat(O.z,360),O}e.toEulerAngles=P;function S(A,O,H,le){let he=O*.5,Re=A*.5,$e=H*.5,Ke=Math.cos(he),ot=Math.cos(Re),it=Math.cos($e),pt=Math.sin(he),ut=Math.sin(Re),Nt=Math.sin($e);le.x=ot*pt*it+ut*Ke*Nt,le.y=ut*Ke*it-ot*pt*Nt,le.z=ot*Ke*Nt-ut*pt*it,le.w=ot*Ke*it+ut*pt*Nt}e.fromRotationYawPitchRollToRef=S;function x(A,O){let H=A._m,le=H[0],he=H[4],Re=H[8],$e=H[1],Ke=H[5],ot=H[9],it=H[2],pt=H[6],ut=H[10],Nt=le+Ke+ut,tt;Nt>0?(tt=.5/Math.sqrt(Nt+1),O.w=.25/tt,O.x=(pt-ot)*tt,O.y=(Re-it)*tt,O.z=($e-he)*tt):le>Ke&&le>ut?(tt=2*Math.sqrt(1+le-Ke-ut),O.w=(pt-ot)/tt,O.x=.25*tt,O.y=(he+$e)/tt,O.z=(Re+it)/tt):Ke>ut?(tt=2*Math.sqrt(1+Ke-le-ut),O.w=(Re-it)/tt,O.x=(he+$e)/tt,O.y=.25*tt,O.z=(ot+pt)/tt):(tt=2*Math.sqrt(1+ut-le-Ke),O.w=($e-he)/tt,O.x=(Re+it)/tt,O.y=(ot+pt)/tt,O.z=.25*tt)}e.fromRotationMatrixToRef=x;function k(A,O,H){let le=e.Identity();return e.slerpToRef(A,O,H,le),le}e.slerp=k;function N(A,O,H,le){let he,Re,$e=A.x*O.x+A.y*O.y+A.z*O.z+A.w*O.w,Ke=!1;if($e<0&&(Ke=!0,$e=-$e),$e>.999999)Re=1-H,he=Ke?-H:H;else{let ot=Math.acos($e),it=1/Math.sin(ot);Re=Math.sin((1-H)*ot)*it,he=Ke?-Math.sin(H*ot)*it:Math.sin(H*ot)*it}le.x=Re*A.x+he*O.x,le.y=Re*A.y+he*O.y,le.z=Re*A.z+he*O.z,le.w=Re*A.w+he*O.w}e.slerpToRef=N;function F(A,O){let H=t(0,0,0,1);return ae(A,O,H),H}e.multiply=F;function ae(A,O,H){H.x=A.x*O.w+A.y*O.z-A.z*O.y+A.w*O.x,H.y=-A.x*O.z+A.y*O.w+A.z*O.x+A.w*O.y,H.z=A.x*O.y-A.y*O.x+A.z*O.w+A.w*O.z,H.w=-A.x*O.x-A.y*O.y-A.z*O.z+A.w*O.w}e.multiplyToRef=ae;function Ae(A,O){if(p.lengthSquared(O)===0)return e.Identity();let H=I(),le=A*$l;le*=.5;let he=p.normalize(O);return p.scaleToRef(he,Math.sin(le),he),H.x=he.x,H.y=he.y,H.z=he.z,H.w=Math.cos(le),M(H)}e.fromAngleAxis=Ae;function ne(A,O,H){let le=e.create(0,0,0,0);return j(A,O,H,le),le}e.fromAxisToRotationQuaternion=ne;function j(A,O,H,le){let he=to.create();to.fromXYZAxesToRef(p.normalize(A),p.normalize(O),p.normalize(H),he),e.fromRotationMatrixToRef(he,le)}e.fromAxisToRotationQuaternionToRef=j;function se(){return t(0,0,0,0)}e.Zero=se;function oe(A,O,H=p.Up()){let le=e.Identity();return $(A,O,H,le),le}e.fromLookAt=oe;function $(A,O,H=p.Up(),le){let he=to.Identity();to.lookAtLHToRef(A,O,H,he),to.invertToRef(he,he),e.fromRotationMatrixToRef(he,le)}e.fromLookAtToRef=$})(V||(V={}));var xe;(function(e){function t(W=0,X=0,ye=0,U=1){return{r:W,g:X,b:ye,a:U}}e.create=t;function r(W){if(W.substring(0,1)!=="#"||W.length!==7&&W.length!==9)return t(0,0,0,1);let X=parseInt(W.substring(1,3),16),ye=parseInt(W.substring(3,5),16),U=parseInt(W.substring(5,7),16),J=W.substring(7,9),ve=J?parseInt(J,16):255;return e.fromInts(X,ye,U,ve)}e.fromHexString=r;function n(W,X,ye){let U=t(0,0,0,0);return e.lerpToRef(W,X,ye,U),U}e.lerp=n;function s(W,X,ye,U){U.r=W.r+(X.r-W.r)*ye,U.g=W.g+(X.g-W.g)*ye,U.b=W.b+(X.b-W.b)*ye,U.a=W.a+(X.a-W.a)*ye}e.lerpToRef=s;function a(){return t(1,0,0,1)}e.Red=a;function f(){return t(0,1,0,1)}e.Green=f;function c(){return t(0,0,1,1)}e.Blue=c;function l(){return t(0,0,0,1)}e.Black=l;function y(){return t(1,1,1,1)}e.White=y;function g(){return t(.5,0,.5,1)}e.Purple=g;function M(){return t(1,0,1,1)}e.Magenta=M;function w(){return t(1,1,0,1)}e.Yellow=w;function I(){return t(.5,.5,.5,1)}e.Gray=I;function P(){return t(0,1,1,1)}e.Teal=P;function S(){return t(0,0,0,0)}e.Clear=S;function x(W,X=1){return t(W.r,W.g,W.b,X)}e.fromColor3=x;function k(W,X=0){return t(W[X],W[X+1],W[X+2],W[X+3])}e.fromArray=k;function N(W,X,ye,U){return t(W/255,X/255,ye/255,U/255)}e.fromInts=N;function F(W,X){if(W.length===X*3){let ye=[];for(let U=0;U<W.length;U+=3){let J=U/3*4;ye[J]=W[U],ye[J+1]=W[U+1],ye[J+2]=W[U+2],ye[J+3]=1}return ye}return W}e.checkColors4=F;function ae(W,X,ye){ye.r=W.r+X.r,ye.g=W.g+X.g,ye.b=W.b+X.b,ye.a=W.a+X.a}e.addToRef=ae;function Ae(W,X,ye=0){X[ye]=W.r,X[ye+1]=W.g,X[ye+2]=W.b,X[ye+3]=W.a}e.toArray=Ae;function ne(W,X){let ye=S();return ae(W,X,ye),ye}e.add=ne;function j(W,X){let ye=S();return se(W,X,ye),ye}e.subtract=j;function se(W,X,ye){ye.r=W.r-X.r,ye.g=W.g-X.g,ye.b=W.b-X.b,ye.a=W.a-X.a}e.subtractToRef=se;function oe(W,X){return t(W.r*X,W.g*X,W.b*X,W.a*X)}e.scale=oe;function $(W,X,ye){ye.r=W.r*X,ye.g=W.g*X,ye.b=W.b*X,ye.a=W.a*X}e.scaleToRef=$;function A(W,X,ye){ye.r+=W.r*X,ye.g+=W.g*X,ye.b+=W.b*X,ye.a+=W.a*X}e.scaleAndAddToRef=A;function O(W,X=0,ye=1,U){U.r=kt.clamp(W.r,X,ye),U.g=kt.clamp(W.g,X,ye),U.b=kt.clamp(W.b,X,ye),U.a=kt.clamp(W.a,X,ye)}e.clampToRef=O;function H(W,X){return t(W.r*X.r,W.g*X.g,W.b*X.b,W.a*X.a)}e.multiply=H;function le(W,X,ye){ye.r=W.r*X.r,ye.g=W.g*X.g,ye.b=W.b*X.b,ye.a=W.a*X.a}e.multiplyToRef=le;function he(W){return"{R: "+W.r+" G:"+W.g+" B:"+W.b+" A:"+W.a+"}"}e.toString=he;function Re(W){let X=W.r||0;return X=X*397^(W.g||0),X=X*397^(W.b||0),X=X*397^(W.a||0),X}e.getHashCode=Re;function $e(W){return t(W.r,W.g,W.b,W.a)}e.clone=$e;function Ke(W,X){X.r=W.r,X.g=W.g,X.b=W.b,X.a=W.a}e.copyFrom=Ke;function ot(W,X,ye,U,J){J.r=W,J.g=X,J.b=ye,J.a=U}e.copyFromFloats=ot;function it(W,X,ye,U,J){J.r=W,J.g=X,J.b=ye,J.a=U}e.set=it;function pt(W){let X=W.r*255|0,ye=W.g*255|0,U=W.b*255|0,J=W.a*255|0;return"#"+kt.toHex(X)+kt.toHex(ye)+kt.toHex(U)+kt.toHex(J)}e.toHexString=pt;function ut(W){let X=t();return Nt(W,X),X}e.toLinearSpace=ut;function Nt(W,X){X.r=Math.pow(W.r,Ri),X.g=Math.pow(W.g,Ri),X.b=Math.pow(W.b,Ri),X.a=W.a}e.toLinearSpaceToRef=Nt;function tt(W){let X=t();return Rn(W,X),X}e.toGammaSpace=tt;function Rn(W,X){X.r=Math.pow(W.r,Ai),X.g=Math.pow(W.g,Ai),X.b=Math.pow(W.b,Ai),X.a=W.a}e.toGammaSpaceToRef=Rn})(xe||(xe={}));var rt;(function(e){function t(U=0,J=0,ve=0){return{r:U,g:J,b:ve}}e.create=t;function r(U){if(U.substring(0,1)!=="#"||U.length!==7)return t(0,0,0);let J=parseInt(U.substring(1,3),16),ve=parseInt(U.substring(3,5),16),Tt=parseInt(U.substring(5,7),16);return s(J,ve,Tt)}e.fromHexString=r;function n(U,J=0){return t(U[J],U[J+1],U[J+2])}e.fromArray=n;function s(U,J,ve){return t(U/255,J/255,ve/255)}e.fromInts=s;function a(U,J,ve){let Tt=t(0,0,0);return e.lerpToRef(U,J,ve,Tt),Tt}e.lerp=a;function f(U,J,ve,Tt){Tt.r=U.r+(J.r-U.r)*ve,Tt.g=U.g+(J.g-U.g)*ve,Tt.b=U.b+(J.b-U.b)*ve}e.lerpToRef=f;function c(){return t(1,0,0)}e.Red=c;function l(){return t(0,1,0)}e.Green=l;function y(){return t(0,0,1)}e.Blue=y;function g(){return t(0,0,0)}e.Black=g;function M(){return t(1,1,1)}e.White=M;function w(){return t(.5,0,.5)}e.Purple=w;function I(){return t(1,0,1)}e.Magenta=I;function P(){return t(1,1,0)}e.Yellow=P;function S(){return t(.5,.5,.5)}e.Gray=S;function x(){return t(0,1,1)}e.Teal=x;function k(){return t(Math.random(),Math.random(),Math.random())}e.Random=k;function N(U){return"{R: "+U.r+" G:"+U.g+" B:"+U.b+"}"}e.toString=N;function F(U){let J=U.r||0;return J=J*397^(U.g||0),J=J*397^(U.b||0),J}e.getHashCode=F;function ae(U,J,ve=0){J[ve]=U.r,J[ve+1]=U.g,J[ve+2]=U.b}e.toArray=ae;function Ae(U,J=1){return xe.create(U.r,U.g,U.b,J)}e.toColor4=Ae;function ne(U){let J=new Array;return ae(U,J,0),J}e.asArray=ne;function j(U){return U.r*.3+U.g*.59+U.b*.11}e.toLuminance=j;function se(U,J){return t(U.r*J.r,U.g*J.g,U.b*J.b)}e.multiply=se;function oe(U,J,ve){ve.r=U.r*J.r,ve.g=U.g*J.g,ve.b=U.b*J.b}e.multiplyToRef=oe;function $(U,J){return J&&U.r===J.r&&U.g===J.g&&U.b===J.b}e.equals=$;function A(U,J,ve,Tt){return U.r===J&&U.g===ve&&U.b===Tt}e.equalsFloats=A;function O(U,J){return t(U.r*J,U.g*J,U.b*J)}e.scale=O;function H(U,J,ve){ve.r=U.r*J,ve.g=U.g*J,ve.b=U.b*J}e.scaleToRef=H;function le(U,J,ve){ve.r+=U.r*J,ve.g+=U.g*J,ve.b+=U.b*J}e.scaleAndAddToRef=le;function he(U,J=0,ve=1,Tt){Tt.r=kt.clamp(U.r,J,ve),Tt.g=kt.clamp(U.g,J,ve),Tt.b=kt.clamp(U.b,J,ve)}e.clampToRef=he;function Re(U,J=0,ve=1){let Tt=e.Black();return he(U,J,ve,Tt),Tt}e.clamp=Re;function $e(U,J){return t(U.r+J.r,U.g+J.g,U.b+J.b)}e.add=$e;function Ke(U,J,ve){ve.r=U.r+J.r,ve.g=U.g+J.g,ve.b=U.b+J.b}e.addToRef=Ke;function ot(U,J){return t(U.r-J.r,U.g-J.g,U.b-J.b)}e.subtract=ot;function it(U,J,ve){ve.r=U.r-J.r,ve.g=U.g-J.g,ve.b=U.b-J.b}e.subtractToRef=it;function pt(U){return t(U.r,U.g,U.b)}e.clone=pt;function ut(U,J){J.r=U.r,J.g=U.g,J.b=U.b}e.copyFrom=ut;function Nt(U,J,ve,Tt){U.r=J,U.g=ve,U.b=Tt}e.set=Nt;function tt(U){let J=U.r*255|0,ve=U.g*255|0,Tt=U.b*255|0;return"#"+kt.toHex(J)+kt.toHex(ve)+kt.toHex(Tt)}e.toHexString=tt;function Rn(U){let J=t();return W(U,J),J}e.toLinearSpace=Rn;function W(U,J){J.r=Math.pow(U.r,Ri),J.g=Math.pow(U.g,Ri),J.b=Math.pow(U.b,Ri)}e.toLinearSpaceToRef=W;function X(U){let J=t();return ye(U,J),J}e.toGammaSpace=X;function ye(U,J){J.r=Math.pow(U.r,Ai),J.g=Math.pow(U.g,Ai),J.b=Math.pow(U.b,Ai)}e.toGammaSpaceToRef=ye})(rt||(rt={}));var ma=_e(Le());function xS(){return{states:[]}}var os;(function(e){function t(n,s=ma.default.Writer.create()){for(let a of n.states)Uu.encode(a,s.uint32(10).fork()).ldelim();return s}e.encode=t;function r(n,s){let a=n instanceof ma.default.Reader?n:ma.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=xS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.states.push(Uu.decode(a,a.uint32()));continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(os||(os={}));function bS(){return{clip:"",playing:void 0,weight:void 0,speed:void 0,loop:void 0,shouldReset:void 0}}var Uu;(function(e){function t(n,s=ma.default.Writer.create()){return n.clip!==""&&s.uint32(18).string(n.clip),n.playing!==void 0&&s.uint32(24).bool(n.playing),n.weight!==void 0&&s.uint32(37).float(n.weight),n.speed!==void 0&&s.uint32(45).float(n.speed),n.loop!==void 0&&s.uint32(48).bool(n.loop),n.shouldReset!==void 0&&s.uint32(56).bool(n.shouldReset),s}e.encode=t;function r(n,s){let a=n instanceof ma.default.Reader?n:ma.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=bS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 2:if(l!==18)break;c.clip=a.string();continue;case 3:if(l!==24)break;c.playing=a.bool();continue;case 4:if(l!==37)break;c.weight=a.float();continue;case 5:if(l!==45)break;c.speed=a.float();continue;case 6:if(l!==48)break;c.loop=a.bool();continue;case 7:if(l!==56)break;c.shouldReset=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Uu||(Uu={}));var gg={COMPONENT_ID:1042,serialize(e,t){let r=os.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return os.decode(e.buffer(),e.remainingBytes())},create(){return os.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"}};var Lu=_e(Le());function vS(){return{state:0,timestamp:0}}var is;(function(e){function t(n,s=Lu.default.Writer.create()){return n.state!==0&&s.uint32(8).int32(n.state),n.timestamp!==0&&s.uint32(16).uint32(n.timestamp),s}e.encode=t;function r(n,s){let a=n instanceof Lu.default.Reader?n:Lu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=vS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.state=a.int32();continue;case 2:if(l!==16)break;c.timestamp=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(is||(is={}));var Eg={COMPONENT_ID:1105,serialize(e,t){let r=is.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return is.decode(e.buffer(),e.remainingBytes())},create(){return is.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioEvent"}};var Fu=_e(Le());function wS(){return{playing:void 0,volume:void 0,loop:void 0,pitch:void 0,audioClipUrl:"",currentTime:void 0,global:void 0}}var as;(function(e){function t(n,s=Fu.default.Writer.create()){return n.playing!==void 0&&s.uint32(8).bool(n.playing),n.volume!==void 0&&s.uint32(21).float(n.volume),n.loop!==void 0&&s.uint32(24).bool(n.loop),n.pitch!==void 0&&s.uint32(37).float(n.pitch),n.audioClipUrl!==""&&s.uint32(42).string(n.audioClipUrl),n.currentTime!==void 0&&s.uint32(53).float(n.currentTime),n.global!==void 0&&s.uint32(56).bool(n.global),s}e.encode=t;function r(n,s){let a=n instanceof Fu.default.Reader?n:Fu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=wS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.playing=a.bool();continue;case 2:if(l!==21)break;c.volume=a.float();continue;case 3:if(l!==24)break;c.loop=a.bool();continue;case 4:if(l!==37)break;c.pitch=a.float();continue;case 5:if(l!==42)break;c.audioClipUrl=a.string();continue;case 6:if(l!==53)break;c.currentTime=a.float();continue;case 7:if(l!==56)break;c.global=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(as||(as={}));var Tg={COMPONENT_ID:1020,serialize(e,t){let r=as.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return as.decode(e.buffer(),e.remainingBytes())},create(){return as.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioSource"}};var Vu=_e(Le());function kS(){return{playing:void 0,volume:void 0,url:""}}var ss;(function(e){function t(n,s=Vu.default.Writer.create()){return n.playing!==void 0&&s.uint32(8).bool(n.playing),n.volume!==void 0&&s.uint32(21).float(n.volume),n.url!==""&&s.uint32(26).string(n.url),s}e.encode=t;function r(n,s){let a=n instanceof Vu.default.Reader?n:Vu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=kS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.playing=a.bool();continue;case 2:if(l!==21)break;c.volume=a.float();continue;case 3:if(l!==26)break;c.url=a.string();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ss||(ss={}));var Sg={COMPONENT_ID:1021,serialize(e,t){let r=ss.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ss.decode(e.buffer(),e.remainingBytes())},create(){return ss.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioStream"}};var Wu=_e(Le());var xg;(function(e){e[e.AAPT_POSITION=0]="AAPT_POSITION",e[e.AAPT_NAME_TAG=1]="AAPT_NAME_TAG",e[e.AAPT_HEAD=4]="AAPT_HEAD",e[e.AAPT_NECK=5]="AAPT_NECK",e[e.AAPT_SPINE=6]="AAPT_SPINE",e[e.AAPT_SPINE1=7]="AAPT_SPINE1",e[e.AAPT_SPINE2=8]="AAPT_SPINE2",e[e.AAPT_HIP=9]="AAPT_HIP",e[e.AAPT_LEFT_SHOULDER=10]="AAPT_LEFT_SHOULDER",e[e.AAPT_LEFT_ARM=11]="AAPT_LEFT_ARM",e[e.AAPT_LEFT_FOREARM=12]="AAPT_LEFT_FOREARM",e[e.AAPT_LEFT_HAND=2]="AAPT_LEFT_HAND",e[e.AAPT_LEFT_HAND_INDEX=13]="AAPT_LEFT_HAND_INDEX",e[e.AAPT_RIGHT_SHOULDER=14]="AAPT_RIGHT_SHOULDER",e[e.AAPT_RIGHT_ARM=15]="AAPT_RIGHT_ARM",e[e.AAPT_RIGHT_FOREARM=16]="AAPT_RIGHT_FOREARM",e[e.AAPT_RIGHT_HAND=3]="AAPT_RIGHT_HAND",e[e.AAPT_RIGHT_HAND_INDEX=17]="AAPT_RIGHT_HAND_INDEX",e[e.AAPT_LEFT_UP_LEG=18]="AAPT_LEFT_UP_LEG",e[e.AAPT_LEFT_LEG=19]="AAPT_LEFT_LEG",e[e.AAPT_LEFT_FOOT=20]="AAPT_LEFT_FOOT",e[e.AAPT_LEFT_TOE_BASE=21]="AAPT_LEFT_TOE_BASE",e[e.AAPT_RIGHT_UP_LEG=22]="AAPT_RIGHT_UP_LEG",e[e.AAPT_RIGHT_LEG=23]="AAPT_RIGHT_LEG",e[e.AAPT_RIGHT_FOOT=24]="AAPT_RIGHT_FOOT",e[e.AAPT_RIGHT_TOE_BASE=25]="AAPT_RIGHT_TOE_BASE"})(xg||(xg={}));function CS(){return{avatarId:void 0,anchorPointId:0}}var ls;(function(e){function t(n,s=Wu.default.Writer.create()){return n.avatarId!==void 0&&s.uint32(10).string(n.avatarId),n.anchorPointId!==0&&s.uint32(16).int32(n.anchorPointId),s}e.encode=t;function r(n,s){let a=n instanceof Wu.default.Reader?n:Wu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=CS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.avatarId=a.string();continue;case 2:if(l!==16)break;c.anchorPointId=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ls||(ls={}));var bg={COMPONENT_ID:1073,serialize(e,t){let r=ls.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ls.decode(e.buffer(),e.remainingBytes())},create(){return ls.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarAttach"}};var Gu=_e(Le());var pa=_e(Le());function IS(){return{r:0,g:0,b:0}}var At;(function(e){function t(n,s=pa.default.Writer.create()){return n.r!==0&&s.uint32(13).float(n.r),n.g!==0&&s.uint32(21).float(n.g),n.b!==0&&s.uint32(29).float(n.b),s}e.encode=t;function r(n,s){let a=n instanceof pa.default.Reader?n:pa.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=IS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.r=a.float();continue;case 2:if(l!==21)break;c.g=a.float();continue;case 3:if(l!==29)break;c.b=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(At||(At={}));function AS(){return{r:0,g:0,b:0,a:0}}var Yt;(function(e){function t(n,s=pa.default.Writer.create()){return n.r!==0&&s.uint32(13).float(n.r),n.g!==0&&s.uint32(21).float(n.g),n.b!==0&&s.uint32(29).float(n.b),n.a!==0&&s.uint32(37).float(n.a),s}e.encode=t;function r(n,s){let a=n instanceof pa.default.Reader?n:pa.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=AS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.r=a.float();continue;case 2:if(l!==21)break;c.g=a.float();continue;case 3:if(l!==29)break;c.b=a.float();continue;case 4:if(l!==37)break;c.a=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Yt||(Yt={}));function RS(){return{skinColor:void 0,eyesColor:void 0,hairColor:void 0,bodyShapeUrn:"",name:""}}var cs;(function(e){function t(n,s=Gu.default.Writer.create()){return n.skinColor!==void 0&&At.encode(n.skinColor,s.uint32(10).fork()).ldelim(),n.eyesColor!==void 0&&At.encode(n.eyesColor,s.uint32(18).fork()).ldelim(),n.hairColor!==void 0&&At.encode(n.hairColor,s.uint32(26).fork()).ldelim(),n.bodyShapeUrn!==""&&s.uint32(34).string(n.bodyShapeUrn),n.name!==""&&s.uint32(42).string(n.name),s}e.encode=t;function r(n,s){let a=n instanceof Gu.default.Reader?n:Gu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=RS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.skinColor=At.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.eyesColor=At.decode(a,a.uint32());continue;case 3:if(l!==26)break;c.hairColor=At.decode(a,a.uint32());continue;case 4:if(l!==34)break;c.bodyShapeUrn=a.string();continue;case 5:if(l!==42)break;c.name=a.string();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(cs||(cs={}));var vg={COMPONENT_ID:1087,serialize(e,t){let r=cs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return cs.decode(e.buffer(),e.remainingBytes())},create(){return cs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarBase"}};var Hu=_e(Le());function PS(){return{emoteUrn:"",loop:!1,timestamp:0}}var us;(function(e){function t(n,s=Hu.default.Writer.create()){return n.emoteUrn!==""&&s.uint32(10).string(n.emoteUrn),n.loop===!0&&s.uint32(16).bool(n.loop),n.timestamp!==0&&s.uint32(24).uint32(n.timestamp),s}e.encode=t;function r(n,s){let a=n instanceof Hu.default.Reader?n:Hu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=PS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.emoteUrn=a.string();continue;case 2:if(l!==16)break;c.loop=a.bool();continue;case 3:if(l!==24)break;c.timestamp=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(us||(us={}));var wg={COMPONENT_ID:1088,serialize(e,t){let r=us.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return us.decode(e.buffer(),e.remainingBytes())},create(){return us.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEmoteCommand"}};var ju=_e(Le());function NS(){return{wearableUrns:[],emoteUrns:[]}}var fs;(function(e){function t(n,s=ju.default.Writer.create()){for(let a of n.wearableUrns)s.uint32(10).string(a);for(let a of n.emoteUrns)s.uint32(18).string(a);return s}e.encode=t;function r(n,s){let a=n instanceof ju.default.Reader?n:ju.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=NS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.wearableUrns.push(a.string());continue;case 2:if(l!==18)break;c.emoteUrns.push(a.string());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(fs||(fs={}));var kg={COMPONENT_ID:1091,serialize(e,t){let r=fs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return fs.decode(e.buffer(),e.remainingBytes())},create(){return fs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEquippedData"}};var qu=_e(Le());var Tr=_e(Le());function MS(){return{x:0,y:0,z:0}}var Cg;(function(e){function t(n,s=Tr.default.Writer.create()){return n.x!==0&&s.uint32(13).float(n.x),n.y!==0&&s.uint32(21).float(n.y),n.z!==0&&s.uint32(29).float(n.z),s}e.encode=t;function r(n,s){let a=n instanceof Tr.default.Reader?n:Tr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=MS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.x=a.float();continue;case 2:if(l!==21)break;c.y=a.float();continue;case 3:if(l!==29)break;c.z=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Cg||(Cg={}));function _S(){return{x:0,y:0,z:0}}var et;(function(e){function t(n,s=Tr.default.Writer.create()){return n.x!==0&&s.uint32(13).float(n.x),n.y!==0&&s.uint32(21).float(n.y),n.z!==0&&s.uint32(29).float(n.z),s}e.encode=t;function r(n,s){let a=n instanceof Tr.default.Reader?n:Tr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=_S();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.x=a.float();continue;case 2:if(l!==21)break;c.y=a.float();continue;case 3:if(l!==29)break;c.z=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(et||(et={}));function OS(){return{x:0,y:0}}var Ig;(function(e){function t(n,s=Tr.default.Writer.create()){return n.x!==0&&s.uint32(13).float(n.x),n.y!==0&&s.uint32(21).float(n.y),s}e.encode=t;function r(n,s){let a=n instanceof Tr.default.Reader?n:Tr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=OS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.x=a.float();continue;case 2:if(l!==21)break;c.y=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ig||(Ig={}));function BS(){return{x:0,y:0,z:0,w:0}}var ha;(function(e){function t(n,s=Tr.default.Writer.create()){return n.x!==0&&s.uint32(13).float(n.x),n.y!==0&&s.uint32(21).float(n.y),n.z!==0&&s.uint32(29).float(n.z),n.w!==0&&s.uint32(37).float(n.w),s}e.encode=t;function r(n,s){let a=n instanceof Tr.default.Reader?n:Tr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=BS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.x=a.float();continue;case 2:if(l!==21)break;c.y=a.float();continue;case 3:if(l!==29)break;c.z=a.float();continue;case 4:if(l!==37)break;c.w=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ha||(ha={}));var Ag;(function(e){e[e.AMT_HIDE_AVATARS=0]="AMT_HIDE_AVATARS",e[e.AMT_DISABLE_PASSPORTS=1]="AMT_DISABLE_PASSPORTS"})(Ag||(Ag={}));function zS(){return{area:void 0,excludeIds:[],modifiers:[]}}var ds;(function(e){function t(n,s=qu.default.Writer.create()){n.area!==void 0&&et.encode(n.area,s.uint32(10).fork()).ldelim();for(let a of n.excludeIds)s.uint32(18).string(a);s.uint32(26).fork();for(let a of n.modifiers)s.int32(a);return s.ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof qu.default.Reader?n:qu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=zS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.area=et.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.excludeIds.push(a.string());continue;case 3:if(l===24){c.modifiers.push(a.int32());continue}if(l===26){let y=a.uint32()+a.pos;for(;a.pos<y;)c.modifiers.push(a.int32());continue}break}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ds||(ds={}));var Rg={COMPONENT_ID:1070,serialize(e,t){let r=ds.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ds.decode(e.buffer(),e.remainingBytes())},create(){return ds.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarModifierArea"}};var Gr=null;try{Gr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function _t(e,t,r){this.low=e|0,this.high=t|0,this.unsigned=!!r}_t.prototype.__isLong__;Object.defineProperty(_t.prototype,"__isLong__",{value:!0});function Gn(e){return(e&&e.__isLong__)===!0}function Pg(e){var t=Math.clz32(e&-e);return e?31-t:t}_t.isLong=Gn;var Ng={},Mg={};function ya(e,t){var r,n,s;return t?(e>>>=0,(s=0<=e&&e<256)&&(n=Mg[e],n)?n:(r=bt(e,0,!0),s&&(Mg[e]=r),r)):(e|=0,(s=-128<=e&&e<128)&&(n=Ng[e],n)?n:(r=bt(e,e<0?-1:0,!1),s&&(Ng[e]=r),r))}_t.fromInt=ya;function Hr(e,t){if(isNaN(e))return t?ai:io;if(t){if(e<0)return ai;if(e>=zg)return Lg}else{if(e<=-Og)return ur;if(e+1>=Og)return Ug}return e<0?Hr(-e,t).neg():bt(e%ps|0,e/ps|0,t)}_t.fromNumber=Hr;function bt(e,t,r){return new _t(e,t,r)}_t.fromBits=bt;var Qu=Math.pow;function Cp(e,t,r){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(r=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?ai:io;if(r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return Cp(e.substring(1),t,r).neg();for(var s=Hr(Qu(r,8)),a=io,f=0;f<e.length;f+=8){var c=Math.min(8,e.length-f),l=parseInt(e.substring(f,f+c),r);if(c<8){var y=Hr(Qu(r,c));a=a.mul(y).add(Hr(l))}else a=a.mul(s),a=a.add(Hr(l))}return a.unsigned=t,a}_t.fromString=Cp;function ao(e,t){return typeof e=="number"?Hr(e,t):typeof e=="string"?Cp(e,t):bt(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}_t.fromValue=ao;var _g=65536,DS=1<<24,ps=_g*_g,zg=ps*ps,Og=zg/2,Bg=ya(DS),io=ya(0);_t.ZERO=io;var ai=ya(0,!0);_t.UZERO=ai;var ms=ya(1);_t.ONE=ms;var Dg=ya(1,!0);_t.UONE=Dg;var kp=ya(-1);_t.NEG_ONE=kp;var Ug=bt(-1,2147483647,!1);_t.MAX_VALUE=Ug;var Lg=bt(-1,-1,!0);_t.MAX_UNSIGNED_VALUE=Lg;var ur=bt(0,-2147483648,!1);_t.MIN_VALUE=ur;var ue=_t.prototype;ue.toInt=function(){return this.unsigned?this.low>>>0:this.low};ue.toNumber=function(){return this.unsigned?(this.high>>>0)*ps+(this.low>>>0):this.high*ps+(this.low>>>0)};ue.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ur)){var r=Hr(t),n=this.div(r),s=n.mul(r).sub(this);return n.toString(t)+s.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=Hr(Qu(t,6),this.unsigned),f=this,c="";;){var l=f.div(a),y=f.sub(l.mul(a)).toInt()>>>0,g=y.toString(t);if(f=l,f.isZero())return g+c;for(;g.length<6;)g="0"+g;c=""+g+c}};ue.getHighBits=function(){return this.high};ue.getHighBitsUnsigned=function(){return this.high>>>0};ue.getLowBits=function(){return this.low};ue.getLowBitsUnsigned=function(){return this.low>>>0};ue.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ur)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,r=31;r>0&&!(t&1<<r);r--);return this.high!=0?r+33:r+1};ue.isZero=function(){return this.high===0&&this.low===0};ue.eqz=ue.isZero;ue.isNegative=function(){return!this.unsigned&&this.high<0};ue.isPositive=function(){return this.unsigned||this.high>=0};ue.isOdd=function(){return(this.low&1)===1};ue.isEven=function(){return(this.low&1)===0};ue.equals=function(t){return Gn(t)||(t=ao(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};ue.eq=ue.equals;ue.notEquals=function(t){return!this.eq(t)};ue.neq=ue.notEquals;ue.ne=ue.notEquals;ue.lessThan=function(t){return this.comp(t)<0};ue.lt=ue.lessThan;ue.lessThanOrEqual=function(t){return this.comp(t)<=0};ue.lte=ue.lessThanOrEqual;ue.le=ue.lessThanOrEqual;ue.greaterThan=function(t){return this.comp(t)>0};ue.gt=ue.greaterThan;ue.greaterThanOrEqual=function(t){return this.comp(t)>=0};ue.gte=ue.greaterThanOrEqual;ue.ge=ue.greaterThanOrEqual;ue.compare=function(t){if(Gn(t)||(t=ao(t)),this.eq(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};ue.comp=ue.compare;ue.negate=function(){return!this.unsigned&&this.eq(ur)?ur:this.not().add(ms)};ue.neg=ue.negate;ue.add=function(t){Gn(t)||(t=ao(t));var r=this.high>>>16,n=this.high&65535,s=this.low>>>16,a=this.low&65535,f=t.high>>>16,c=t.high&65535,l=t.low>>>16,y=t.low&65535,g=0,M=0,w=0,I=0;return I+=a+y,w+=I>>>16,I&=65535,w+=s+l,M+=w>>>16,w&=65535,M+=n+c,g+=M>>>16,M&=65535,g+=r+f,g&=65535,bt(w<<16|I,g<<16|M,this.unsigned)};ue.subtract=function(t){return Gn(t)||(t=ao(t)),this.add(t.neg())};ue.sub=ue.subtract;ue.multiply=function(t){if(this.isZero())return this;if(Gn(t)||(t=ao(t)),Gr){var r=Gr.mul(this.low,this.high,t.low,t.high);return bt(r,Gr.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?ai:io;if(this.eq(ur))return t.isOdd()?ur:io;if(t.eq(ur))return this.isOdd()?ur:io;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Bg)&&t.lt(Bg))return Hr(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,s=this.high&65535,a=this.low>>>16,f=this.low&65535,c=t.high>>>16,l=t.high&65535,y=t.low>>>16,g=t.low&65535,M=0,w=0,I=0,P=0;return P+=f*g,I+=P>>>16,P&=65535,I+=a*g,w+=I>>>16,I&=65535,I+=f*y,w+=I>>>16,I&=65535,w+=s*g,M+=w>>>16,w&=65535,w+=a*y,M+=w>>>16,w&=65535,w+=f*l,M+=w>>>16,w&=65535,M+=n*g+s*y+a*l+f*c,M&=65535,bt(I<<16|P,M<<16|w,this.unsigned)};ue.mul=ue.multiply;ue.divide=function(t){if(Gn(t)||(t=ao(t)),t.isZero())throw Error("division by zero");if(Gr){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var r=(this.unsigned?Gr.div_u:Gr.div_s)(this.low,this.high,t.low,t.high);return bt(r,Gr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ai:io;var n,s,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ai;if(t.gt(this.shru(1)))return Dg;a=ai}else{if(this.eq(ur)){if(t.eq(ms)||t.eq(kp))return ur;if(t.eq(ur))return ms;var f=this.shr(1);return n=f.div(t).shl(1),n.eq(io)?t.isNegative()?ms:kp:(s=this.sub(t.mul(n)),a=n.add(s.div(t)),a)}else if(t.eq(ur))return this.unsigned?ai:io;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=io}for(s=this;s.gte(t);){n=Math.max(1,Math.floor(s.toNumber()/t.toNumber()));for(var c=Math.ceil(Math.log(n)/Math.LN2),l=c<=48?1:Qu(2,c-48),y=Hr(n),g=y.mul(t);g.isNegative()||g.gt(s);)n-=l,y=Hr(n,this.unsigned),g=y.mul(t);y.isZero()&&(y=ms),a=a.add(y),s=s.sub(g)}return a};ue.div=ue.divide;ue.modulo=function(t){if(Gn(t)||(t=ao(t)),Gr){var r=(this.unsigned?Gr.rem_u:Gr.rem_s)(this.low,this.high,t.low,t.high);return bt(r,Gr.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};ue.mod=ue.modulo;ue.rem=ue.modulo;ue.not=function(){return bt(~this.low,~this.high,this.unsigned)};ue.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};ue.clz=ue.countLeadingZeros;ue.countTrailingZeros=function(){return this.low?Pg(this.low):Pg(this.high)+32};ue.ctz=ue.countTrailingZeros;ue.and=function(t){return Gn(t)||(t=ao(t)),bt(this.low&t.low,this.high&t.high,this.unsigned)};ue.or=function(t){return Gn(t)||(t=ao(t)),bt(this.low|t.low,this.high|t.high,this.unsigned)};ue.xor=function(t){return Gn(t)||(t=ao(t)),bt(this.low^t.low,this.high^t.high,this.unsigned)};ue.shiftLeft=function(t){return Gn(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?bt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):bt(0,this.low<<t-32,this.unsigned)};ue.shl=ue.shiftLeft;ue.shiftRight=function(t){return Gn(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?bt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):bt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};ue.shr=ue.shiftRight;ue.shiftRightUnsigned=function(t){return Gn(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?bt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?bt(this.high,0,this.unsigned):bt(this.high>>>t-32,0,this.unsigned)};ue.shru=ue.shiftRightUnsigned;ue.shr_u=ue.shiftRightUnsigned;ue.rotateLeft=function(t){var r;return Gn(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?bt(this.high,this.low,this.unsigned):t<32?(r=32-t,bt(this.low<<t|this.high>>>r,this.high<<t|this.low>>>r,this.unsigned)):(t-=32,r=32-t,bt(this.high<<t|this.low>>>r,this.low<<t|this.high>>>r,this.unsigned))};ue.rotl=ue.rotateLeft;ue.rotateRight=function(t){var r;return Gn(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?bt(this.high,this.low,this.unsigned):t<32?(r=32-t,bt(this.high<<r|this.low>>>t,this.low<<r|this.high>>>t,this.unsigned)):(t-=32,r=32-t,bt(this.low<<r|this.high>>>t,this.high<<r|this.low>>>t,this.unsigned))};ue.rotr=ue.rotateRight;ue.toSigned=function(){return this.unsigned?bt(this.low,this.high,!1):this};ue.toUnsigned=function(){return this.unsigned?this:bt(this.low,this.high,!0)};ue.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};ue.toBytesLE=function(){var t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};ue.toBytesBE=function(){var t=this.high,r=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};_t.fromBytes=function(t,r,n){return n?_t.fromBytesLE(t,r):_t.fromBytesBE(t,r)};_t.fromBytesLE=function(t,r){return new _t(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)};_t.fromBytesBE=function(t,r){return new _t(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)};var Ip=_t;var ga=_e(Le());function US(){return{id:"",name:void 0,bodyShape:void 0,skinColor:void 0,hairColor:void 0,eyeColor:void 0,expressionTriggerId:void 0,expressionTriggerTimestamp:void 0,talking:void 0,wearables:[],emotes:[]}}var hs;(function(e){function t(n,s=ga.default.Writer.create()){n.id!==""&&s.uint32(10).string(n.id),n.name!==void 0&&s.uint32(18).string(n.name),n.bodyShape!==void 0&&s.uint32(26).string(n.bodyShape),n.skinColor!==void 0&&At.encode(n.skinColor,s.uint32(34).fork()).ldelim(),n.hairColor!==void 0&&At.encode(n.hairColor,s.uint32(42).fork()).ldelim(),n.eyeColor!==void 0&&At.encode(n.eyeColor,s.uint32(50).fork()).ldelim(),n.expressionTriggerId!==void 0&&s.uint32(58).string(n.expressionTriggerId),n.expressionTriggerTimestamp!==void 0&&s.uint32(64).int64(n.expressionTriggerTimestamp),n.talking!==void 0&&s.uint32(72).bool(n.talking);for(let a of n.wearables)s.uint32(82).string(a);for(let a of n.emotes)s.uint32(90).string(a);return s}e.encode=t;function r(n,s){let a=n instanceof ga.default.Reader?n:ga.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=US();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.id=a.string();continue;case 2:if(l!==18)break;c.name=a.string();continue;case 3:if(l!==26)break;c.bodyShape=a.string();continue;case 4:if(l!==34)break;c.skinColor=At.decode(a,a.uint32());continue;case 5:if(l!==42)break;c.hairColor=At.decode(a,a.uint32());continue;case 6:if(l!==50)break;c.eyeColor=At.decode(a,a.uint32());continue;case 7:if(l!==58)break;c.expressionTriggerId=a.string();continue;case 8:if(l!==64)break;c.expressionTriggerTimestamp=FS(a.int64());continue;case 9:if(l!==72)break;c.talking=a.bool();continue;case 10:if(l!==82)break;c.wearables.push(a.string());continue;case 11:if(l!==90)break;c.emotes.push(a.string());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(hs||(hs={}));var LS=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function FS(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new LS.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}ga.default.util.Long!==Ip&&(ga.default.util.Long=Ip,ga.default.configure());var Fg={COMPONENT_ID:1080,serialize(e,t){let r=hs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return hs.decode(e.buffer(),e.remainingBytes())},create(){return hs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarShape"}};var Yu=_e(Le());var Vg;(function(e){e[e.BM_NONE=0]="BM_NONE",e[e.BM_X=1]="BM_X",e[e.BM_Y=2]="BM_Y",e[e.BM_Z=4]="BM_Z",e[e.BM_ALL=7]="BM_ALL"})(Vg||(Vg={}));function VS(){return{billboardMode:void 0}}var ys;(function(e){function t(n,s=Yu.default.Writer.create()){return n.billboardMode!==void 0&&s.uint32(8).int32(n.billboardMode),s}e.encode=t;function r(n,s){let a=n instanceof Yu.default.Reader?n:Yu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=VS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.billboardMode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ys||(ys={}));var Wg={COMPONENT_ID:1090,serialize(e,t){let r=ys.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ys.decode(e.buffer(),e.remainingBytes())},create(){return ys.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBBillboard"}};var Ju=_e(Le());function WS(){return{mode:0}}var gs;(function(e){function t(n,s=Ju.default.Writer.create()){return n.mode!==0&&s.uint32(8).int32(n.mode),s}e.encode=t;function r(n,s){let a=n instanceof Ju.default.Reader?n:Ju.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=WS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.mode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(gs||(gs={}));var Gg={COMPONENT_ID:1072,serialize(e,t){let r=gs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return gs.decode(e.buffer(),e.remainingBytes())},create(){return gs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraMode"}};var $u=_e(Le());function GS(){return{area:void 0,mode:0}}var Es;(function(e){function t(n,s=$u.default.Writer.create()){return n.area!==void 0&&et.encode(n.area,s.uint32(10).fork()).ldelim(),n.mode!==0&&s.uint32(16).int32(n.mode),s}e.encode=t;function r(n,s){let a=n instanceof $u.default.Reader?n:$u.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=GS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.area=et.decode(a,a.uint32());continue;case 2:if(l!==16)break;c.mode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Es||(Es={}));var Hg={COMPONENT_ID:1071,serialize(e,t){let r=Es.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Es.decode(e.buffer(),e.remainingBytes())},create(){return Es.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraModeArea"}};var Ku=_e(Le());function HS(){return{frameNumber:0,totalRuntime:0,tickNumber:0}}var Ts;(function(e){function t(n,s=Ku.default.Writer.create()){return n.frameNumber!==0&&s.uint32(8).uint32(n.frameNumber),n.totalRuntime!==0&&s.uint32(21).float(n.totalRuntime),n.tickNumber!==0&&s.uint32(24).uint32(n.tickNumber),s}e.encode=t;function r(n,s){let a=n instanceof Ku.default.Reader?n:Ku.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=HS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.frameNumber=a.uint32();continue;case 2:if(l!==21)break;c.totalRuntime=a.float();continue;case 3:if(l!==24)break;c.tickNumber=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ts||(Ts={}));var jg={COMPONENT_ID:1048,serialize(e,t){let r=Ts.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ts.decode(e.buffer(),e.remainingBytes())},create(){return Ts.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBEngineInfo"}};var Zu=_e(Le());function jS(){return{src:"",visibleMeshesCollisionMask:void 0,invisibleMeshesCollisionMask:void 0}}var Ss;(function(e){function t(n,s=Zu.default.Writer.create()){return n.src!==""&&s.uint32(10).string(n.src),n.visibleMeshesCollisionMask!==void 0&&s.uint32(32).uint32(n.visibleMeshesCollisionMask),n.invisibleMeshesCollisionMask!==void 0&&s.uint32(40).uint32(n.invisibleMeshesCollisionMask),s}e.encode=t;function r(n,s){let a=n instanceof Zu.default.Reader?n:Zu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=jS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.src=a.string();continue;case 4:if(l!==32)break;c.visibleMeshesCollisionMask=a.uint32();continue;case 5:if(l!==40)break;c.invisibleMeshesCollisionMask=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ss||(Ss={}));var qg={COMPONENT_ID:1041,serialize(e,t){let r=Ss.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ss.decode(e.buffer(),e.remainingBytes())},create(){return Ss.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"}};var Xu=_e(Le());function qS(){return{currentState:0}}var xs;(function(e){function t(n,s=Xu.default.Writer.create()){return n.currentState!==0&&s.uint32(8).int32(n.currentState),s}e.encode=t;function r(n,s){let a=n instanceof Xu.default.Reader?n:Xu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=qS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.currentState=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(xs||(xs={}));var Qg={COMPONENT_ID:1049,serialize(e,t){let r=xs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return xs.decode(e.buffer(),e.remainingBytes())},create(){return xs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainerLoadingState"}};var Ea=_e(Le());function QS(){return{mode:void 0}}var bs;(function(e){function t(n,s=Ea.default.Writer.create()){switch(n.mode?.$case){case"standard":ef.encode(n.mode.standard,s.uint32(10).fork()).ldelim();break}return s}e.encode=t;function r(n,s){let a=n instanceof Ea.default.Reader?n:Ea.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=QS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.mode={$case:"standard",standard:ef.decode(a,a.uint32())};continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(bs||(bs={}));function YS(){return{disableAll:void 0,disableWalk:void 0,disableJog:void 0,disableRun:void 0,disableJump:void 0,disableEmote:void 0}}var ef;(function(e){function t(n,s=Ea.default.Writer.create()){return n.disableAll!==void 0&&s.uint32(8).bool(n.disableAll),n.disableWalk!==void 0&&s.uint32(16).bool(n.disableWalk),n.disableJog!==void 0&&s.uint32(24).bool(n.disableJog),n.disableRun!==void 0&&s.uint32(32).bool(n.disableRun),n.disableJump!==void 0&&s.uint32(40).bool(n.disableJump),n.disableEmote!==void 0&&s.uint32(48).bool(n.disableEmote),s}e.encode=t;function r(n,s){let a=n instanceof Ea.default.Reader?n:Ea.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=YS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.disableAll=a.bool();continue;case 2:if(l!==16)break;c.disableWalk=a.bool();continue;case 3:if(l!==24)break;c.disableJog=a.bool();continue;case 4:if(l!==32)break;c.disableRun=a.bool();continue;case 5:if(l!==40)break;c.disableJump=a.bool();continue;case 6:if(l!==48)break;c.disableEmote=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ef||(ef={}));var Yg={COMPONENT_ID:1078,serialize(e,t){let r=bs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return bs.decode(e.buffer(),e.remainingBytes())},create(){return bs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBInputModifier"}};var Bo=_e(Le());var Sr=_e(Le());var tc;(function(e){e[e.TWM_REPEAT=0]="TWM_REPEAT",e[e.TWM_CLAMP=1]="TWM_CLAMP",e[e.TWM_MIRROR=2]="TWM_MIRROR"})(tc||(tc={}));var nc;(function(e){e[e.TFM_POINT=0]="TFM_POINT",e[e.TFM_BILINEAR=1]="TFM_BILINEAR",e[e.TFM_TRILINEAR=2]="TFM_TRILINEAR"})(nc||(nc={}));function JS(){return{src:"",wrapMode:void 0,filterMode:void 0}}var tf;(function(e){function t(n,s=Sr.default.Writer.create()){return n.src!==""&&s.uint32(10).string(n.src),n.wrapMode!==void 0&&s.uint32(16).int32(n.wrapMode),n.filterMode!==void 0&&s.uint32(24).int32(n.filterMode),s}e.encode=t;function r(n,s){let a=n instanceof Sr.default.Reader?n:Sr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=JS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.src=a.string();continue;case 2:if(l!==16)break;c.wrapMode=a.int32();continue;case 3:if(l!==24)break;c.filterMode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(tf||(tf={}));function $S(){return{userId:"",wrapMode:void 0,filterMode:void 0}}var nf;(function(e){function t(n,s=Sr.default.Writer.create()){return n.userId!==""&&s.uint32(10).string(n.userId),n.wrapMode!==void 0&&s.uint32(16).int32(n.wrapMode),n.filterMode!==void 0&&s.uint32(24).int32(n.filterMode),s}e.encode=t;function r(n,s){let a=n instanceof Sr.default.Reader?n:Sr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=$S();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.userId=a.string();continue;case 2:if(l!==16)break;c.wrapMode=a.int32();continue;case 3:if(l!==24)break;c.filterMode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(nf||(nf={}));function KS(){return{videoPlayerEntity:0,wrapMode:void 0,filterMode:void 0}}var rf;(function(e){function t(n,s=Sr.default.Writer.create()){return n.videoPlayerEntity!==0&&s.uint32(8).uint32(n.videoPlayerEntity),n.wrapMode!==void 0&&s.uint32(16).int32(n.wrapMode),n.filterMode!==void 0&&s.uint32(24).int32(n.filterMode),s}e.encode=t;function r(n,s){let a=n instanceof Sr.default.Reader?n:Sr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=KS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.videoPlayerEntity=a.uint32();continue;case 2:if(l!==16)break;c.wrapMode=a.int32();continue;case 3:if(l!==24)break;c.filterMode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(rf||(rf={}));function ZS(){return{tex:void 0}}var Hn;(function(e){function t(n,s=Sr.default.Writer.create()){switch(n.tex?.$case){case"texture":tf.encode(n.tex.texture,s.uint32(10).fork()).ldelim();break;case"avatarTexture":nf.encode(n.tex.avatarTexture,s.uint32(18).fork()).ldelim();break;case"videoTexture":rf.encode(n.tex.videoTexture,s.uint32(26).fork()).ldelim();break}return s}e.encode=t;function r(n,s){let a=n instanceof Sr.default.Reader?n:Sr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ZS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.tex={$case:"texture",texture:tf.decode(a,a.uint32())};continue;case 2:if(l!==18)break;c.tex={$case:"avatarTexture",avatarTexture:nf.decode(a,a.uint32())};continue;case 3:if(l!==26)break;c.tex={$case:"videoTexture",videoTexture:rf.decode(a,a.uint32())};continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Hn||(Hn={}));var Jg;(function(e){e[e.MTM_OPAQUE=0]="MTM_OPAQUE",e[e.MTM_ALPHA_TEST=1]="MTM_ALPHA_TEST",e[e.MTM_ALPHA_BLEND=2]="MTM_ALPHA_BLEND",e[e.MTM_ALPHA_TEST_AND_ALPHA_BLEND=3]="MTM_ALPHA_TEST_AND_ALPHA_BLEND",e[e.MTM_AUTO=4]="MTM_AUTO"})(Jg||(Jg={}));function XS(){return{material:void 0}}var vs;(function(e){function t(n,s=Bo.default.Writer.create()){switch(n.material?.$case){case"unlit":of.encode(n.material.unlit,s.uint32(10).fork()).ldelim();break;case"pbr":af.encode(n.material.pbr,s.uint32(18).fork()).ldelim();break}return s}e.encode=t;function r(n,s){let a=n instanceof Bo.default.Reader?n:Bo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=XS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.material={$case:"unlit",unlit:of.decode(a,a.uint32())};continue;case 2:if(l!==18)break;c.material={$case:"pbr",pbr:af.decode(a,a.uint32())};continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(vs||(vs={}));function ex(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,diffuseColor:void 0}}var of;(function(e){function t(n,s=Bo.default.Writer.create()){return n.texture!==void 0&&Hn.encode(n.texture,s.uint32(10).fork()).ldelim(),n.alphaTest!==void 0&&s.uint32(21).float(n.alphaTest),n.castShadows!==void 0&&s.uint32(24).bool(n.castShadows),n.diffuseColor!==void 0&&Yt.encode(n.diffuseColor,s.uint32(34).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof Bo.default.Reader?n:Bo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ex();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.texture=Hn.decode(a,a.uint32());continue;case 2:if(l!==21)break;c.alphaTest=a.float();continue;case 3:if(l!==24)break;c.castShadows=a.bool();continue;case 4:if(l!==34)break;c.diffuseColor=Yt.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(of||(of={}));function tx(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,alphaTexture:void 0,emissiveTexture:void 0,bumpTexture:void 0,albedoColor:void 0,emissiveColor:void 0,reflectivityColor:void 0,transparencyMode:void 0,metallic:void 0,roughness:void 0,specularIntensity:void 0,emissiveIntensity:void 0,directIntensity:void 0}}var af;(function(e){function t(n,s=Bo.default.Writer.create()){return n.texture!==void 0&&Hn.encode(n.texture,s.uint32(10).fork()).ldelim(),n.alphaTest!==void 0&&s.uint32(21).float(n.alphaTest),n.castShadows!==void 0&&s.uint32(24).bool(n.castShadows),n.alphaTexture!==void 0&&Hn.encode(n.alphaTexture,s.uint32(34).fork()).ldelim(),n.emissiveTexture!==void 0&&Hn.encode(n.emissiveTexture,s.uint32(42).fork()).ldelim(),n.bumpTexture!==void 0&&Hn.encode(n.bumpTexture,s.uint32(50).fork()).ldelim(),n.albedoColor!==void 0&&Yt.encode(n.albedoColor,s.uint32(58).fork()).ldelim(),n.emissiveColor!==void 0&&At.encode(n.emissiveColor,s.uint32(66).fork()).ldelim(),n.reflectivityColor!==void 0&&At.encode(n.reflectivityColor,s.uint32(74).fork()).ldelim(),n.transparencyMode!==void 0&&s.uint32(80).int32(n.transparencyMode),n.metallic!==void 0&&s.uint32(93).float(n.metallic),n.roughness!==void 0&&s.uint32(101).float(n.roughness),n.specularIntensity!==void 0&&s.uint32(117).float(n.specularIntensity),n.emissiveIntensity!==void 0&&s.uint32(125).float(n.emissiveIntensity),n.directIntensity!==void 0&&s.uint32(133).float(n.directIntensity),s}e.encode=t;function r(n,s){let a=n instanceof Bo.default.Reader?n:Bo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=tx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.texture=Hn.decode(a,a.uint32());continue;case 2:if(l!==21)break;c.alphaTest=a.float();continue;case 3:if(l!==24)break;c.castShadows=a.bool();continue;case 4:if(l!==34)break;c.alphaTexture=Hn.decode(a,a.uint32());continue;case 5:if(l!==42)break;c.emissiveTexture=Hn.decode(a,a.uint32());continue;case 6:if(l!==50)break;c.bumpTexture=Hn.decode(a,a.uint32());continue;case 7:if(l!==58)break;c.albedoColor=Yt.decode(a,a.uint32());continue;case 8:if(l!==66)break;c.emissiveColor=At.decode(a,a.uint32());continue;case 9:if(l!==74)break;c.reflectivityColor=At.decode(a,a.uint32());continue;case 10:if(l!==80)break;c.transparencyMode=a.int32();continue;case 11:if(l!==93)break;c.metallic=a.float();continue;case 12:if(l!==101)break;c.roughness=a.float();continue;case 14:if(l!==117)break;c.specularIntensity=a.float();continue;case 15:if(l!==125)break;c.emissiveIntensity=a.float();continue;case 16:if(l!==133)break;c.directIntensity=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(af||(af={}));var $g={COMPONENT_ID:1017,serialize(e,t){let r=vs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return vs.decode(e.buffer(),e.remainingBytes())},create(){return vs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"}};var jn=_e(Le());var qn;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(qn||(qn={}));function nx(){return{collisionMask:void 0,mesh:void 0}}var ws;(function(e){function t(n,s=jn.default.Writer.create()){switch(n.collisionMask!==void 0&&s.uint32(8).uint32(n.collisionMask),n.mesh?.$case){case"box":sf.encode(n.mesh.box,s.uint32(18).fork()).ldelim();break;case"sphere":uf.encode(n.mesh.sphere,s.uint32(26).fork()).ldelim();break;case"cylinder":lf.encode(n.mesh.cylinder,s.uint32(34).fork()).ldelim();break;case"plane":cf.encode(n.mesh.plane,s.uint32(42).fork()).ldelim();break}return s}e.encode=t;function r(n,s){let a=n instanceof jn.default.Reader?n:jn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=nx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.collisionMask=a.uint32();continue;case 2:if(l!==18)break;c.mesh={$case:"box",box:sf.decode(a,a.uint32())};continue;case 3:if(l!==26)break;c.mesh={$case:"sphere",sphere:uf.decode(a,a.uint32())};continue;case 4:if(l!==34)break;c.mesh={$case:"cylinder",cylinder:lf.decode(a,a.uint32())};continue;case 5:if(l!==42)break;c.mesh={$case:"plane",plane:cf.decode(a,a.uint32())};continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ws||(ws={}));function rx(){return{}}var sf;(function(e){function t(n,s=jn.default.Writer.create()){return s}e.encode=t;function r(n,s){let a=n instanceof jn.default.Reader?n:jn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=rx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(sf||(sf={}));function ox(){return{radiusTop:void 0,radiusBottom:void 0}}var lf;(function(e){function t(n,s=jn.default.Writer.create()){return n.radiusTop!==void 0&&s.uint32(13).float(n.radiusTop),n.radiusBottom!==void 0&&s.uint32(21).float(n.radiusBottom),s}e.encode=t;function r(n,s){let a=n instanceof jn.default.Reader?n:jn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ox();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.radiusTop=a.float();continue;case 2:if(l!==21)break;c.radiusBottom=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(lf||(lf={}));function ix(){return{}}var cf;(function(e){function t(n,s=jn.default.Writer.create()){return s}e.encode=t;function r(n,s){let a=n instanceof jn.default.Reader?n:jn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ix();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(cf||(cf={}));function ax(){return{}}var uf;(function(e){function t(n,s=jn.default.Writer.create()){return s}e.encode=t;function r(n,s){let a=n instanceof jn.default.Reader?n:jn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ax();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(uf||(uf={}));var Kg={COMPONENT_ID:1019,serialize(e,t){let r=ws.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ws.decode(e.buffer(),e.remainingBytes())},create(){return ws.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"}};var Qn=_e(Le());function sx(){return{mesh:void 0}}var ks;(function(e){function t(n,s=Qn.default.Writer.create()){switch(n.mesh?.$case){case"box":ff.encode(n.mesh.box,s.uint32(10).fork()).ldelim();break;case"sphere":pf.encode(n.mesh.sphere,s.uint32(18).fork()).ldelim();break;case"cylinder":df.encode(n.mesh.cylinder,s.uint32(26).fork()).ldelim();break;case"plane":mf.encode(n.mesh.plane,s.uint32(34).fork()).ldelim();break}return s}e.encode=t;function r(n,s){let a=n instanceof Qn.default.Reader?n:Qn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=sx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.mesh={$case:"box",box:ff.decode(a,a.uint32())};continue;case 2:if(l!==18)break;c.mesh={$case:"sphere",sphere:pf.decode(a,a.uint32())};continue;case 3:if(l!==26)break;c.mesh={$case:"cylinder",cylinder:df.decode(a,a.uint32())};continue;case 4:if(l!==34)break;c.mesh={$case:"plane",plane:mf.decode(a,a.uint32())};continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ks||(ks={}));function lx(){return{uvs:[]}}var ff;(function(e){function t(n,s=Qn.default.Writer.create()){s.uint32(10).fork();for(let a of n.uvs)s.float(a);return s.ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof Qn.default.Reader?n:Qn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=lx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l===13){c.uvs.push(a.float());continue}if(l===10){let y=a.uint32()+a.pos;for(;a.pos<y;)c.uvs.push(a.float());continue}break}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ff||(ff={}));function cx(){return{radiusTop:void 0,radiusBottom:void 0}}var df;(function(e){function t(n,s=Qn.default.Writer.create()){return n.radiusTop!==void 0&&s.uint32(13).float(n.radiusTop),n.radiusBottom!==void 0&&s.uint32(21).float(n.radiusBottom),s}e.encode=t;function r(n,s){let a=n instanceof Qn.default.Reader?n:Qn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=cx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.radiusTop=a.float();continue;case 2:if(l!==21)break;c.radiusBottom=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(df||(df={}));function ux(){return{uvs:[]}}var mf;(function(e){function t(n,s=Qn.default.Writer.create()){s.uint32(10).fork();for(let a of n.uvs)s.float(a);return s.ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof Qn.default.Reader?n:Qn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ux();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l===13){c.uvs.push(a.float());continue}if(l===10){let y=a.uint32()+a.pos;for(;a.pos<y;)c.uvs.push(a.float());continue}break}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(mf||(mf={}));function fx(){return{}}var pf;(function(e){function t(n,s=Qn.default.Writer.create()){return s}e.encode=t;function r(n,s){let a=n instanceof Qn.default.Reader?n:Qn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=fx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(pf||(pf={}));var Zg={COMPONENT_ID:1018,serialize(e,t){let r=ks.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ks.decode(e.buffer(),e.remainingBytes())},create(){return ks.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"}};var hf=_e(Le());var Xg;(function(e){e[e.NFT_CLASSIC=0]="NFT_CLASSIC",e[e.NFT_BAROQUE_ORNAMENT=1]="NFT_BAROQUE_ORNAMENT",e[e.NFT_DIAMOND_ORNAMENT=2]="NFT_DIAMOND_ORNAMENT",e[e.NFT_MINIMAL_WIDE=3]="NFT_MINIMAL_WIDE",e[e.NFT_MINIMAL_GREY=4]="NFT_MINIMAL_GREY",e[e.NFT_BLOCKY=5]="NFT_BLOCKY",e[e.NFT_GOLD_EDGES=6]="NFT_GOLD_EDGES",e[e.NFT_GOLD_CARVED=7]="NFT_GOLD_CARVED",e[e.NFT_GOLD_WIDE=8]="NFT_GOLD_WIDE",e[e.NFT_GOLD_ROUNDED=9]="NFT_GOLD_ROUNDED",e[e.NFT_METAL_MEDIUM=10]="NFT_METAL_MEDIUM",e[e.NFT_METAL_WIDE=11]="NFT_METAL_WIDE",e[e.NFT_METAL_SLIM=12]="NFT_METAL_SLIM",e[e.NFT_METAL_ROUNDED=13]="NFT_METAL_ROUNDED",e[e.NFT_PINS=14]="NFT_PINS",e[e.NFT_MINIMAL_BLACK=15]="NFT_MINIMAL_BLACK",e[e.NFT_MINIMAL_WHITE=16]="NFT_MINIMAL_WHITE",e[e.NFT_TAPE=17]="NFT_TAPE",e[e.NFT_WOOD_SLIM=18]="NFT_WOOD_SLIM",e[e.NFT_WOOD_WIDE=19]="NFT_WOOD_WIDE",e[e.NFT_WOOD_TWIGS=20]="NFT_WOOD_TWIGS",e[e.NFT_CANVAS=21]="NFT_CANVAS",e[e.NFT_NONE=22]="NFT_NONE"})(Xg||(Xg={}));function dx(){return{urn:"",style:void 0,color:void 0}}var Cs;(function(e){function t(n,s=hf.default.Writer.create()){return n.urn!==""&&s.uint32(10).string(n.urn),n.style!==void 0&&s.uint32(16).int32(n.style),n.color!==void 0&&At.encode(n.color,s.uint32(26).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof hf.default.Reader?n:hf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=dx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.urn=a.string();continue;case 2:if(l!==16)break;c.style=a.int32();continue;case 3:if(l!==26)break;c.color=At.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Cs||(Cs={}));var e1={COMPONENT_ID:1040,serialize(e,t){let r=Cs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Cs.decode(e.buffer(),e.remainingBytes())},create(){return Cs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBNftShape"}};var yf=_e(Le());function mx(){return{address:"",isGuest:!1}}var Is;(function(e){function t(n,s=yf.default.Writer.create()){return n.address!==""&&s.uint32(10).string(n.address),n.isGuest===!0&&s.uint32(24).bool(n.isGuest),s}e.encode=t;function r(n,s){let a=n instanceof yf.default.Reader?n:yf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=mx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.address=a.string();continue;case 3:if(l!==24)break;c.isGuest=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Is||(Is={}));var t1={COMPONENT_ID:1089,serialize(e,t){let r=Is.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Is.decode(e.buffer(),e.remainingBytes())},create(){return Is.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPlayerIdentityData"}};var zo=_e(Le());function px(){return{pointerEvents:[]}}var As;(function(e){function t(n,s=zo.default.Writer.create()){for(let a of n.pointerEvents)Ef.encode(a,s.uint32(10).fork()).ldelim();return s}e.encode=t;function r(n,s){let a=n instanceof zo.default.Reader?n:zo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=px();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.pointerEvents.push(Ef.decode(a,a.uint32()));continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(As||(As={}));function hx(){return{button:void 0,hoverText:void 0,maxDistance:void 0,showFeedback:void 0}}var gf;(function(e){function t(n,s=zo.default.Writer.create()){return n.button!==void 0&&s.uint32(8).int32(n.button),n.hoverText!==void 0&&s.uint32(18).string(n.hoverText),n.maxDistance!==void 0&&s.uint32(29).float(n.maxDistance),n.showFeedback!==void 0&&s.uint32(32).bool(n.showFeedback),s}e.encode=t;function r(n,s){let a=n instanceof zo.default.Reader?n:zo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=hx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.button=a.int32();continue;case 2:if(l!==18)break;c.hoverText=a.string();continue;case 3:if(l!==29)break;c.maxDistance=a.float();continue;case 4:if(l!==32)break;c.showFeedback=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(gf||(gf={}));function yx(){return{eventType:0,eventInfo:void 0}}var Ef;(function(e){function t(n,s=zo.default.Writer.create()){return n.eventType!==0&&s.uint32(8).int32(n.eventType),n.eventInfo!==void 0&&gf.encode(n.eventInfo,s.uint32(18).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof zo.default.Reader?n:zo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=yx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.eventType=a.int32();continue;case 2:if(l!==18)break;c.eventInfo=gf.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ef||(Ef={}));var n1={COMPONENT_ID:1062,serialize(e,t){let r=As.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return As.decode(e.buffer(),e.remainingBytes())},create(){return As.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEvents"}};var Sf=_e(Le());var Tf=_e(Le());function gx(){return{position:void 0,globalOrigin:void 0,direction:void 0,normalHit:void 0,length:0,meshName:void 0,entityId:void 0}}var _i;(function(e){function t(n,s=Tf.default.Writer.create()){return n.position!==void 0&&et.encode(n.position,s.uint32(10).fork()).ldelim(),n.globalOrigin!==void 0&&et.encode(n.globalOrigin,s.uint32(18).fork()).ldelim(),n.direction!==void 0&&et.encode(n.direction,s.uint32(26).fork()).ldelim(),n.normalHit!==void 0&&et.encode(n.normalHit,s.uint32(34).fork()).ldelim(),n.length!==0&&s.uint32(45).float(n.length),n.meshName!==void 0&&s.uint32(50).string(n.meshName),n.entityId!==void 0&&s.uint32(56).uint32(n.entityId),s}e.encode=t;function r(n,s){let a=n instanceof Tf.default.Reader?n:Tf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=gx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.position=et.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.globalOrigin=et.decode(a,a.uint32());continue;case 3:if(l!==26)break;c.direction=et.decode(a,a.uint32());continue;case 4:if(l!==34)break;c.normalHit=et.decode(a,a.uint32());continue;case 5:if(l!==45)break;c.length=a.float();continue;case 6:if(l!==50)break;c.meshName=a.string();continue;case 7:if(l!==56)break;c.entityId=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(_i||(_i={}));function Ex(){return{button:0,hit:void 0,state:0,timestamp:0,analog:void 0,tickNumber:0}}var Rs;(function(e){function t(n,s=Sf.default.Writer.create()){return n.button!==0&&s.uint32(8).int32(n.button),n.hit!==void 0&&_i.encode(n.hit,s.uint32(18).fork()).ldelim(),n.state!==0&&s.uint32(32).int32(n.state),n.timestamp!==0&&s.uint32(40).uint32(n.timestamp),n.analog!==void 0&&s.uint32(53).float(n.analog),n.tickNumber!==0&&s.uint32(56).uint32(n.tickNumber),s}e.encode=t;function r(n,s){let a=n instanceof Sf.default.Reader?n:Sf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Ex();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.button=a.int32();continue;case 2:if(l!==18)break;c.hit=_i.decode(a,a.uint32());continue;case 4:if(l!==32)break;c.state=a.int32();continue;case 5:if(l!==40)break;c.timestamp=a.uint32();continue;case 6:if(l!==53)break;c.analog=a.float();continue;case 7:if(l!==56)break;c.tickNumber=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Rs||(Rs={}));var r1={COMPONENT_ID:1063,serialize(e,t){let r=Rs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Rs.decode(e.buffer(),e.remainingBytes())},create(){return Rs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEventsResult"}};var xf=_e(Le());function Tx(){return{isPointerLocked:!1}}var Ps;(function(e){function t(n,s=xf.default.Writer.create()){return n.isPointerLocked===!0&&s.uint32(8).bool(n.isPointerLocked),s}e.encode=t;function r(n,s){let a=n instanceof xf.default.Reader?n:xf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Tx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.isPointerLocked=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ps||(Ps={}));var o1={COMPONENT_ID:1074,serialize(e,t){let r=Ps.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ps.decode(e.buffer(),e.remainingBytes())},create(){return Ps.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerLock"}};var bf=_e(Le());var rc;(function(e){e[e.RQT_HIT_FIRST=0]="RQT_HIT_FIRST",e[e.RQT_QUERY_ALL=1]="RQT_QUERY_ALL",e[e.RQT_NONE=2]="RQT_NONE"})(rc||(rc={}));function Sx(){return{timestamp:void 0,originOffset:void 0,direction:void 0,maxDistance:0,queryType:0,continuous:void 0,collisionMask:void 0}}var Ns;(function(e){function t(n,s=bf.default.Writer.create()){switch(n.timestamp!==void 0&&s.uint32(8).uint32(n.timestamp),n.originOffset!==void 0&&et.encode(n.originOffset,s.uint32(18).fork()).ldelim(),n.direction?.$case){case"localDirection":et.encode(n.direction.localDirection,s.uint32(50).fork()).ldelim();break;case"globalDirection":et.encode(n.direction.globalDirection,s.uint32(26).fork()).ldelim();break;case"globalTarget":et.encode(n.direction.globalTarget,s.uint32(58).fork()).ldelim();break;case"targetEntity":s.uint32(80).uint32(n.direction.targetEntity);break}return n.maxDistance!==0&&s.uint32(37).float(n.maxDistance),n.queryType!==0&&s.uint32(40).int32(n.queryType),n.continuous!==void 0&&s.uint32(64).bool(n.continuous),n.collisionMask!==void 0&&s.uint32(72).uint32(n.collisionMask),s}e.encode=t;function r(n,s){let a=n instanceof bf.default.Reader?n:bf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Sx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.timestamp=a.uint32();continue;case 2:if(l!==18)break;c.originOffset=et.decode(a,a.uint32());continue;case 6:if(l!==50)break;c.direction={$case:"localDirection",localDirection:et.decode(a,a.uint32())};continue;case 3:if(l!==26)break;c.direction={$case:"globalDirection",globalDirection:et.decode(a,a.uint32())};continue;case 7:if(l!==58)break;c.direction={$case:"globalTarget",globalTarget:et.decode(a,a.uint32())};continue;case 10:if(l!==80)break;c.direction={$case:"targetEntity",targetEntity:a.uint32()};continue;case 4:if(l!==37)break;c.maxDistance=a.float();continue;case 5:if(l!==40)break;c.queryType=a.int32();continue;case 8:if(l!==64)break;c.continuous=a.bool();continue;case 9:if(l!==72)break;c.collisionMask=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ns||(Ns={}));var i1={COMPONENT_ID:1067,serialize(e,t){let r=Ns.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ns.decode(e.buffer(),e.remainingBytes())},create(){return Ns.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycast"}};var vf=_e(Le());function xx(){return{timestamp:void 0,globalOrigin:void 0,direction:void 0,hits:[],tickNumber:0}}var Ms;(function(e){function t(n,s=vf.default.Writer.create()){n.timestamp!==void 0&&s.uint32(8).uint32(n.timestamp),n.globalOrigin!==void 0&&et.encode(n.globalOrigin,s.uint32(18).fork()).ldelim(),n.direction!==void 0&&et.encode(n.direction,s.uint32(26).fork()).ldelim();for(let a of n.hits)_i.encode(a,s.uint32(34).fork()).ldelim();return n.tickNumber!==0&&s.uint32(40).uint32(n.tickNumber),s}e.encode=t;function r(n,s){let a=n instanceof vf.default.Reader?n:vf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=xx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.timestamp=a.uint32();continue;case 2:if(l!==18)break;c.globalOrigin=et.decode(a,a.uint32());continue;case 3:if(l!==26)break;c.direction=et.decode(a,a.uint32());continue;case 4:if(l!==34)break;c.hits.push(_i.decode(a,a.uint32()));continue;case 5:if(l!==40)break;c.tickNumber=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ms||(Ms={}));var a1={COMPONENT_ID:1068,serialize(e,t){let r=Ms.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ms.decode(e.buffer(),e.remainingBytes())},create(){return Ms.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycastResult"}};var wf=_e(Le());function bx(){return{baseUrl:"",realmName:"",networkId:0,commsAdapter:"",isPreview:!1,room:void 0}}var _s;(function(e){function t(n,s=wf.default.Writer.create()){return n.baseUrl!==""&&s.uint32(10).string(n.baseUrl),n.realmName!==""&&s.uint32(18).string(n.realmName),n.networkId!==0&&s.uint32(24).int32(n.networkId),n.commsAdapter!==""&&s.uint32(34).string(n.commsAdapter),n.isPreview===!0&&s.uint32(40).bool(n.isPreview),n.room!==void 0&&s.uint32(50).string(n.room),s}e.encode=t;function r(n,s){let a=n instanceof wf.default.Reader?n:wf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=bx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.baseUrl=a.string();continue;case 2:if(l!==18)break;c.realmName=a.string();continue;case 3:if(l!==24)break;c.networkId=a.int32();continue;case 4:if(l!==34)break;c.commsAdapter=a.string();continue;case 5:if(l!==40)break;c.isPreview=a.bool();continue;case 6:if(l!==50)break;c.room=a.string();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(_s||(_s={}));var s1={COMPONENT_ID:1106,serialize(e,t){let r=_s.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return _s.decode(e.buffer(),e.remainingBytes())},create(){return _s.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRealmInfo"}};var kf=_e(Le());function vx(){return{text:"",font:void 0,fontSize:void 0,fontAutoSize:void 0,textAlign:void 0,width:void 0,height:void 0,paddingTop:void 0,paddingRight:void 0,paddingBottom:void 0,paddingLeft:void 0,lineSpacing:void 0,lineCount:void 0,textWrapping:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,outlineWidth:void 0,shadowColor:void 0,outlineColor:void 0,textColor:void 0}}var Os;(function(e){function t(n,s=kf.default.Writer.create()){return n.text!==""&&s.uint32(10).string(n.text),n.font!==void 0&&s.uint32(16).int32(n.font),n.fontSize!==void 0&&s.uint32(29).float(n.fontSize),n.fontAutoSize!==void 0&&s.uint32(32).bool(n.fontAutoSize),n.textAlign!==void 0&&s.uint32(40).int32(n.textAlign),n.width!==void 0&&s.uint32(53).float(n.width),n.height!==void 0&&s.uint32(61).float(n.height),n.paddingTop!==void 0&&s.uint32(69).float(n.paddingTop),n.paddingRight!==void 0&&s.uint32(77).float(n.paddingRight),n.paddingBottom!==void 0&&s.uint32(85).float(n.paddingBottom),n.paddingLeft!==void 0&&s.uint32(93).float(n.paddingLeft),n.lineSpacing!==void 0&&s.uint32(101).float(n.lineSpacing),n.lineCount!==void 0&&s.uint32(104).int32(n.lineCount),n.textWrapping!==void 0&&s.uint32(112).bool(n.textWrapping),n.shadowBlur!==void 0&&s.uint32(125).float(n.shadowBlur),n.shadowOffsetX!==void 0&&s.uint32(133).float(n.shadowOffsetX),n.shadowOffsetY!==void 0&&s.uint32(141).float(n.shadowOffsetY),n.outlineWidth!==void 0&&s.uint32(149).float(n.outlineWidth),n.shadowColor!==void 0&&At.encode(n.shadowColor,s.uint32(154).fork()).ldelim(),n.outlineColor!==void 0&&At.encode(n.outlineColor,s.uint32(162).fork()).ldelim(),n.textColor!==void 0&&Yt.encode(n.textColor,s.uint32(170).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof kf.default.Reader?n:kf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=vx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.text=a.string();continue;case 2:if(l!==16)break;c.font=a.int32();continue;case 3:if(l!==29)break;c.fontSize=a.float();continue;case 4:if(l!==32)break;c.fontAutoSize=a.bool();continue;case 5:if(l!==40)break;c.textAlign=a.int32();continue;case 6:if(l!==53)break;c.width=a.float();continue;case 7:if(l!==61)break;c.height=a.float();continue;case 8:if(l!==69)break;c.paddingTop=a.float();continue;case 9:if(l!==77)break;c.paddingRight=a.float();continue;case 10:if(l!==85)break;c.paddingBottom=a.float();continue;case 11:if(l!==93)break;c.paddingLeft=a.float();continue;case 12:if(l!==101)break;c.lineSpacing=a.float();continue;case 13:if(l!==104)break;c.lineCount=a.int32();continue;case 14:if(l!==112)break;c.textWrapping=a.bool();continue;case 15:if(l!==125)break;c.shadowBlur=a.float();continue;case 16:if(l!==133)break;c.shadowOffsetX=a.float();continue;case 17:if(l!==141)break;c.shadowOffsetY=a.float();continue;case 18:if(l!==149)break;c.outlineWidth=a.float();continue;case 19:if(l!==154)break;c.shadowColor=At.decode(a,a.uint32());continue;case 20:if(l!==162)break;c.outlineColor=At.decode(a,a.uint32());continue;case 21:if(l!==170)break;c.textColor=Yt.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Os||(Os={}));var l1={COMPONENT_ID:1030,serialize(e,t){let r=Os.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Os.decode(e.buffer(),e.remainingBytes())},create(){return Os.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTextShape"}};var xr=_e(Le());var c1;(function(e){e[e.EF_LINEAR=0]="EF_LINEAR",e[e.EF_EASEINQUAD=1]="EF_EASEINQUAD",e[e.EF_EASEOUTQUAD=2]="EF_EASEOUTQUAD",e[e.EF_EASEQUAD=3]="EF_EASEQUAD",e[e.EF_EASEINSINE=4]="EF_EASEINSINE",e[e.EF_EASEOUTSINE=5]="EF_EASEOUTSINE",e[e.EF_EASESINE=6]="EF_EASESINE",e[e.EF_EASEINEXPO=7]="EF_EASEINEXPO",e[e.EF_EASEOUTEXPO=8]="EF_EASEOUTEXPO",e[e.EF_EASEEXPO=9]="EF_EASEEXPO",e[e.EF_EASEINELASTIC=10]="EF_EASEINELASTIC",e[e.EF_EASEOUTELASTIC=11]="EF_EASEOUTELASTIC",e[e.EF_EASEELASTIC=12]="EF_EASEELASTIC",e[e.EF_EASEINBOUNCE=13]="EF_EASEINBOUNCE",e[e.EF_EASEOUTBOUNCE=14]="EF_EASEOUTBOUNCE",e[e.EF_EASEBOUNCE=15]="EF_EASEBOUNCE",e[e.EF_EASEINCUBIC=16]="EF_EASEINCUBIC",e[e.EF_EASEOUTCUBIC=17]="EF_EASEOUTCUBIC",e[e.EF_EASECUBIC=18]="EF_EASECUBIC",e[e.EF_EASEINQUART=19]="EF_EASEINQUART",e[e.EF_EASEOUTQUART=20]="EF_EASEOUTQUART",e[e.EF_EASEQUART=21]="EF_EASEQUART",e[e.EF_EASEINQUINT=22]="EF_EASEINQUINT",e[e.EF_EASEOUTQUINT=23]="EF_EASEOUTQUINT",e[e.EF_EASEQUINT=24]="EF_EASEQUINT",e[e.EF_EASEINCIRC=25]="EF_EASEINCIRC",e[e.EF_EASEOUTCIRC=26]="EF_EASEOUTCIRC",e[e.EF_EASECIRC=27]="EF_EASECIRC",e[e.EF_EASEINBACK=28]="EF_EASEINBACK",e[e.EF_EASEOUTBACK=29]="EF_EASEOUTBACK",e[e.EF_EASEBACK=30]="EF_EASEBACK"})(c1||(c1={}));function wx(){return{duration:0,easingFunction:0,mode:void 0,playing:void 0,currentTime:void 0}}var si;(function(e){function t(n,s=xr.default.Writer.create()){switch(n.duration!==0&&s.uint32(13).float(n.duration),n.easingFunction!==0&&s.uint32(16).int32(n.easingFunction),n.mode?.$case){case"move":Cf.encode(n.mode.move,s.uint32(26).fork()).ldelim();break;case"rotate":If.encode(n.mode.rotate,s.uint32(34).fork()).ldelim();break;case"scale":Af.encode(n.mode.scale,s.uint32(42).fork()).ldelim();break}return n.playing!==void 0&&s.uint32(48).bool(n.playing),n.currentTime!==void 0&&s.uint32(61).float(n.currentTime),s}e.encode=t;function r(n,s){let a=n instanceof xr.default.Reader?n:xr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=wx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.duration=a.float();continue;case 2:if(l!==16)break;c.easingFunction=a.int32();continue;case 3:if(l!==26)break;c.mode={$case:"move",move:Cf.decode(a,a.uint32())};continue;case 4:if(l!==34)break;c.mode={$case:"rotate",rotate:If.decode(a,a.uint32())};continue;case 5:if(l!==42)break;c.mode={$case:"scale",scale:Af.decode(a,a.uint32())};continue;case 6:if(l!==48)break;c.playing=a.bool();continue;case 7:if(l!==61)break;c.currentTime=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(si||(si={}));function kx(){return{start:void 0,end:void 0,faceDirection:void 0}}var Cf;(function(e){function t(n,s=xr.default.Writer.create()){return n.start!==void 0&&et.encode(n.start,s.uint32(10).fork()).ldelim(),n.end!==void 0&&et.encode(n.end,s.uint32(18).fork()).ldelim(),n.faceDirection!==void 0&&s.uint32(24).bool(n.faceDirection),s}e.encode=t;function r(n,s){let a=n instanceof xr.default.Reader?n:xr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=kx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.start=et.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.end=et.decode(a,a.uint32());continue;case 3:if(l!==24)break;c.faceDirection=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Cf||(Cf={}));function Cx(){return{start:void 0,end:void 0}}var If;(function(e){function t(n,s=xr.default.Writer.create()){return n.start!==void 0&&ha.encode(n.start,s.uint32(10).fork()).ldelim(),n.end!==void 0&&ha.encode(n.end,s.uint32(18).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof xr.default.Reader?n:xr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Cx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.start=ha.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.end=ha.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(If||(If={}));function Ix(){return{start:void 0,end:void 0}}var Af;(function(e){function t(n,s=xr.default.Writer.create()){return n.start!==void 0&&et.encode(n.start,s.uint32(10).fork()).ldelim(),n.end!==void 0&&et.encode(n.end,s.uint32(18).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof xr.default.Reader?n:xr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Ix();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.start=et.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.end=et.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Af||(Af={}));var u1={COMPONENT_ID:1102,serialize(e,t){let r=si.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return si.decode(e.buffer(),e.remainingBytes())},create(){return si.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTween"}};var Rf=_e(Le());var f1;(function(e){e[e.TL_RESTART=0]="TL_RESTART",e[e.TL_YOYO=1]="TL_YOYO"})(f1||(f1={}));function Ax(){return{sequence:[],loop:void 0}}var Bs;(function(e){function t(n,s=Rf.default.Writer.create()){for(let a of n.sequence)si.encode(a,s.uint32(10).fork()).ldelim();return n.loop!==void 0&&s.uint32(16).int32(n.loop),s}e.encode=t;function r(n,s){let a=n instanceof Rf.default.Reader?n:Rf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Ax();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.sequence.push(si.decode(a,a.uint32()));continue;case 2:if(l!==16)break;c.loop=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Bs||(Bs={}));var d1={COMPONENT_ID:1104,serialize(e,t){let r=Bs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Bs.decode(e.buffer(),e.remainingBytes())},create(){return Bs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenSequence"}};var Pf=_e(Le());var m1;(function(e){e[e.TS_ACTIVE=0]="TS_ACTIVE",e[e.TS_COMPLETED=1]="TS_COMPLETED",e[e.TS_PAUSED=2]="TS_PAUSED"})(m1||(m1={}));function Rx(){return{state:0,currentTime:0}}var zs;(function(e){function t(n,s=Pf.default.Writer.create()){return n.state!==0&&s.uint32(8).int32(n.state),n.currentTime!==0&&s.uint32(21).float(n.currentTime),s}e.encode=t;function r(n,s){let a=n instanceof Pf.default.Reader?n:Pf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Rx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.state=a.int32();continue;case 2:if(l!==21)break;c.currentTime=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(zs||(zs={}));var p1={COMPONENT_ID:1103,serialize(e,t){let r=zs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return zs.decode(e.buffer(),e.remainingBytes())},create(){return zs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenState"}};var Nf=_e(Le());var Ta=_e(Le());function Px(){return{top:0,left:0,right:0,bottom:0}}var Oi;(function(e){function t(n,s=Ta.default.Writer.create()){return n.top!==0&&s.uint32(13).float(n.top),n.left!==0&&s.uint32(21).float(n.left),n.right!==0&&s.uint32(29).float(n.right),n.bottom!==0&&s.uint32(37).float(n.bottom),s}e.encode=t;function r(n,s){let a=n instanceof Ta.default.Reader?n:Ta.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Px();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.top=a.float();continue;case 2:if(l!==21)break;c.left=a.float();continue;case 3:if(l!==29)break;c.right=a.float();continue;case 4:if(l!==37)break;c.bottom=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Oi||(Oi={}));function Nx(){return{x:0,y:0,width:0,height:0}}var h1;(function(e){function t(n,s=Ta.default.Writer.create()){return n.x!==0&&s.uint32(13).float(n.x),n.y!==0&&s.uint32(21).float(n.y),n.width!==0&&s.uint32(29).float(n.width),n.height!==0&&s.uint32(37).float(n.height),s}e.encode=t;function r(n,s){let a=n instanceof Ta.default.Reader?n:Ta.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Nx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.x=a.float();continue;case 2:if(l!==21)break;c.y=a.float();continue;case 3:if(l!==29)break;c.width=a.float();continue;case 4:if(l!==37)break;c.height=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(h1||(h1={}));var y1;(function(e){e[e.NINE_SLICES=0]="NINE_SLICES",e[e.CENTER=1]="CENTER",e[e.STRETCH=2]="STRETCH"})(y1||(y1={}));function Mx(){return{color:void 0,texture:void 0,textureMode:0,textureSlices:void 0,uvs:[]}}var Ds;(function(e){function t(n,s=Nf.default.Writer.create()){n.color!==void 0&&Yt.encode(n.color,s.uint32(10).fork()).ldelim(),n.texture!==void 0&&Hn.encode(n.texture,s.uint32(18).fork()).ldelim(),n.textureMode!==0&&s.uint32(24).int32(n.textureMode),n.textureSlices!==void 0&&Oi.encode(n.textureSlices,s.uint32(34).fork()).ldelim(),s.uint32(42).fork();for(let a of n.uvs)s.float(a);return s.ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof Nf.default.Reader?n:Nf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Mx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.color=Yt.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.texture=Hn.decode(a,a.uint32());continue;case 3:if(l!==24)break;c.textureMode=a.int32();continue;case 4:if(l!==34)break;c.textureSlices=Oi.decode(a,a.uint32());continue;case 5:if(l===45){c.uvs.push(a.float());continue}if(l===42){let y=a.uint32()+a.pos;for(;a.pos<y;)c.uvs.push(a.float());continue}break}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ds||(Ds={}));var g1={COMPONENT_ID:1053,serialize(e,t){let r=Ds.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ds.decode(e.buffer(),e.remainingBytes())},create(){return Ds.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiBackground"}};var Mf=_e(Le());function _x(){return{devicePixelRatio:0,width:0,height:0,interactableArea:void 0}}var Us;(function(e){function t(n,s=Mf.default.Writer.create()){return n.devicePixelRatio!==0&&s.uint32(13).float(n.devicePixelRatio),n.width!==0&&s.uint32(16).int32(n.width),n.height!==0&&s.uint32(24).int32(n.height),n.interactableArea!==void 0&&Oi.encode(n.interactableArea,s.uint32(34).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof Mf.default.Reader?n:Mf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=_x();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.devicePixelRatio=a.float();continue;case 2:if(l!==16)break;c.width=a.int32();continue;case 3:if(l!==24)break;c.height=a.int32();continue;case 4:if(l!==34)break;c.interactableArea=Oi.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Us||(Us={}));var E1={COMPONENT_ID:1054,serialize(e,t){let r=Us.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Us.decode(e.buffer(),e.remainingBytes())},create(){return Us.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiCanvasInformation"}};var _f=_e(Le());function Ox(){return{acceptEmpty:!1,emptyLabel:void 0,options:[],selectedIndex:void 0,disabled:!1,color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var Ls;(function(e){function t(n,s=_f.default.Writer.create()){n.acceptEmpty===!0&&s.uint32(8).bool(n.acceptEmpty),n.emptyLabel!==void 0&&s.uint32(18).string(n.emptyLabel);for(let a of n.options)s.uint32(26).string(a);return n.selectedIndex!==void 0&&s.uint32(32).int32(n.selectedIndex),n.disabled===!0&&s.uint32(40).bool(n.disabled),n.color!==void 0&&Yt.encode(n.color,s.uint32(50).fork()).ldelim(),n.textAlign!==void 0&&s.uint32(80).int32(n.textAlign),n.font!==void 0&&s.uint32(88).int32(n.font),n.fontSize!==void 0&&s.uint32(96).int32(n.fontSize),s}e.encode=t;function r(n,s){let a=n instanceof _f.default.Reader?n:_f.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Ox();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.acceptEmpty=a.bool();continue;case 2:if(l!==18)break;c.emptyLabel=a.string();continue;case 3:if(l!==26)break;c.options.push(a.string());continue;case 4:if(l!==32)break;c.selectedIndex=a.int32();continue;case 5:if(l!==40)break;c.disabled=a.bool();continue;case 6:if(l!==50)break;c.color=Yt.decode(a,a.uint32());continue;case 10:if(l!==80)break;c.textAlign=a.int32();continue;case 11:if(l!==88)break;c.font=a.int32();continue;case 12:if(l!==96)break;c.fontSize=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ls||(Ls={}));var T1={COMPONENT_ID:1094,serialize(e,t){let r=Ls.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ls.decode(e.buffer(),e.remainingBytes())},create(){return Ls.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdown"}};var Of=_e(Le());function Bx(){return{value:0}}var Fs;(function(e){function t(n,s=Of.default.Writer.create()){return n.value!==0&&s.uint32(8).int32(n.value),s}e.encode=t;function r(n,s){let a=n instanceof Of.default.Reader?n:Of.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Bx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.value=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Fs||(Fs={}));var S1={COMPONENT_ID:1096,serialize(e,t){let r=Fs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Fs.decode(e.buffer(),e.remainingBytes())},create(){return Fs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdownResult"}};var Bf=_e(Le());function zx(){return{placeholder:"",color:void 0,placeholderColor:void 0,disabled:!1,textAlign:void 0,font:void 0,fontSize:void 0,value:void 0}}var Vs;(function(e){function t(n,s=Bf.default.Writer.create()){return n.placeholder!==""&&s.uint32(10).string(n.placeholder),n.color!==void 0&&Yt.encode(n.color,s.uint32(18).fork()).ldelim(),n.placeholderColor!==void 0&&Yt.encode(n.placeholderColor,s.uint32(26).fork()).ldelim(),n.disabled===!0&&s.uint32(32).bool(n.disabled),n.textAlign!==void 0&&s.uint32(80).int32(n.textAlign),n.font!==void 0&&s.uint32(88).int32(n.font),n.fontSize!==void 0&&s.uint32(96).int32(n.fontSize),n.value!==void 0&&s.uint32(106).string(n.value),s}e.encode=t;function r(n,s){let a=n instanceof Bf.default.Reader?n:Bf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=zx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.placeholder=a.string();continue;case 2:if(l!==18)break;c.color=Yt.decode(a,a.uint32());continue;case 3:if(l!==26)break;c.placeholderColor=Yt.decode(a,a.uint32());continue;case 4:if(l!==32)break;c.disabled=a.bool();continue;case 10:if(l!==80)break;c.textAlign=a.int32();continue;case 11:if(l!==88)break;c.font=a.int32();continue;case 12:if(l!==96)break;c.fontSize=a.int32();continue;case 13:if(l!==106)break;c.value=a.string();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Vs||(Vs={}));var x1={COMPONENT_ID:1093,serialize(e,t){let r=Vs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Vs.decode(e.buffer(),e.remainingBytes())},create(){return Vs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInput"}};var zf=_e(Le());function Dx(){return{value:"",isSubmit:void 0}}var Ws;(function(e){function t(n,s=zf.default.Writer.create()){return n.value!==""&&s.uint32(10).string(n.value),n.isSubmit!==void 0&&s.uint32(16).bool(n.isSubmit),s}e.encode=t;function r(n,s){let a=n instanceof zf.default.Reader?n:zf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Dx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.value=a.string();continue;case 2:if(l!==16)break;c.isSubmit=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ws||(Ws={}));var b1={COMPONENT_ID:1095,serialize(e,t){let r=Ws.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ws.decode(e.buffer(),e.remainingBytes())},create(){return Ws.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInputResult"}};var Df=_e(Le());var v1;(function(e){e[e.TW_WRAP=0]="TW_WRAP",e[e.TW_NO_WRAP=1]="TW_NO_WRAP"})(v1||(v1={}));function Ux(){return{value:"",color:void 0,textAlign:void 0,font:void 0,fontSize:void 0,textWrap:void 0}}var Gs;(function(e){function t(n,s=Df.default.Writer.create()){return n.value!==""&&s.uint32(10).string(n.value),n.color!==void 0&&Yt.encode(n.color,s.uint32(18).fork()).ldelim(),n.textAlign!==void 0&&s.uint32(24).int32(n.textAlign),n.font!==void 0&&s.uint32(32).int32(n.font),n.fontSize!==void 0&&s.uint32(40).int32(n.fontSize),n.textWrap!==void 0&&s.uint32(48).int32(n.textWrap),s}e.encode=t;function r(n,s){let a=n instanceof Df.default.Reader?n:Df.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Ux();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.value=a.string();continue;case 2:if(l!==18)break;c.color=Yt.decode(a,a.uint32());continue;case 3:if(l!==24)break;c.textAlign=a.int32();continue;case 4:if(l!==32)break;c.font=a.int32();continue;case 5:if(l!==40)break;c.fontSize=a.int32();continue;case 6:if(l!==48)break;c.textWrap=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Gs||(Gs={}));var w1={COMPONENT_ID:1052,serialize(e,t){let r=Gs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Gs.decode(e.buffer(),e.remainingBytes())},create(){return Gs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiText"}};var Uf=_e(Le());var k1;(function(e){e[e.YGPT_RELATIVE=0]="YGPT_RELATIVE",e[e.YGPT_ABSOLUTE=1]="YGPT_ABSOLUTE"})(k1||(k1={}));var C1;(function(e){e[e.YGA_AUTO=0]="YGA_AUTO",e[e.YGA_FLEX_START=1]="YGA_FLEX_START",e[e.YGA_CENTER=2]="YGA_CENTER",e[e.YGA_FLEX_END=3]="YGA_FLEX_END",e[e.YGA_STRETCH=4]="YGA_STRETCH",e[e.YGA_BASELINE=5]="YGA_BASELINE",e[e.YGA_SPACE_BETWEEN=6]="YGA_SPACE_BETWEEN",e[e.YGA_SPACE_AROUND=7]="YGA_SPACE_AROUND"})(C1||(C1={}));var I1;(function(e){e[e.YGU_UNDEFINED=0]="YGU_UNDEFINED",e[e.YGU_POINT=1]="YGU_POINT",e[e.YGU_PERCENT=2]="YGU_PERCENT",e[e.YGU_AUTO=3]="YGU_AUTO"})(I1||(I1={}));var A1;(function(e){e[e.YGFD_ROW=0]="YGFD_ROW",e[e.YGFD_COLUMN=1]="YGFD_COLUMN",e[e.YGFD_COLUMN_REVERSE=2]="YGFD_COLUMN_REVERSE",e[e.YGFD_ROW_REVERSE=3]="YGFD_ROW_REVERSE"})(A1||(A1={}));var R1;(function(e){e[e.YGW_NO_WRAP=0]="YGW_NO_WRAP",e[e.YGW_WRAP=1]="YGW_WRAP",e[e.YGW_WRAP_REVERSE=2]="YGW_WRAP_REVERSE"})(R1||(R1={}));var P1;(function(e){e[e.YGJ_FLEX_START=0]="YGJ_FLEX_START",e[e.YGJ_CENTER=1]="YGJ_CENTER",e[e.YGJ_FLEX_END=2]="YGJ_FLEX_END",e[e.YGJ_SPACE_BETWEEN=3]="YGJ_SPACE_BETWEEN",e[e.YGJ_SPACE_AROUND=4]="YGJ_SPACE_AROUND",e[e.YGJ_SPACE_EVENLY=5]="YGJ_SPACE_EVENLY"})(P1||(P1={}));var N1;(function(e){e[e.YGO_VISIBLE=0]="YGO_VISIBLE",e[e.YGO_HIDDEN=1]="YGO_HIDDEN",e[e.YGO_SCROLL=2]="YGO_SCROLL"})(N1||(N1={}));var M1;(function(e){e[e.YGD_FLEX=0]="YGD_FLEX",e[e.YGD_NONE=1]="YGD_NONE"})(M1||(M1={}));var _1;(function(e){e[e.YGE_LEFT=0]="YGE_LEFT",e[e.YGE_TOP=1]="YGE_TOP",e[e.YGE_RIGHT=2]="YGE_RIGHT",e[e.YGE_BOTTOM=3]="YGE_BOTTOM",e[e.YGE_START=4]="YGE_START",e[e.YGE_END=5]="YGE_END",e[e.YGE_HORIZONTAL=6]="YGE_HORIZONTAL",e[e.YGE_VERTICAL=7]="YGE_VERTICAL",e[e.YGE_ALL=8]="YGE_ALL"})(_1||(_1={}));var O1;(function(e){e[e.PFM_NONE=0]="PFM_NONE",e[e.PFM_BLOCK=1]="PFM_BLOCK"})(O1||(O1={}));function Lx(){return{parent:0,rightOf:0,alignContent:void 0,alignItems:void 0,flexWrap:void 0,flexShrink:void 0,positionType:0,alignSelf:0,flexDirection:0,justifyContent:0,overflow:0,display:0,flexBasisUnit:0,flexBasis:0,flexGrow:0,widthUnit:0,width:0,heightUnit:0,height:0,minWidthUnit:0,minWidth:0,minHeightUnit:0,minHeight:0,maxWidthUnit:0,maxWidth:0,maxHeightUnit:0,maxHeight:0,positionLeftUnit:0,positionLeft:0,positionTopUnit:0,positionTop:0,positionRightUnit:0,positionRight:0,positionBottomUnit:0,positionBottom:0,marginLeftUnit:0,marginLeft:0,marginTopUnit:0,marginTop:0,marginRightUnit:0,marginRight:0,marginBottomUnit:0,marginBottom:0,paddingLeftUnit:0,paddingLeft:0,paddingTopUnit:0,paddingTop:0,paddingRightUnit:0,paddingRight:0,paddingBottomUnit:0,paddingBottom:0,pointerFilter:void 0}}var Hs;(function(e){function t(n,s=Uf.default.Writer.create()){return n.parent!==0&&s.uint32(8).int32(n.parent),n.rightOf!==0&&s.uint32(16).int32(n.rightOf),n.alignContent!==void 0&&s.uint32(24).int32(n.alignContent),n.alignItems!==void 0&&s.uint32(32).int32(n.alignItems),n.flexWrap!==void 0&&s.uint32(40).int32(n.flexWrap),n.flexShrink!==void 0&&s.uint32(53).float(n.flexShrink),n.positionType!==0&&s.uint32(56).int32(n.positionType),n.alignSelf!==0&&s.uint32(64).int32(n.alignSelf),n.flexDirection!==0&&s.uint32(72).int32(n.flexDirection),n.justifyContent!==0&&s.uint32(80).int32(n.justifyContent),n.overflow!==0&&s.uint32(88).int32(n.overflow),n.display!==0&&s.uint32(96).int32(n.display),n.flexBasisUnit!==0&&s.uint32(104).int32(n.flexBasisUnit),n.flexBasis!==0&&s.uint32(117).float(n.flexBasis),n.flexGrow!==0&&s.uint32(125).float(n.flexGrow),n.widthUnit!==0&&s.uint32(128).int32(n.widthUnit),n.width!==0&&s.uint32(141).float(n.width),n.heightUnit!==0&&s.uint32(144).int32(n.heightUnit),n.height!==0&&s.uint32(157).float(n.height),n.minWidthUnit!==0&&s.uint32(160).int32(n.minWidthUnit),n.minWidth!==0&&s.uint32(173).float(n.minWidth),n.minHeightUnit!==0&&s.uint32(176).int32(n.minHeightUnit),n.minHeight!==0&&s.uint32(189).float(n.minHeight),n.maxWidthUnit!==0&&s.uint32(192).int32(n.maxWidthUnit),n.maxWidth!==0&&s.uint32(205).float(n.maxWidth),n.maxHeightUnit!==0&&s.uint32(208).int32(n.maxHeightUnit),n.maxHeight!==0&&s.uint32(221).float(n.maxHeight),n.positionLeftUnit!==0&&s.uint32(224).int32(n.positionLeftUnit),n.positionLeft!==0&&s.uint32(237).float(n.positionLeft),n.positionTopUnit!==0&&s.uint32(240).int32(n.positionTopUnit),n.positionTop!==0&&s.uint32(253).float(n.positionTop),n.positionRightUnit!==0&&s.uint32(256).int32(n.positionRightUnit),n.positionRight!==0&&s.uint32(269).float(n.positionRight),n.positionBottomUnit!==0&&s.uint32(272).int32(n.positionBottomUnit),n.positionBottom!==0&&s.uint32(285).float(n.positionBottom),n.marginLeftUnit!==0&&s.uint32(288).int32(n.marginLeftUnit),n.marginLeft!==0&&s.uint32(301).float(n.marginLeft),n.marginTopUnit!==0&&s.uint32(304).int32(n.marginTopUnit),n.marginTop!==0&&s.uint32(317).float(n.marginTop),n.marginRightUnit!==0&&s.uint32(320).int32(n.marginRightUnit),n.marginRight!==0&&s.uint32(333).float(n.marginRight),n.marginBottomUnit!==0&&s.uint32(336).int32(n.marginBottomUnit),n.marginBottom!==0&&s.uint32(349).float(n.marginBottom),n.paddingLeftUnit!==0&&s.uint32(352).int32(n.paddingLeftUnit),n.paddingLeft!==0&&s.uint32(365).float(n.paddingLeft),n.paddingTopUnit!==0&&s.uint32(368).int32(n.paddingTopUnit),n.paddingTop!==0&&s.uint32(381).float(n.paddingTop),n.paddingRightUnit!==0&&s.uint32(384).int32(n.paddingRightUnit),n.paddingRight!==0&&s.uint32(397).float(n.paddingRight),n.paddingBottomUnit!==0&&s.uint32(400).int32(n.paddingBottomUnit),n.paddingBottom!==0&&s.uint32(413).float(n.paddingBottom),n.pointerFilter!==void 0&&s.uint32(416).int32(n.pointerFilter),s}e.encode=t;function r(n,s){let a=n instanceof Uf.default.Reader?n:Uf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Lx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.parent=a.int32();continue;case 2:if(l!==16)break;c.rightOf=a.int32();continue;case 3:if(l!==24)break;c.alignContent=a.int32();continue;case 4:if(l!==32)break;c.alignItems=a.int32();continue;case 5:if(l!==40)break;c.flexWrap=a.int32();continue;case 6:if(l!==53)break;c.flexShrink=a.float();continue;case 7:if(l!==56)break;c.positionType=a.int32();continue;case 8:if(l!==64)break;c.alignSelf=a.int32();continue;case 9:if(l!==72)break;c.flexDirection=a.int32();continue;case 10:if(l!==80)break;c.justifyContent=a.int32();continue;case 11:if(l!==88)break;c.overflow=a.int32();continue;case 12:if(l!==96)break;c.display=a.int32();continue;case 13:if(l!==104)break;c.flexBasisUnit=a.int32();continue;case 14:if(l!==117)break;c.flexBasis=a.float();continue;case 15:if(l!==125)break;c.flexGrow=a.float();continue;case 16:if(l!==128)break;c.widthUnit=a.int32();continue;case 17:if(l!==141)break;c.width=a.float();continue;case 18:if(l!==144)break;c.heightUnit=a.int32();continue;case 19:if(l!==157)break;c.height=a.float();continue;case 20:if(l!==160)break;c.minWidthUnit=a.int32();continue;case 21:if(l!==173)break;c.minWidth=a.float();continue;case 22:if(l!==176)break;c.minHeightUnit=a.int32();continue;case 23:if(l!==189)break;c.minHeight=a.float();continue;case 24:if(l!==192)break;c.maxWidthUnit=a.int32();continue;case 25:if(l!==205)break;c.maxWidth=a.float();continue;case 26:if(l!==208)break;c.maxHeightUnit=a.int32();continue;case 27:if(l!==221)break;c.maxHeight=a.float();continue;case 28:if(l!==224)break;c.positionLeftUnit=a.int32();continue;case 29:if(l!==237)break;c.positionLeft=a.float();continue;case 30:if(l!==240)break;c.positionTopUnit=a.int32();continue;case 31:if(l!==253)break;c.positionTop=a.float();continue;case 32:if(l!==256)break;c.positionRightUnit=a.int32();continue;case 33:if(l!==269)break;c.positionRight=a.float();continue;case 34:if(l!==272)break;c.positionBottomUnit=a.int32();continue;case 35:if(l!==285)break;c.positionBottom=a.float();continue;case 36:if(l!==288)break;c.marginLeftUnit=a.int32();continue;case 37:if(l!==301)break;c.marginLeft=a.float();continue;case 38:if(l!==304)break;c.marginTopUnit=a.int32();continue;case 39:if(l!==317)break;c.marginTop=a.float();continue;case 40:if(l!==320)break;c.marginRightUnit=a.int32();continue;case 41:if(l!==333)break;c.marginRight=a.float();continue;case 42:if(l!==336)break;c.marginBottomUnit=a.int32();continue;case 43:if(l!==349)break;c.marginBottom=a.float();continue;case 44:if(l!==352)break;c.paddingLeftUnit=a.int32();continue;case 45:if(l!==365)break;c.paddingLeft=a.float();continue;case 46:if(l!==368)break;c.paddingTopUnit=a.int32();continue;case 47:if(l!==381)break;c.paddingTop=a.float();continue;case 48:if(l!==384)break;c.paddingRightUnit=a.int32();continue;case 49:if(l!==397)break;c.paddingRight=a.float();continue;case 50:if(l!==400)break;c.paddingBottomUnit=a.int32();continue;case 51:if(l!==413)break;c.paddingBottom=a.float();continue;case 52:if(l!==416)break;c.pointerFilter=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Hs||(Hs={}));var B1={COMPONENT_ID:1050,serialize(e,t){let r=Hs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Hs.decode(e.buffer(),e.remainingBytes())},create(){return Hs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiTransform"}};var Lf=_e(Le());var br;(function(e){e[e.VS_NONE=0]="VS_NONE",e[e.VS_ERROR=1]="VS_ERROR",e[e.VS_LOADING=2]="VS_LOADING",e[e.VS_READY=3]="VS_READY",e[e.VS_PLAYING=4]="VS_PLAYING",e[e.VS_BUFFERING=5]="VS_BUFFERING",e[e.VS_SEEKING=6]="VS_SEEKING",e[e.VS_PAUSED=7]="VS_PAUSED"})(br||(br={}));function Fx(){return{timestamp:0,tickNumber:0,currentOffset:0,videoLength:0,state:0}}var js;(function(e){function t(n,s=Lf.default.Writer.create()){return n.timestamp!==0&&s.uint32(8).uint32(n.timestamp),n.tickNumber!==0&&s.uint32(16).uint32(n.tickNumber),n.currentOffset!==0&&s.uint32(29).float(n.currentOffset),n.videoLength!==0&&s.uint32(37).float(n.videoLength),n.state!==0&&s.uint32(40).int32(n.state),s}e.encode=t;function r(n,s){let a=n instanceof Lf.default.Reader?n:Lf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Fx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.timestamp=a.uint32();continue;case 2:if(l!==16)break;c.tickNumber=a.uint32();continue;case 3:if(l!==29)break;c.currentOffset=a.float();continue;case 4:if(l!==37)break;c.videoLength=a.float();continue;case 5:if(l!==40)break;c.state=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(js||(js={}));var z1={COMPONENT_ID:1044,serialize(e,t){let r=js.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return js.decode(e.buffer(),e.remainingBytes())},create(){return js.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoEvent"}};var Ff=_e(Le());function Vx(){return{src:"",playing:void 0,position:void 0,volume:void 0,playbackRate:void 0,loop:void 0}}var qs;(function(e){function t(n,s=Ff.default.Writer.create()){return n.src!==""&&s.uint32(10).string(n.src),n.playing!==void 0&&s.uint32(16).bool(n.playing),n.position!==void 0&&s.uint32(29).float(n.position),n.volume!==void 0&&s.uint32(37).float(n.volume),n.playbackRate!==void 0&&s.uint32(45).float(n.playbackRate),n.loop!==void 0&&s.uint32(48).bool(n.loop),s}e.encode=t;function r(n,s){let a=n instanceof Ff.default.Reader?n:Ff.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Vx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.src=a.string();continue;case 2:if(l!==16)break;c.playing=a.bool();continue;case 3:if(l!==29)break;c.position=a.float();continue;case 4:if(l!==37)break;c.volume=a.float();continue;case 5:if(l!==45)break;c.playbackRate=a.float();continue;case 6:if(l!==48)break;c.loop=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(qs||(qs={}));var D1={COMPONENT_ID:1043,serialize(e,t){let r=qs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return qs.decode(e.buffer(),e.remainingBytes())},create(){return qs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"}};var Vf=_e(Le());function Wx(){return{visible:void 0}}var Qs;(function(e){function t(n,s=Vf.default.Writer.create()){return n.visible!==void 0&&s.uint32(8).bool(n.visible),s}e.encode=t;function r(n,s){let a=n instanceof Vf.default.Reader?n:Vf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Wx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.visible=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Qs||(Qs={}));var U1={COMPONENT_ID:1081,serialize(e,t){let r=Qs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Qs.decode(e.buffer(),e.remainingBytes())},create(){return Qs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"}};var Ap=e=>e.defineComponentFromSchema("core::Animator",gg),Rp=e=>e.defineValueSetComponentFromSchema("core::AudioEvent",Eg,{timestampFunction:t=>t.timestamp,maxElements:100}),Wf=e=>e.defineComponentFromSchema("core::AudioSource",Tg),Pp=e=>e.defineComponentFromSchema("core::AudioStream",Sg),L1=e=>e.defineComponentFromSchema("core::AvatarAttach",bg),oc=e=>e.defineComponentFromSchema("core::AvatarBase",vg),Np=e=>e.defineValueSetComponentFromSchema("core::AvatarEmoteCommand",wg,{timestampFunction:t=>t.timestamp,maxElements:100}),ic=e=>e.defineComponentFromSchema("core::AvatarEquippedData",kg),F1=e=>e.defineComponentFromSchema("core::AvatarModifierArea",Rg),V1=e=>e.defineComponentFromSchema("core::AvatarShape",Fg),W1=e=>e.defineComponentFromSchema("core::Billboard",Wg),Mp=e=>e.defineComponentFromSchema("core::CameraMode",Gg),_p=e=>e.defineComponentFromSchema("core::CameraModeArea",Hg),G1=e=>e.defineComponentFromSchema("core::EngineInfo",jg),ac=e=>e.defineComponentFromSchema("core::GltfContainer",qg),H1=e=>e.defineComponentFromSchema("core::GltfContainerLoadingState",Qg),j1=e=>e.defineComponentFromSchema("core::InputModifier",Yg),Op=e=>e.defineComponentFromSchema("core::Material",$g),Bp=e=>e.defineComponentFromSchema("core::MeshCollider",Kg),zp=e=>e.defineComponentFromSchema("core::MeshRenderer",Zg),q1=e=>e.defineComponentFromSchema("core::NftShape",e1),sc=e=>e.defineComponentFromSchema("core::PlayerIdentityData",t1),Sa=e=>e.defineComponentFromSchema("core::PointerEvents",n1),lc=e=>e.defineValueSetComponentFromSchema("core::PointerEventsResult",r1,{timestampFunction:t=>t.timestamp,maxElements:100}),Dp=e=>e.defineComponentFromSchema("core::PointerLock",o1),Gf=e=>e.defineComponentFromSchema("core::Raycast",i1),Hf=e=>e.defineComponentFromSchema("core::RaycastResult",a1),Up=e=>e.defineComponentFromSchema("core::RealmInfo",s1),Lp=e=>e.defineComponentFromSchema("core::TextShape",l1),Fp=e=>e.defineComponentFromSchema("core::Tween",u1),jf=e=>e.defineComponentFromSchema("core::TweenSequence",d1),qf=e=>e.defineComponentFromSchema("core::TweenState",p1),Qf=e=>e.defineComponentFromSchema("core::UiBackground",g1),Vp=e=>e.defineComponentFromSchema("core::UiCanvasInformation",E1),Yf=e=>e.defineComponentFromSchema("core::UiDropdown",T1),Jf=e=>e.defineComponentFromSchema("core::UiDropdownResult",S1),$f=e=>e.defineComponentFromSchema("core::UiInput",x1),Kf=e=>e.defineComponentFromSchema("core::UiInputResult",b1),Zf=e=>e.defineComponentFromSchema("core::UiText",w1),Ys=e=>e.defineComponentFromSchema("core::UiTransform",B1),Xf=e=>e.defineValueSetComponentFromSchema("core::VideoEvent",z1,{timestampFunction:t=>t.timestamp,maxElements:100}),cc=e=>e.defineComponentFromSchema("core::VideoPlayer",D1),Wp=e=>e.defineComponentFromSchema("core::VisibilityComponent",U1),Gp={"core::Animator":Ap,"core::AudioEvent":Rp,"core::AudioSource":Wf,"core::AudioStream":Pp,"core::AvatarAttach":L1,"core::AvatarBase":oc,"core::AvatarEmoteCommand":Np,"core::AvatarEquippedData":ic,"core::AvatarModifierArea":F1,"core::AvatarShape":V1,"core::Billboard":W1,"core::CameraMode":Mp,"core::CameraModeArea":_p,"core::EngineInfo":G1,"core::GltfContainer":ac,"core::GltfContainerLoadingState":H1,"core::InputModifier":j1,"core::Material":Op,"core::MeshCollider":Bp,"core::MeshRenderer":zp,"core::NftShape":q1,"core::PlayerIdentityData":sc,"core::PointerEvents":Sa,"core::PointerEventsResult":lc,"core::PointerLock":Dp,"core::Raycast":Gf,"core::RaycastResult":Hf,"core::RealmInfo":Up,"core::TextShape":Lp,"core::Tween":Fp,"core::TweenSequence":jf,"core::TweenState":qf,"core::UiBackground":Qf,"core::UiCanvasInformation":Vp,"core::UiDropdown":Yf,"core::UiDropdownResult":Jf,"core::UiInput":$f,"core::UiInputResult":Kf,"core::UiText":Zf,"core::UiTransform":Ys,"core::VideoEvent":Xf,"core::VideoPlayer":cc,"core::VisibilityComponent":Wp};function Q1(e){let t=Ap(e);function r(n,s){let a=t.getMutableOrNull(n);if(!a)return[null,null];let f=a.states.find(c=>c.clip===s);return f?[a,f]:[a,null]}return{...t,getClipOrNull(n,s){let[a,f]=r(n,s);return f},getClip(n,s){let[a,f]=r(n,s);if(!a)throw new Error(`There is no Animator found in the entity ${n}`);if(!f)throw new Error(`The Animator component of ${n} has no the state ${s}`);return f},playSingleAnimation(n,s,a=!0){let[f,c]=r(n,s);if(!f||!c)return!1;for(let l of f.states)l.playing=!1,l.shouldReset=!0;return c.playing=!0,c.shouldReset=a,!0},stopAllAnimations(n,s=!0){let a=t.getMutableOrNull(n);if(!a)return!1;for(let f of a.states)f.playing=!1,f.shouldReset=s;return!0}}}function Y1(e){let t=Wf(e);return{...t,playSound(r,n,s=!0){let a=t.getMutableOrNull(r);return a?(a.audioClipUrl=n,a.playing=!0,a.currentTime=s?0:a.currentTime,!0):!1},stopSound(r,n=!0){let s=t.getMutableOrNull(r);return s?(s.playing=!1,s.currentTime=n?0:s.currentTime,!0):!1}}}var Hx={Common(e){return{tex:{$case:"texture",texture:e}}},Avatar(e){return{tex:{$case:"avatarTexture",avatarTexture:e}}},Video(e){return{tex:{$case:"videoTexture",videoTexture:e}}}};function J1(e){let t=Op(e);return{...t,Texture:Hx,setBasicMaterial(r,n){t.createOrReplace(r,{material:{$case:"unlit",unlit:n}})},setPbrMaterial(r,n){t.createOrReplace(r,{material:{$case:"pbr",pbr:n}})}}}function $1(e){let t=Bp(e);function r(n){if(Array.isArray(n))return n.map(s=>s).reduce((s,a)=>s|a,0);if(n)return n}return{...t,setBox(n,s){t.createOrReplace(n,{mesh:{$case:"box",box:{}},collisionMask:r(s)})},setPlane(n,s){t.createOrReplace(n,{mesh:{$case:"plane",plane:{}},collisionMask:r(s)})},setCylinder(n,s,a,f){t.createOrReplace(n,{mesh:{$case:"cylinder",cylinder:{radiusBottom:s,radiusTop:a}},collisionMask:r(f)})},setSphere(n,s){t.createOrReplace(n,{mesh:{$case:"sphere",sphere:{}},collisionMask:r(s)})}}}function K1(e){let t=zp(e);return{...t,setBox(r,n){t.createOrReplace(r,{mesh:{$case:"box",box:{uvs:n||[]}}})},setPlane(r,n){t.createOrReplace(r,{mesh:{$case:"plane",plane:{uvs:n||[]}}})},setCylinder(r,n,s){t.createOrReplace(r,{mesh:{$case:"cylinder",cylinder:{radiusBottom:n,radiusTop:s}}})},setSphere(r){t.createOrReplace(r,{mesh:{$case:"sphere",sphere:{}}})}}}var jx={Move(e){return{$case:"move",move:e}},Rotate(e){return{$case:"rotate",rotate:e}},Scale(e){return{$case:"scale",scale:e}}};function Z1(e){return{...Fp(e),Mode:jx}}var ed=e=>({serialize(t,r){r.writeUint32(t.length);for(let n of t)e.serialize(n,r)},deserialize(t){let r=[],n=t.readUint32();for(let s=0;s<n;s++)r.push(e.deserialize(t));return r},create(){return[]},jsonSchema:{type:"array",items:e.jsonSchema,serializationType:"array"}});var uc={serialize(e,t){t.writeInt8(e?1:0)},deserialize(e){return e.readInt8()===1},create(){return!1},jsonSchema:{type:"boolean",serializationType:"boolean"}};var fc={serialize(e,t){t.writeInt64(BigInt(e))},deserialize(e){return Number(e.readInt64())},create(){return 0},jsonSchema:{type:"integer",serializationType:"int64"}},Bi={serialize(e,t){t.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int32"}},dc={serialize(e,t){t.writeInt16(e)},deserialize(e){return e.readInt16()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int16"}},mc={serialize(e,t){t.writeInt8(e)},deserialize(e){return e.readInt8()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int8"}};var td={serialize(e,t){t.writeUtf8String(e)},deserialize(e){return e.readUtf8String()},create(){return""},jsonSchema:{type:"string",serializationType:"utf8-string"}},pc=td;function qx(e){let n=0,s=0;for(let a in e){if(typeof e[a]=="number"){if(e[a]>2147483647||e[a]<-2147483648)throw new Error("Enum member values must be numbers within the range of -2147483648 to 2147483647.");n++}s++}if(s!==n*2)throw new Error("All enum member values must be of numeric type.")}function Qx(e){for(let t in e)if(typeof e[t]!="string")throw new Error("All enum member values must be of string type.")}var Yx="enum-int",nd=(e,t)=>(qx(e),{serialize(r,n){Bi.serialize(r,n)},deserialize(r){return Bi.deserialize(r)},create(){return t},jsonSchema:{type:"integer",enum:Object.values(e).filter(r=>Number.isInteger(r)),default:t,serializationType:Yx,enumObject:e}}),Jx="enum-string",rd=(e,t)=>(Qx(e),{serialize(r,n){td.serialize(r,n)},deserialize(r){return td.deserialize(r)},create(){return t},jsonSchema:{type:"string",enum:Object.values(e),default:t,serializationType:Jx,enumObject:e}});var Js={serialize(e,t){t.writeFloat32(e)},deserialize(e){return e.readFloat32()},create(){return 0},jsonSchema:{type:"number",serializationType:"float32"}},hc={serialize(e,t){t.writeFloat64(e)},deserialize(e){return e.readFloat64()},create(){return 0},jsonSchema:{type:"number",serializationType:"float64"}};var yc={serialize(e,t){t.writeFloat32(e.r),t.writeFloat32(e.g),t.writeFloat32(e.b)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32()}},create(){return{r:0,g:0,b:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"}},serializationType:"color3"}};var gc={serialize(e,t){t.writeFloat32(e.r),t.writeFloat32(e.g),t.writeFloat32(e.b),t.writeFloat32(e.a)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32(),a:e.readFloat32()}},create(){return{r:0,g:0,b:0,a:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"},a:{type:"number"}},serializationType:"color4"}};var Ec={serialize(e,t){t.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"entity"}};var Tc={serialize(e,t){t.writeFloat32(e.x),t.writeFloat32(e.y),t.writeFloat32(e.z),t.writeFloat32(e.w)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32(),w:e.readFloat32()}},create(){return{x:0,y:0,z:0,w:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"quaternion"}};var Sc={serialize(e,t){t.writeFloat32(e.x),t.writeFloat32(e.y),t.writeFloat32(e.z)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32()}},create(){return{x:0,y:0,z:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"vector3"}};var od=(e,t)=>{let r=Object.keys(e).reduce((n,s)=>(n[s]=e[s].jsonSchema,n),{});return{serialize(n,s){for(let a in e)e[a].serialize(n[a],s)},deserialize(n){let s={};for(let a in e)s[a]=e[a].deserialize(n);return s},create(){let n={};for(let s in e)n[s]=e[s].create();return{...n,...t}},extend:n=>{let s={};for(let a in e)s[a]=e[a].create();return{...s,...t,...n}},jsonSchema:{type:"object",properties:r,serializationType:"map"}}};var id=e=>({serialize(t,r){t?(r.writeInt8(1),e.serialize(t,r)):r.writeInt8(0)},deserialize(t){if(t.readInt8())return e.deserialize(t)},create(){},jsonSchema:{type:e.jsonSchema.type,serializationType:"optional",optionalJsonSchema:e.jsonSchema}});var ad=e=>{let t=Object.keys(e),r=t.reduce((s,a,f)=>(s[a]=f,s),{}),n=t.reduce((s,a)=>(s[a]=e[a].jsonSchema,s),{});return{serialize({$case:s,value:a},f){let c=r[s.toString()]+1;f.writeUint8(c),e[s].serialize(a,f)},deserialize(s){let a=t[s.readInt8()-1],f=e[a].deserialize(s);return{$case:a,value:f}},create(){return{}},jsonSchema:{type:"object",properties:n,serializationType:"one-of"}}};var X1=(e,t)=>t.includes(e.serializationType),$x=e=>X1(e,["one-of"]),Kx=()=>({type:{type:"object",serializationType:"unknown"},value:void 0}),sd=e=>X1(e,["array","map"]),Hp=(e,t,r)=>{let n=e[r],s=t[r];if($x(n)){let a=s;if(!a.$case)return Kx();let f=n.properties[a.$case];return sd(f)&&(t[r]={[a.$case]:a.value}),{type:f,value:a.value}}return{type:n,value:s}};var eE={[uc.jsonSchema.serializationType]:uc,[pc.jsonSchema.serializationType]:pc,[Js.jsonSchema.serializationType]:Js,[hc.jsonSchema.serializationType]:hc,[mc.jsonSchema.serializationType]:mc,[dc.jsonSchema.serializationType]:dc,[Bi.jsonSchema.serializationType]:Bi,[fc.jsonSchema.serializationType]:fc,[Sc.jsonSchema.serializationType]:Sc,[Tc.jsonSchema.serializationType]:Tc,[yc.jsonSchema.serializationType]:yc,[gc.jsonSchema.serializationType]:gc,[Ec.jsonSchema.serializationType]:Ec};function $s(e){if(eE[e.serializationType])return eE[e.serializationType];if(e.serializationType==="map"){let t=e,r={};for(let n in t.properties)r[n]=$s(t.properties[n]);return od(r)}if(e.serializationType==="optional")return id($s(e.optionalJsonSchema));if(e.serializationType==="array")return ed($s(e.items));if(e.serializationType==="enum-int"){let t=e;return nd(t.enumObject,t.default)}if(e.serializationType==="enum-string"){let t=e;return rd(t.enumObject,t.default)}if(e.serializationType==="one-of"){let t=e,r={};for(let n in t.properties)r[n]=$s(t.properties[n]);return ad(r)}throw new Error(`${e.serializationType} is not supported as reverse schema generation.`)}function ld(e,t,r){if(e.serializationType==="map"){let{properties:n}=e,s=t;for(let a in n){let{type:f,value:c}=Hp(n,s,a);if(f.serializationType!=="unknown")if(sd(f))ld(f,c,r);else{let l=r(c,f);l.changed&&(s[a]=l.value)}}}else if(e.serializationType==="array"){let{items:n}=e,s=t;for(let a=0,f=s.length;a<f;a++){let{type:c,value:l}=Hp({items:n},{items:s[a]},"items");if(sd(c))ld(c,l,r);else{let y=r(l,c);y.changed&&(s[a]=y.value)}}}}var B;(function(e){e.Boolean=uc,e.String=pc,e.Float=Js,e.Double=hc,e.Byte=mc,e.Short=dc,e.Int=Bi,e.Int64=fc,e.Number=Js,e.Vector3=Sc,e.Quaternion=Tc,e.Color3=yc,e.Color4=gc,e.Entity=Ec,e.EnumNumber=nd,e.EnumString=rd,e.Array=ed,e.Map=od,e.Optional=id,e.OneOf=ad,e.fromJson=$s,e.mutateNestedValues=ld})(B||(B={}));function Zx(e){return e.defineComponent("core-schema::Name",{value:B.String})}var tE=Zx;function Xx(e){return e.defineComponent("core-schema::Network-Entity",{networkId:B.Int64,entityId:B.Entity})}var nE=Xx;function eb(e){return e.defineComponent("core-schema::Network-Parent",{networkId:B.Int64,entityId:B.Entity})}var rE=eb;var Ks={serialize(e,t){let r=t.incrementWriteOffset(44);t.setFloat32(r,e.position.x),t.setFloat32(r+4,e.position.y),t.setFloat32(r+8,e.position.z),t.setFloat32(r+12,e.rotation.x),t.setFloat32(r+16,e.rotation.y),t.setFloat32(r+20,e.rotation.z),t.setFloat32(r+24,e.rotation.w),t.setFloat32(r+28,e.scale.x),t.setFloat32(r+32,e.scale.y),t.setFloat32(r+36,e.scale.z),t.setUint32(r+40,e.parent||0)},deserialize(e){let t=e.incrementReadOffset(44);return{position:{x:e.getFloat32(t),y:e.getFloat32(t+4),z:e.getFloat32(t+8)},rotation:{x:e.getFloat32(t+12),y:e.getFloat32(t+16),z:e.getFloat32(t+20),w:e.getFloat32(t+24)},scale:{x:e.getFloat32(t+28),y:e.getFloat32(t+32),z:e.getFloat32(t+36)},parent:e.getUint32(t+40)}},create(){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},extend(e){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0,...e}},jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"}};function oE(e){let t=e.defineComponentFromSchema("core::Transform",Ks);return{...t,create(r,n){return t.create(r,Ks.extend(n))},createOrReplace(r,n){return t.createOrReplace(r,Ks.extend(n))}}}var jp;(function(e){e[e.MS_NONE=0]="MS_NONE",e[e.MS_ERROR=1]="MS_ERROR",e[e.MS_LOADING=2]="MS_LOADING",e[e.MS_READY=3]="MS_READY",e[e.MS_PLAYING=4]="MS_PLAYING",e[e.MS_BUFFERING=5]="MS_BUFFERING",e[e.MS_SEEKING=6]="MS_SEEKING",e[e.MS_PAUSED=7]="MS_PAUSED"})(jp||(jp={}));var so=e=>oE(e),iE=e=>J1(e),aE=e=>Q1(e),sE=e=>Y1(e);var lE=e=>K1(e),cd=e=>$1(e),qp=e=>Z1(e),ud=e=>tE(e);var Zs=e=>nE(e),xc=e=>rE(e);var Qp={"core::Transform":1,"core::Animator":1042,"core::AudioEvent":1105,"core::AudioSource":1020,"core::AudioStream":1021,"core::AvatarAttach":1073,"core::AvatarBase":1087,"core::AvatarEmoteCommand":1088,"core::AvatarEquippedData":1091,"core::AvatarModifierArea":1070,"core::AvatarShape":1080,"core::Billboard":1090,"core::CameraMode":1072,"core::CameraModeArea":1071,"core::EngineInfo":1048,"core::GltfContainer":1041,"core::GltfContainerLoadingState":1049,"core::InputModifier":1078,"core::MapPin":1097,"core::Material":1017,"core::MeshCollider":1019,"core::MeshRenderer":1018,"core::NftShape":1040,"core::PlayerIdentityData":1089,"core::PointerEvents":1062,"core::PointerEventsResult":1063,"core::PointerLock":1074,"core::Raycast":1067,"core::RaycastResult":1068,"core::RealmInfo":1106,"core::TextShape":1030,"core::Tween":1102,"core::TweenSequence":1104,"core::TweenState":1103,"core::UiBackground":1053,"core::UiCanvasInformation":1054,"core::UiDropdown":1094,"core::UiDropdownResult":1096,"core::UiInput":1093,"core::UiInputResult":1095,"core::UiText":1052,"core::UiTransform":1050,"core::VideoEvent":1044,"core::VideoPlayer":1043,"core::VisibilityComponent":1081};var uE=_e(Bu());var tb=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function nb(e,t){let r=~~t^-1;for(let n=0;n<e.length;n++)r=tb[(r^e[n])&255]^r>>>8;return r^-1}function cE(e,t=0){return nb(e,t)>>>0}var Yp=2048;function Do(e){if(Qp[e])return Qp[e];let t=new Uint8Array(128);return uE.write(e,t,0),(cE(t)+Yp&4294967295)>>>0}var Jp=typeof process=="object"&&!1||!1;function bc(e,t){if(Jp&&e&&typeof e=="object"&&typeof e.then=="function")throw new Error(t);return e}function fE(){let e=new Map;return{addTo(t,r){if(r<0)return!1;let n=e.get(t);return n!==void 0&&n>=r||e.set(t,r),!0},has(t,r){let n=e.get(t);return n!==void 0&&n>=r},getMap(){return e}}}var xa=65535,rb=4294901760,RP=xa+1,dE=xa,ob=512,Uo;(function(e){function t(n){return[(n&xa)>>>0,((n&rb)>>16&xa)>>>0]}e.fromEntityId=t;function r(n,s){return(n&xa|(s&xa)<<16)>>>0}e.toEntityId=r})(Uo||(Uo={}));var Xt;(function(e){e[e.Unknown=0]="Unknown",e[e.UsedEntity=1]="UsedEntity",e[e.Removed=2]="Removed",e[e.Reserved=3]="Reserved"})(Xt||(Xt={}));function mE(e){let t=e?.reservedStaticEntities??ob,r=t,n=new Set,s=[],a=fE();function f(){if(r>dE-1)throw new Error(`It fails trying to generate an entity out of range ${dE}.`);let I=r++,P=a.getMap().has(I)?a.getMap().get(I)+1:0,S=Uo.toEntityId(I,P);return n.has(S)?f():(n.add(S),S)}function c(){if(n.size+t>=r)return f();for(let[P,S]of a.getMap())if(S<xa){let x=Uo.toEntityId(P,S+1);if(!n.has(x)&&!s.includes(x))return n.add(x),x}return f()}function l(I){return I<t?!1:(n.has(I)?(n.delete(I),s.push(I)):g(I),!0)}function y(){let I=s;if(I.length){s=[];for(let P of I){let[S,x]=Uo.fromEntityId(P);a.addTo(S,x)}}return I}function g(I){let[P,S]=Uo.fromEntityId(I);a.addTo(P,S);for(let x=0;x<=S;x++)n.delete(Uo.toEntityId(P,x));return!0}function M(I){let[P,S]=Uo.fromEntityId(I);if(a.has(P,S))return!1;if(S>0){for(let x=0;x<=S-1;x++)n.delete(Uo.toEntityId(P,x));a.addTo(P,S-1)}return n.add(I),!0}function w(I){let[P,S]=Uo.fromEntityId(I);if(P<t)return Xt.Reserved;if(n.has(I))return Xt.UsedEntity;let x=a.getMap().get(P);return x!==void 0&&x>=S?Xt.Removed:Xt.Unknown}return{generateEntity:c,removeEntity:l,getExistingEntities(){return new Set(n)},getEntityState:w,releaseRemovedEntities:y,updateRemovedEntity:g,updateUsedEntity:M}}var Xs=_e(Bu()),Ct=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},vt,fr,Cn;function ib(e,t){let r=Math.max(e,t)+1024;return Math.ceil(r/1024)*1024}var ab=10240,Jt=class{constructor(t,r,n){vt.add(this),this._buffer=t||new Uint8Array(ab),this.view=new DataView(this._buffer.buffer,this._buffer.byteOffset),this.woffset=n??(t?this._buffer.length:null)??0,this.roffset=r??0}buffer(){return this._buffer}bufferLength(){return this._buffer.length}resetBuffer(){this.roffset=0,this.woffset=0}currentReadOffset(){return this.roffset}currentWriteOffset(){return this.woffset}incrementReadOffset(t){return Ct(this,vt,"m",Cn).call(this,t)}remainingBytes(){return this.woffset-this.roffset}readFloat32(){return this.view.getFloat32(Ct(this,vt,"m",Cn).call(this,4),!0)}readFloat64(){return this.view.getFloat64(Ct(this,vt,"m",Cn).call(this,8),!0)}readInt8(){return this.view.getInt8(Ct(this,vt,"m",Cn).call(this,1))}readInt16(){return this.view.getInt16(Ct(this,vt,"m",Cn).call(this,2),!0)}readInt32(){return this.view.getInt32(Ct(this,vt,"m",Cn).call(this,4),!0)}readInt64(){return this.view.getBigInt64(Ct(this,vt,"m",Cn).call(this,8),!0)}readUint8(){return this.view.getUint8(Ct(this,vt,"m",Cn).call(this,1))}readUint16(){return this.view.getUint16(Ct(this,vt,"m",Cn).call(this,2),!0)}readUint32(){return this.view.getUint32(Ct(this,vt,"m",Cn).call(this,4),!0)}readUint64(){return this.view.getBigUint64(Ct(this,vt,"m",Cn).call(this,8),!0)}readBuffer(){let t=this.view.getUint32(Ct(this,vt,"m",Cn).call(this,4),!0);return this._buffer.subarray(Ct(this,vt,"m",Cn).call(this,t),Ct(this,vt,"m",Cn).call(this,0))}readUtf8String(){let t=this.view.getUint32(Ct(this,vt,"m",Cn).call(this,4),!0);return Xs.read(this._buffer,Ct(this,vt,"m",Cn).call(this,t),Ct(this,vt,"m",Cn).call(this,0))}incrementWriteOffset(t){return Ct(this,vt,"m",fr).call(this,t)}toBinary(){return this._buffer.subarray(0,this.woffset)}toCopiedBinary(){return new Uint8Array(this.toBinary())}writeBuffer(t,r=!0){r&&this.writeUint32(t.byteLength);let n=Ct(this,vt,"m",fr).call(this,t.byteLength);this._buffer.set(t,n)}writeUtf8String(t,r=!0){let n=Xs.length(t);r&&this.writeUint32(n);let s=Ct(this,vt,"m",fr).call(this,n);Xs.write(t,this._buffer,s)}writeFloat32(t){let r=Ct(this,vt,"m",fr).call(this,4);this.view.setFloat32(r,t,!0)}writeFloat64(t){let r=Ct(this,vt,"m",fr).call(this,8);this.view.setFloat64(r,t,!0)}writeInt8(t){let r=Ct(this,vt,"m",fr).call(this,1);this.view.setInt8(r,t)}writeInt16(t){let r=Ct(this,vt,"m",fr).call(this,2);this.view.setInt16(r,t,!0)}writeInt32(t){let r=Ct(this,vt,"m",fr).call(this,4);this.view.setInt32(r,t,!0)}writeInt64(t){let r=Ct(this,vt,"m",fr).call(this,8);this.view.setBigInt64(r,t,!0)}writeUint8(t){let r=Ct(this,vt,"m",fr).call(this,1);this.view.setUint8(r,t)}writeUint16(t){let r=Ct(this,vt,"m",fr).call(this,2);this.view.setUint16(r,t,!0)}writeUint32(t){let r=Ct(this,vt,"m",fr).call(this,4);this.view.setUint32(r,t,!0)}writeUint64(t){let r=Ct(this,vt,"m",fr).call(this,8);this.view.setBigUint64(r,t,!0)}getFloat32(t){return this.view.getFloat32(t,!0)}getFloat64(t){return this.view.getFloat64(t,!0)}getInt8(t){return this.view.getInt8(t)}getInt16(t){return this.view.getInt16(t,!0)}getInt32(t){return this.view.getInt32(t,!0)}getInt64(t){return this.view.getBigInt64(t,!0)}getUint8(t){return this.view.getUint8(t)}getUint16(t){return this.view.getUint16(t,!0)}getUint32(t){return this.view.getUint32(t,!0)}getUint64(t){return this.view.getBigUint64(t,!0)}setFloat32(t,r){this.view.setFloat32(t,r,!0)}setFloat64(t,r){this.view.setFloat64(t,r,!0)}setInt8(t,r){this.view.setInt8(t,r)}setInt16(t,r){this.view.setInt16(t,r,!0)}setInt32(t,r){this.view.setInt32(t,r,!0)}setInt64(t,r){this.view.setBigInt64(t,r,!0)}setUint8(t,r){this.view.setUint8(t,r)}setUint16(t,r){this.view.setUint16(t,r,!0)}setUint32(t,r){this.view.setUint32(t,r,!0)}setUint64(t,r){this.view.setBigUint64(t,r,!0)}};vt=new WeakSet,fr=function(t){if(this.woffset+t>this._buffer.byteLength){let r=ib(this._buffer.byteLength,this.woffset+t),n=new Uint8Array(r);n.set(this._buffer);let s=this._buffer.byteOffset;this._buffer=n,this.view=new DataView(this._buffer.buffer,s)}return this.woffset+=t,this.woffset-t},Cn=function(t){if(this.roffset+t>this.woffset)throw new Error("Outside of the bounds of writen data.");return this.roffset+=t,this.roffset-t};var be;(function(e){e[e.RESERVED=0]="RESERVED",e[e.PUT_COMPONENT=1]="PUT_COMPONENT",e[e.DELETE_COMPONENT=2]="DELETE_COMPONENT",e[e.DELETE_ENTITY=3]="DELETE_ENTITY",e[e.APPEND_VALUE=4]="APPEND_VALUE",e[e.PUT_COMPONENT_NETWORK=5]="PUT_COMPONENT_NETWORK",e[e.DELETE_COMPONENT_NETWORK=6]="DELETE_COMPONENT_NETWORK",e[e.DELETE_ENTITY_NETWORK=7]="DELETE_ENTITY_NETWORK",e[e.MAX_MESSAGE_TYPE=8]="MAX_MESSAGE_TYPE"})(be||(be={}));var hn=8,vr;(function(e){e[e.StateUpdatedTimestamp=1]="StateUpdatedTimestamp",e[e.StateOutdatedTimestamp=2]="StateOutdatedTimestamp",e[e.NoChanges=3]="NoChanges",e[e.StateOutdatedData=4]="StateOutdatedData",e[e.StateUpdatedData=5]="StateUpdatedData",e[e.EntityWasDeleted=6]="EntityWasDeleted",e[e.EntityDeleted=7]="EntityDeleted"})(vr||(vr={}));var In;(function(e){function t(a){let f=a.remainingBytes();if(f<hn)return!1;let c=a.getUint32(a.currentReadOffset());return!(f<c)}e.validate=t;function r(a){return t(a)?{length:a.readUint32(),type:a.readUint32()}:null}e.readHeader=r;function n(a){if(!t(a))return null;let f=a.currentReadOffset();return{length:a.getUint32(f),type:a.getUint32(f+4)}}e.getHeader=n;function s(a){let f=n(a);return f?(a.incrementReadOffset(f.length),!0):!1}e.consumeMessage=s})(In||(In={}));var li;(function(e){e.MESSAGE_HEADER_LENGTH=12;function t(n,s,a,f){let c=hn+e.MESSAGE_HEADER_LENGTH,l=f.incrementWriteOffset(c);f.setUint32(l,c),f.setUint32(l+4,be.DELETE_COMPONENT),f.setUint32(l+8,n),f.setUint32(l+12,s),f.setUint32(l+16,a)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.DELETE_COMPONENT)throw new Error("DeleteComponentOperation tried to read another message type.");return{...s,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32()}}e.read=r})(li||(li={}));var ba;(function(e){e.MESSAGE_HEADER_LENGTH=16;function t(n,s,a,f,c){let l=c.incrementWriteOffset(hn+e.MESSAGE_HEADER_LENGTH);c.writeBuffer(f,!1);let y=c.currentWriteOffset()-l;c.setUint32(l,y),c.setUint32(l+4,be.APPEND_VALUE),c.setUint32(l+8,n),c.setUint32(l+12,a),c.setUint32(l+16,s);let g=y-e.MESSAGE_HEADER_LENGTH-hn;c.setUint32(l+20,g)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.APPEND_VALUE)throw new Error("AppendValueOperation tried to read another message type.");return{...s,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),data:n.readBuffer()}}e.read=r})(ba||(ba={}));var va;(function(e){e.MESSAGE_HEADER_LENGTH=4;function t(n,s){s.writeUint32(hn+4),s.writeUint32(be.DELETE_ENTITY),s.writeUint32(n)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.DELETE_ENTITY)throw new Error("DeleteEntity tried to read another message type.");return{...s,entityId:n.readUint32()}}e.read=r})(va||(va={}));var Lo;(function(e){e.MESSAGE_HEADER_LENGTH=16;function t(n,s,a,f,c){let l=c.incrementWriteOffset(hn+e.MESSAGE_HEADER_LENGTH);c.writeBuffer(f,!1);let y=c.currentWriteOffset()-l;c.setUint32(l,y),c.setUint32(l+4,be.PUT_COMPONENT),c.setUint32(l+8,n),c.setUint32(l+12,a),c.setUint32(l+16,s);let g=y-e.MESSAGE_HEADER_LENGTH-hn;c.setUint32(l+20,g)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.PUT_COMPONENT)throw new Error("PutComponentOperation tried to read another message type.");return{...s,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),data:n.readBuffer()}}e.read=r})(Lo||(Lo={}));var el;(function(e){e.MESSAGE_HEADER_LENGTH=20;function t(n,s,a,f,c,l){let y=l.incrementWriteOffset(hn+e.MESSAGE_HEADER_LENGTH);l.writeBuffer(c,!1);let g=l.currentWriteOffset()-y;l.setUint32(y,g),l.setUint32(y+4,be.PUT_COMPONENT_NETWORK),l.setUint32(y+8,n),l.setUint32(y+12,a),l.setUint32(y+16,s),l.setUint32(y+20,f);let M=g-e.MESSAGE_HEADER_LENGTH-hn;l.setUint32(y+24,M)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.PUT_COMPONENT_NETWORK)throw new Error("PutComponentNetworkOperation tried to read another message type.");return{...s,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),networkId:n.readUint32(),data:n.readBuffer()}}e.read=r})(el||(el={}));var tl;(function(e){e.MESSAGE_HEADER_LENGTH=16;function t(n,s,a,f,c){let l=hn+e.MESSAGE_HEADER_LENGTH,y=c.incrementWriteOffset(l);c.setUint32(y,l),c.setUint32(y+4,be.DELETE_COMPONENT_NETWORK),c.setUint32(y+8,n),c.setUint32(y+12,s),c.setUint32(y+16,a),c.setUint32(y+20,f)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.DELETE_COMPONENT_NETWORK)throw new Error("DeleteComponentOperation tried to read another message type.");return{...s,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),networkId:n.readUint32()}}e.read=r})(tl||(tl={}));var nl;(function(e){e.MESSAGE_HEADER_LENGTH=8;function t(n,s,a){a.writeUint32(hn+4),a.writeUint32(be.DELETE_ENTITY_NETWORK),a.writeUint32(n),a.writeUint32(s)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.DELETE_ENTITY_NETWORK)throw new Error("DeleteEntityNetwork tried to read another message type.");return{...s,entityId:n.readUint32(),networkId:n.readUint32()}}e.read=r})(nl||(nl={}));function fd(e){return[be.DELETE_COMPONENT_NETWORK,be.DELETE_ENTITY_NETWORK,be.PUT_COMPONENT_NETWORK].includes(e.type)}function pE(e,t,r,n){let s=r.currentWriteOffset();e.type===be.PUT_COMPONENT_NETWORK?Lo.write(t,e.timestamp,e.componentId,e.data,r):e.type===be.DELETE_COMPONENT_NETWORK?li.write(t,e.componentId,e.timestamp,r):e.type===be.DELETE_ENTITY_NETWORK&&va.write(t,r),n.writeBuffer(r.buffer().subarray(s,r.currentWriteOffset()),!1)}function hE(e,t,r,n){let s=r.currentWriteOffset();e.type===be.PUT_COMPONENT?el.write(t.entityId,e.timestamp,e.componentId,t.networkId,e.data,r):e.type===be.DELETE_COMPONENT?tl.write(t.entityId,e.componentId,e.timestamp,t.networkId,r):e.type===be.DELETE_ENTITY&&nl.write(t.entityId,t.networkId,r),n.writeBuffer(r.buffer().subarray(s,r.currentWriteOffset()),!1)}function dd(e,t,r){let n=t,s=new Jt;if(!n&&"data"in e&&(s.writeBuffer(e.data),n=Ks.deserialize(s),s.resetBuffer()),!n)throw new Error("Invalid parent transform");let a={...n,parent:r};return s.resetBuffer(),Ks.serialize(a,s),s.toBinary()}function yE(e,t){let r=[],n=Zs(e),s=xc(e),a=so(e),f=[],c=[];function l(P){return function(x){let k=new Jt(x),N;for(;N=In.getHeader(k);){let F=k.currentReadOffset(),ae;N.type===be.DELETE_COMPONENT?ae=li.read(k):N.type===be.DELETE_COMPONENT_NETWORK?ae=tl.read(k):N.type===be.PUT_COMPONENT?ae=Lo.read(k):N.type===be.PUT_COMPONENT_NETWORK?ae=el.read(k):N.type===be.DELETE_ENTITY?ae=va.read(k):N.type===be.DELETE_ENTITY_NETWORK?ae=nl.read(k):N.type===be.APPEND_VALUE?ae=ba.read(k):k.incrementReadOffset(N.length),ae&&f.push({...ae,transportId:P,messageBuffer:k.buffer().subarray(F,k.currentReadOffset())})}}}function y(P){return P.splice(0,P.length)}function g(P){if("networkId"in P){for(let[x,k]of e.getEntitiesWith(n))if(k.networkId===P.networkId&&k.entityId===P.entityId)return{entityId:x,network:k}}return{entityId:P.entityId}}async function M(){let P=y(f),S=[];for(let x of P){let{entityId:k,network:N}=g(x);if(fd(x)&&!N&&(k=e.addEntity(),N={entityId:x.entityId,networkId:x.networkId},n.createOrReplace(k,N)),x.type===be.DELETE_ENTITY||x.type===be.DELETE_ENTITY_NETWORK)S.push(k),c.push(x);else{let F=e.entityContainer.getEntityState(k);if(F===Xt.Removed)continue;F===Xt.Unknown&&e.entityContainer.updateUsedEntity(k);let ae=e.getComponentOrNull(x.componentId);if(ae){x.type===be.PUT_COMPONENT&&ae.componentId===a.componentId&&n.has(k)&&s.has(k)&&(x.data=dd(x));let[Ae,ne]=ae.updateFromCrdt({...x,entityId:k});Ae||(c.push(x),t&&t(k,x.type,ae,ne))}else c.push(x)}}for(let x of S){for(let k of e.componentsIter())k.entityDeleted(x,!0);e.entityContainer.updateRemovedEntity(x),t&&t(x,be.DELETE_ENTITY)}}async function w(P){let S=y(c),x=new Jt;for(let N of e.componentsIter())for(let F of N.getCrdtUpdates()){let ae=x.currentWriteOffset();if(r.some(Ae=>Ae.filter(F))&&(F.type===be.PUT_COMPONENT?Lo.write(F.entityId,F.timestamp,F.componentId,F.data,x):F.type===be.DELETE_COMPONENT?li.write(F.entityId,N.componentId,F.timestamp,x):F.type===be.APPEND_VALUE&&ba.write(F.entityId,F.timestamp,F.componentId,F.data,x),S.push({...F,messageBuffer:x.buffer().subarray(ae,x.currentWriteOffset())}),t)){let Ae=F.type===be.PUT_COMPONENT||F.type===be.APPEND_VALUE?N.get(F.entityId):void 0;t(F.entityId,F.type,N,Ae)}}for(let N of P){let F=x.currentWriteOffset();va.write(N,x),S.push({type:be.DELETE_ENTITY,entityId:N,messageBuffer:x.buffer().subarray(F,x.currentWriteOffset())}),t&&t(N,be.DELETE_ENTITY)}let k=new Jt;for(let N in r){let F=Number(N),ae=r[F],Ae=ae.type==="renderer",ne=ae.type==="network";k.resetBuffer();let j=new Jt;for(let oe of S){if(oe.transportId===F||!ae.filter(oe))continue;let{entityId:$}=g(oe),A="componentId"in oe&&oe.componentId===a.componentId&&a.has($)&&s.has($)&&n.has($);if(Ae&&oe.type===be.PUT_COMPONENT&&A){let O=g(s.get($)),H=dd(oe,a.get($),O.entityId),le=j.currentWriteOffset();Lo.write($,oe.timestamp,oe.componentId,H,j),k.writeBuffer(j.buffer().subarray(le,j.currentWriteOffset()),!1);continue}if(Ae&&fd(oe)){let O="data"in oe?oe.data:new Uint8Array;if(A){let H=g(s.get($));O=dd(oe,a.get($),H.entityId)}pE({...oe,data:O},$,j,k);continue}if(ne&&!fd(oe)){let O=n.getOrNull(oe.entityId);if(O){hE(oe,O,j,k);continue}}k.writeBuffer(oe.messageBuffer,!1)}let se=k.currentWriteOffset()?k.toBinary():new Uint8Array([]);await ae.send(se)}}function I(P){let S=r.push(P)-1;P.onmessage=l(S)}return{sendMessages:w,receiveMessages:M,addTransport:I}}var gE;(function(e){let t;(function(r){r[r.NETWORKED=0]="NETWORKED",r[r.RENDERER=1]="RENDERER"})(t=e.SynchronizedEntityType||(e.SynchronizedEntityType={}))})(gE||(gE={}));function vc(e,t){if(e===t)return 0;if(e===null&&t!==null)return-1;if(e!==null&&t===null)return 1;if(e instanceof Uint8Array&&t instanceof Uint8Array){let r=e.byteLength-t.byteLength;if(r!==0)return r>0?1:-1;let n;for(let s=0,a=e.byteLength;s<a;s++)if(n=e[s]-t[s],n!==0)return n>0?1:-1;return 0}if(typeof e=="string"){let r=e.length-t.length;return r!==0?r>0?1:-1:e.localeCompare(t)}return e>t?1:-1}function $p(e){return Object.freeze({...e})}function lb(e,t){let r=(t.get(e)||0)+1;return t.set(e,r),r}function cb(e,t,r,n){return function(a,f){for(let[c,l]of t)if(!(f&&!f(c)))if(n.has(c)){let y=n.get(c),g=new Jt;r.serialize(y,g),Lo.write(c,l,e,g.toBinary(),a)}else li.write(c,e,l,a)}}function ub(e,t,r,n){function s(a){let{entityId:f,timestamp:c}=a,l=t.get(f);if(l===void 0||l<c)return vr.StateUpdatedTimestamp;if(l>c)return vr.StateOutdatedTimestamp;if(a.type===be.DELETE_COMPONENT&&!n.has(f))return vr.NoChanges;let y=0;if(n.has(f)){let g=new Jt;r.serialize(n.get(f),g),y=vc(g.toBinary(),a.data||null)}else y=vc(null,a.data);return y===0?vr.NoChanges:y>0?vr.StateOutdatedData:vr.StateUpdatedData}return a=>{if(a.type!==be.PUT_COMPONENT&&a.type!==be.PUT_COMPONENT_NETWORK&&a.type!==be.DELETE_COMPONENT&&a.type!==be.DELETE_COMPONENT_NETWORK)return[null,n.get(a.entityId)];let f=s(a),c=a.entityId;switch(f){case vr.StateUpdatedData:case vr.StateUpdatedTimestamp:{if(t.set(c,a.timestamp),a.type===be.PUT_COMPONENT||a.type===be.PUT_COMPONENT_NETWORK){let l=new Jt(a.data);n.set(c,r.deserialize(l))}else n.delete(c);return[null,n.get(c)]}case vr.StateOutdatedTimestamp:case vr.StateOutdatedData:if(n.has(c)){let l=new Jt;return r.serialize(n.get(c),l),[{type:be.PUT_COMPONENT,componentId:e,data:l.toBinary(),entityId:c,timestamp:t.get(c)},n.get(c)]}else return[{type:be.DELETE_COMPONENT,componentId:e,entityId:c,timestamp:t.get(c)},void 0]}return[null,n.get(c)]}}function fb(e,t,r,n,s){return function*(){for(let a of r){let f=lb(a,t);if(s.has(a)){let c=new Jt;n.serialize(s.get(a),c),yield{type:be.PUT_COMPONENT,componentId:e,entityId:a,data:c.toBinary(),timestamp:f}}else yield{type:be.DELETE_COMPONENT,componentId:e,entityId:a,timestamp:f}}r.clear()}}function Kp(e,t,r){let n=new Map,s=new Set,a=new Map,f=new Map;return{get componentId(){return t},get componentName(){return e},get componentType(){return 0},schema:r,has(c){return n.has(c)},deleteFrom(c,l=!0){let y=n.get(c);return n.delete(c)&&l&&s.add(c),y||null},entityDeleted(c,l){n.delete(c)&&l&&s.add(c)},getOrNull(c){let l=n.get(c);return l?$p(l):null},get(c){let l=n.get(c);if(!l)throw new Error(`[getFrom] Component ${e} for entity #${c} not found`);return $p(l)},create(c,l){if(n.get(c))throw new Error(`[create] Component ${e} for ${c} already exists`);let g=l===void 0?r.create():r.extend?r.extend(l):l;return n.set(c,g),s.add(c),g},createOrReplace(c,l){let y=l===void 0?r.create():r.extend?r.extend(l):l;return n.set(c,y),s.add(c),y},getMutableOrNull(c){let l=n.get(c);return l?(s.add(c),l):null},getOrCreateMutable(c,l){let y=n.get(c);return y?(s.add(c),y):this.create(c,l)},getMutable(c){let l=this.getMutableOrNull(c);if(l===null)throw new Error(`[mutable] Component ${e} for ${c} not found`);return l},*iterator(){for(let[c,l]of n)yield[c,l]},*dirtyIterator(){for(let c of s)yield c},getCrdtUpdates:fb(t,a,s,r,n),updateFromCrdt:ub(t,a,r,n),dumpCrdtStateToBuffer:cb(t,a,r,n),onChange(c,l){let y=f.get(c)??[];y.push(l),f.set(c,y)},__onChangeCallbacks(c,l){let y=f.get(c);if(y)for(let g of y)g(l)}}}function EE(){let e=[];function t(){e.sort((s,a)=>a.priority-s.priority)}function r(s,a,f){let c=f??s.name;if(e.find(l=>l.fn===s))throw new Error(`System ${JSON.stringify(c)} already added to the engine`);e.push({fn:s,priority:a,name:c}),t()}function n(s){let a=-1;return typeof s=="string"?a=e.findIndex(f=>f.name===s):a=e.findIndex(f=>f.fn===s),a===-1?!1:(e.splice(a,1),t(),!0)}return{add:r,remove:n,getSystems(){return e}}}var Zp=SE(new Set);function TE(){throw new Error("The set is frozen")}function SE(e){return e.add=TE,e.clear=TE,e}function db(e,t){return e.timestamp>t.timestamp?1:-1}function xE(e,t,r,n){let s=new Map,a=new Set,f=[],c=new Map;function l(w){let I=w.raw.length;return I>1&&w.raw[I-1].timestamp<=w.raw[I-2].timestamp}function y(w){let I=s.get(w);if(I){for(l(I)&&I.raw.sort(db);I.raw.length>n.maxElements;)I.raw.shift();let P=SE(new Set(I?.raw.map(S=>S.value)));return I.frozenSet=P,P}else return Zp}function g(w,I){let P=s.get(w);P||(P={raw:[],frozenSet:Zp},s.set(w,P));let S=r.extend?r.extend(I):I,x=n.timestampFunction(S);return Jp&&Object.freeze(S),P.raw.push({value:S,timestamp:x}),{set:y(w),value:S}}return{get componentId(){return t},get componentName(){return e},get componentType(){return 1},schema:r,has(w){return s.has(w)},entityDeleted(w){s.delete(w)},get(w){let I=s.get(w);return I?I.frozenSet:Zp},addValue(w,I){let{set:P,value:S}=g(w,I);a.add(w);let x=new Jt;return r.serialize(S,x),f.push({componentId:t,data:x.toBinary(),entityId:w,timestamp:0,type:be.APPEND_VALUE}),P},*iterator(){for(let[w,I]of s)yield[w,I.frozenSet]},*dirtyIterator(){for(let w of a)yield w},getCrdtUpdates(){return a.clear(),f.splice(0,f.length)},updateFromCrdt(w){if(w.type===be.APPEND_VALUE){let I=new Jt(w.data),{value:P}=g(w.entityId,r.deserialize(I));return[null,P]}return[null,void 0]},dumpCrdtStateToBuffer:function(w,I){for(let[P,{raw:S}]of s)if(!(I&&!I(P)))for(let x of S){let k=new Jt;r.serialize(x.value,k),ba.write(P,0,t,k.toBinary(),w)}},onChange(w,I){let P=c.get(w)??[];P.push(I),c.set(w,P)},__onChangeCallbacks(w,I){let P=c.get(w);if(P)for(let S of P)S(I)}}}function*bE(e,t){if(t.has(e)){t.delete(e);for(let[r,n]of t)n.parent===e&&(yield*bE(r,t));yield e}}function mb(e,t,r){let n=new Map(e.getEntitiesWith(r));return bE(t,n)}function vE(e,t){let r=xc(e),n=Zs(e);e.removeEntity(t);let s=n.getOrNull(t);if(s)for(let[a,f]of e.getEntitiesWith(r))f.entityId===s.entityId&&f.networkId===s.networkId&&vE(e,a)}function wE(e,t){let r=so(e);if(Zs(e).has(t))return vE(e,t);for(let s of mb(e,t,r))e.removeEntity(s)}var kE=[0,1,2,4,5,6,7,8,9,10,11,12,13],pb=1<<20;function CE(e){let t=lc(e),r={previousFrameMaxTimestamp:0,currentFrameMaxTimestamp:0,buttonState:new Map,thisFrameCommands:[]};function n(S,x,k){let N=t.get(k);for(let F of Array.from(N).reverse())if(F.button===x&&F.state===S)return F}function*s(S,x){let k=t.get(x);for(let N of Array.from(k).reverse())N.button===S&&(yield N)}function a(){let S=r.currentFrameMaxTimestamp;r.previousFrameMaxTimestamp=S,r.thisFrameCommands.length&&(r.thisFrameCommands=[]);for(let[,x]of e.getEntitiesWith(t)){let k=Array.from(x);for(let N=k.length-1;N>=0;N--){let F=k[N];if(F.timestamp>S&&(S=F.timestamp),F.timestamp>r.previousFrameMaxTimestamp&&r.thisFrameCommands.push(F),F.state===0||F.state===1){let ae=r.buttonState.get(F.button);if(!ae||F.timestamp>ae.timestamp)r.buttonState.set(F.button,F);else break}}}r.currentFrameMaxTimestamp=S}e.addSystem(a,pb,"@dcl/ecs#inputSystem");function f(S){return S>r.previousFrameMaxTimestamp&&S<=r.currentFrameMaxTimestamp}function c(S,x){if(S!==3)return l(S,x);for(let k of kE){let N=l(k,x);if(N)return N}return null}function l(S,x){let k=null,N=null;for(let F of s(S,x))if(N){if(!k&&F.state===1){k=F;break}}else if(F.state===0){N=F;continue}return!N||!k?null:k.timestamp<N.timestamp&&f(N.timestamp)?{up:N,down:k}:null}function y(S,x,k){if(S!==3)return M(S,x,k);for(let N of kE){let F=M(N,x,k);if(F)return F}return null}function g(S,x,k){if(k)return y(S,x,k);for(let N of r.thisFrameCommands)if((N.button===S||S===3)&&N.state===x)return N;return null}function M(S,x,k){let N=n(x,S,k);return N&&f(N.timestamp)?N:null}function w(S,x){return c(S,x)!==null}function I(S,x,k){if(k){let N=n(x,S,k);return N&&f(N.timestamp)||!1}else{for(let N of r.thisFrameCommands)if((N.button===S||S===3)&&N.state===x)return!0;return!1}}function P(S){return r.buttonState.get(S)?.state===1}return{isPressed:P,getClick:c,getInputCommand:g,isClicked:w,isTriggered:I}}var IE;(function(e){e[e.LastWriteWinElementSet=0]="LastWriteWinElementSet",e[e.GrowOnlyValueSet=1]="GrowOnlyValueSet"})(IE||(IE={}));function yb(e){let t=e?.entityContainer??mE(),r=new Map,n=EE(),s=!1;function a(j,se=1e5,oe){n.add(j,se,oe)}function f(j){return n.remove(j)}function c(){return t.generateEntity()}function l(j){for(let[,se]of r)se.componentName!=="core-schema::Network-Entity"&&se.entityDeleted(j,!0);return t.removeEntity(j)}function y(j){return wE({removeEntity:l,defineComponentFromSchema:M,getEntitiesWith:x,defineComponent:I},j)}function g(j,se){if(s)throw new Error("Engine is already sealed. No components can be added at this stage");let oe=Do(j);if(r.get(oe))throw new Error(`Component number ${oe} was already registered.`);if(se.componentName!==j)throw new Error(`Component name doesn't match componentDefinition.componentName ${j} != ${se.componentName}`);if(se.componentId!==oe)throw new Error(`Component number doesn't match componentDefinition.componentId ${oe} != ${se.componentId}`);return r.set(oe,se),se}function M(j,se){let oe=Do(j),$=r.get(oe);if($)return $;if(s)throw new Error("Engine is already sealed. No components can be added at this stage");let A=Kp(j,oe,se);return r.set(oe,A),A}function w(j,se,oe){let $=Do(j),A=r.get($);if(A)return A;if(s)throw new Error("Engine is already sealed. No components can be added at this stage");let O=xE(j,$,se,oe);return r.set($,O),O}function I(j,se,oe){let $=Do(j),A=r.get($);if(A)return A;if(s)throw new Error("Engine is already sealed. No components can be added at this stage");let O=B.Map(se,oe),H=Kp(j,$,O),le={...H,create(he,Re){return H.create(he,Re)},createOrReplace(he,Re){return H.createOrReplace(he,Re)}};return r.set($,le),le}function P(j){let se=typeof j=="number"?j:Do(j),oe=r.get(se);if(!oe)throw new Error(`Component ${j} not found. You need to declare the components at the beginnig of the engine declaration`);return oe}function S(j){let se=typeof j=="number"?j:Do(j);return r.get(se)??null}function*x(...j){for(let[se,...oe]of N(...j))yield[se,...oe.map($=>$.get(se))]}function k(j){let se=ud({defineComponent:I});for(let[oe,$]of x(se))if($.value===j)return oe;return null}function*N(...j){let[se,...oe]=j;for(let[$]of se.iterator()){let A=!0;for(let O of oe)if(!O.has($)){A=!1;break}A&&(yield[$,...j])}}function F(){return n.getSystems()}function ae(){return r.values()}function Ae(j){if(s)throw new Error("Engine is already sealed. No components can be removed at this stage");let se=typeof j=="number"?j:Do(j);r.delete(se)}so({defineComponentFromSchema:M});function ne(){s||(s=!0)}return{addEntity:c,removeEntity:l,removeEntityWithChildren:y,addSystem:a,getSystems:F,removeSystem:f,defineComponent:I,defineComponentFromSchema:M,defineValueSetComponentFromSchema:w,getEntitiesWith:x,getComponent:P,getComponentOrNull:S,getEntityOrNullByName:k,removeComponentDefinition:Ae,registerComponentDefinition:g,entityContainer:t,componentsIter:ae,seal:ne}}function AE(e){let t=yb(e),n=yE(t,(a,f,c,l)=>{if(f===be.DELETE_ENTITY)for(let y of t.componentsIter())y?.__onChangeCallbacks(a,void 0);else c?.__onChangeCallbacks(a,l);return e?.onChangeFunction(a,f,c,l)});async function s(a){await n.receiveMessages();for(let c of t.getSystems()){let l=c.fn(a);bc(l,`A system (${c.name||"anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`)}let f=t.entityContainer.releaseRemovedEntities();await n.sendMessages(f)}return{_id:Date.now(),addEntity:t.addEntity,removeEntity:t.removeEntity,removeEntityWithChildren:t.removeEntityWithChildren,addSystem:t.addSystem,removeSystem:t.removeSystem,defineComponent:t.defineComponent,defineComponentFromSchema:t.defineComponentFromSchema,defineValueSetComponentFromSchema:t.defineValueSetComponentFromSchema,registerComponentDefinition:t.registerComponentDefinition,getEntitiesWith:t.getEntitiesWith,getComponent:t.getComponent,getComponentOrNull:t.getComponentOrNull,removeComponentDefinition:t.removeComponentDefinition,componentsIter:t.componentsIter,seal:t.seal,getEntityOrNullByName:t.getEntityOrNullByName,update:s,RootEntity:0,PlayerEntity:1,CameraEntity:2,getEntityState:t.entityContainer.getEntityState,addTransport:n.addTransport,entityContainer:t.entityContainer}}function gb(e){let t=Array.from(e);return e.length=0,t}function RE(e){let t=[];async function r(s){try{return await s()}catch(a){console.error(a)}}function n(){for(let s of gb(t))r(s).catch(console.error)}return e.addSystem(n),function(s){t.push(s)}}function PE(e,t){let r=Sa(e),n;(function(I){I[I.Click=0]="Click",I[I.Down=1]="Down",I[I.Up=2]="Up"})(n||(n={}));let s=(I={})=>({button:3,...I}),a=new Map;function f(I){return a.get(I)||a.set(I,new Map).get(I)}function c(I,P,S){(S.hoverText||S.showFeedback)&&(r.getMutableOrNull(I)||r.create(I)).pointerEvents.push({eventType:P,eventInfo:{button:S.button,showFeedback:S.showFeedback,hoverText:S.hoverText,maxDistance:S.maxDistance}})}function l(I,P,S){let x=r.getMutableOrNull(I);x&&(x.pointerEvents=x.pointerEvents.filter(k=>!(k.eventInfo?.button===S&&k.eventType===P)))}function y(I){return I===n.Up?0:1}function g(I,P){let S=f(I),x=S.get(P);x?.opts.hoverText&&l(I,y(P),x.opts.button),S.delete(P)}e.addSystem(function(){for(let[P,S]of a){if(e.getEntityState(P)===Xt.Removed){a.delete(P);continue}for(let[x,{cb:k,opts:N}]of S){if(x===n.Click){let F=t.getClick(N.button,P);F&&bc(k(F.up),"Click event returned a thenable. Only synchronous functions are allowed")}if(x===n.Down||x===n.Up){let F=t.getInputCommand(N.button,y(x),P);F&&bc(k(F),"Event handler returned a thenable. Only synchronous functions are allowed")}}}});let M=(...I)=>{let[P,S,x]=I;if(typeof P=="number")return M({entity:P,opts:x??{}},S);let{entity:k,opts:N}=P,F=s(N);g(k,n.Down),f(k).set(n.Down,{cb:S,opts:F}),c(k,1,F)},w=(...I)=>{let[P,S,x]=I;if(typeof P=="number")return w({entity:P,opts:x??{}},S);let{entity:k,opts:N}=P,F=s(N);g(k,n.Up),f(k).set(n.Up,{cb:S,opts:F}),c(k,0,F)};return{removeOnClick(I){g(I,n.Click)},removeOnPointerDown(I){g(I,n.Down)},removeOnPointerUp(I){g(I,n.Up)},onClick(I,P){let{entity:S}=I,x=s(I.opts);g(S,n.Click),f(S).set(n.Click,{cb:P,opts:x}),c(S,1,x)},onPointerDown:M,onPointerUp:w}}function NE(e){let t=Gf(e),r=Hf(e),n=new Map,s={maxDistance:16,queryType:0,continuous:!1,originOffset:{x:0,y:0,z:0},collisionMask:2},a=(x={})=>({...s,...x,directionRawValue:{$case:"localDirection",localDirection:x.direction||{x:0,y:0,z:1}}}),f=(x={})=>({...s,...x,directionRawValue:{$case:"globalDirection",globalDirection:x.direction||{x:0,y:0,z:1}}}),c=(x={})=>({...s,...x,directionRawValue:{$case:"globalTarget",globalTarget:x.target||{x:0,y:0,z:0}}}),l=(x={})=>({...s,...x,directionRawValue:{$case:"targetEntity",targetEntity:x.targetEntity||0}}),y=[];function g(x,k,N){let F=()=>{let ae=t.createOrReplace(x);ae.maxDistance=k.maxDistance,ae.originOffset=k.originOffset,ae.collisionMask=k.collisionMask,ae.direction=k.directionRawValue,ae.continuous=k.continuous,ae.queryType=k.queryType,n.set(x,{callback:N})};y.push(F)}function M(x){t.deleteFrom(x),r.deleteFrom(x),n.delete(x)}e.addSystem(function(){for(let k of y)k();y.length=0;for(let[k,N]of n){let F=t.getOrNull(k);if(e.getEntityState(k)===Xt.Removed||!F){n.delete(k);continue}let ae=r.getOrNull(k);ae&&(N.callback(ae),F.continuous||M(k))}});let w=(...x)=>{let[k,N,F]=x;if(typeof k=="number")return w({entity:k,opts:F??{}},N);let{entity:ae,opts:Ae}=k;g(ae,a(Ae),N)},I=(...x)=>{let[k,N,F]=x;if(typeof k=="number")return I({entity:k,opts:F??{}},N);let{entity:ae,opts:Ae}=k;g(ae,f(Ae),N)},P=(...x)=>{let[k,N,F]=x;if(typeof k=="number")return P({entity:k,opts:F??{}},N);let{entity:ae,opts:Ae}=k;g(ae,c(Ae),N)},S=(...x)=>{let[k,N,F]=x;if(typeof k=="number")return S({entity:k,opts:F??{}},N);let{entity:ae,opts:Ae}=k;g(ae,l(Ae),N)};return{removeRaycasterEntity(x){M(x)},registerLocalDirectionRaycast:w,registerGlobalDirectionRaycast:I,registerGlobalTargetRaycast:P,registerTargetEntityRaycast:S,registerRaycast(x,k){t.getOrNull(x)||t.create(x,{...k,direction:k.directionRawValue});let F=r.getOrNull(x);return F&&(k.continuous||(r.deleteFrom(x),t.deleteFrom(x))),F},localDirectionOptions:a,globalDirectionOptions:f,globalTargetOptions:c,targetEntitytOptions:l}}function ME(e){let t=cc(e),r=Xf(e),n=new Map;function s(c,l){n.set(c,{callback:l})}function a(c){n.delete(c)}function f(c){return n.has(c)}return e.addSystem(function(){for(let[l,y]of n){let g=t.getOrNull(l);if(e.getEntityState(l)===Xt.Removed||!g){a(l);continue}let M=r.get(l),I=Array.from(M.values())[M.size-1];I===void 0||y.lastVideoState!==void 0&&y.lastVideoState===I.state||(y.callback(I),n.set(l,{callback:y.callback,lastVideoState:I.state}))}}),{removeVideoEventsEntity(c){a(c)},registerVideoEventsEntity(c,l){s(c,l)},hasVideoEventsEntity(c){return f(c)},getVideoState(c){let l=r.get(c);return Array.from(l.values())[l.size-1]}}}var Xp=new Map;function _E(e){if(Xp.has(e._id))return Xp.get(e._id);let t=qp(e),r=qf(e),n=jf(e),s=new Map;function a(g){let M=r.getOrNull(g),w=t.getOrNull(g),I=s.get(g);return!M||!w?!1:!!((f(g)||M.state===1)&&!I?.completed&&(I?.frames??0)>2)}function f(g){let M=t.getOrNull(g),w=s.get(g)?.tween;if(M&&!w||!M&&w)return!0;let I=new Jt;return t.schema.serialize(M,I),vc(I.toBinary(),w)}let c=[];e.addSystem(()=>{for(let g of c)g();c.length=0;for(let[g,M]of e.getEntitiesWith(t)){if(f(g)){let I=new Jt;t.schema.serialize(M,I),s.set(g,{tween:I.toBinary(),frames:0,completed:!1,changed:!0});continue}let w=s.get(g);if(w.frames+=1,w.changed=!1,a(g)){w.frames=0,w.completed=!0;let I=n.getOrNull(g);if(!I)continue;let{sequence:P}=I;if(P&&P.length){let[S,...x]=P;t.createOrReplace(g,S);let k=n.getMutable(g);k.sequence=x,I.loop===0&&k.sequence.push(M)}else I.loop===1?t.createOrReplace(g,l(M)):I.loop===0&&(t.deleteFrom(g),s.delete(g),c.push(()=>{t.createOrReplace(g,M)}))}}},Number.NEGATIVE_INFINITY);function l(g){if(g.mode?.$case==="move"&&g.mode.move)return{...g,mode:{...g.mode,move:{start:g.mode.move.end,end:g.mode.move.start}}};if(g.mode?.$case==="rotate"&&g.mode.rotate)return{...g,mode:{...g.mode,rotate:{start:g.mode.rotate.end,end:g.mode.rotate.start}}};if(g.mode?.$case==="scale"&&g.mode.scale)return{...g,mode:{...g.mode,scale:{start:g.mode.scale.end,end:g.mode.scale.start}}};throw new Error("Invalid tween")}let y={tweenCompleted:a};return Xp.set(e._id,y),y}function OE(e){let t=Sa(e),r=cd(e),n=ac(e),s=Ys(e),a=new Set,f=0;function c(l){if(f+=l,!(f<=10)){f=0;for(let[y]of e.getEntitiesWith(t)){if(a.has(y)||n.has(y)||s.has(y))continue;let g=r.getOrNull(y);g&&(g.collisionMask===void 0||g.collisionMask&1)||(a.add(y),console.log(`\u26A0\uFE0F Missing MeshCollider component on entity ${y}. Add a MeshCollider to the entity so it can be clickeable by the player.
See https://docs.decentraland.org/creator/development-guide/sdk7/colliders/#pointer-blocking`))}}}e.removeSystem(c),e.addSystem(c)}var Q=AE(),zi=CE(Q),e0=PE(Q,zi),t0=NE(Q),BE=ME(Q),AM=_E(Q);OE(Q);var md=RE(Q);var zE=oc(Q),DE=Np(Q),UE=ic(Q);var LE=Mp(Q),n0=_p(Q);var co=ac(Q);var pd=sc(Q),r0=Sa(Q),FE=lc(Q),VE=Dp(Q);var Di=Up(Q),Fo=Lp(Q);var WE=Vp(Q);var wa=cc(Q),Je=Wp(Q);var _n;(function(e){e[e.CT_FIRST_PERSON=0]="CT_FIRST_PERSON",e[e.CT_THIRD_PERSON=1]="CT_THIRD_PERSON",e[e.CT_CINEMATIC=2]="CT_CINEMATIC"})(_n||(_n={}));var pe;(function(e){e[e.IA_POINTER=0]="IA_POINTER",e[e.IA_PRIMARY=1]="IA_PRIMARY",e[e.IA_SECONDARY=2]="IA_SECONDARY",e[e.IA_ANY=3]="IA_ANY",e[e.IA_FORWARD=4]="IA_FORWARD",e[e.IA_BACKWARD=5]="IA_BACKWARD",e[e.IA_RIGHT=6]="IA_RIGHT",e[e.IA_LEFT=7]="IA_LEFT",e[e.IA_JUMP=8]="IA_JUMP",e[e.IA_WALK=9]="IA_WALK",e[e.IA_ACTION_3=10]="IA_ACTION_3",e[e.IA_ACTION_4=11]="IA_ACTION_4",e[e.IA_ACTION_5=12]="IA_ACTION_5",e[e.IA_ACTION_6=13]="IA_ACTION_6"})(pe||(pe={}));var jr;(function(e){e[e.PET_UP=0]="PET_UP",e[e.PET_DOWN=1]="PET_DOWN",e[e.PET_HOVER_ENTER=2]="PET_HOVER_ENTER",e[e.PET_HOVER_LEAVE=3]="PET_HOVER_LEAVE"})(jr||(jr={}));var GE;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.NOT_FOUND=2]="NOT_FOUND",e[e.FINISHED_WITH_ERROR=3]="FINISHED_WITH_ERROR",e[e.FINISHED=4]="FINISHED"})(GE||(GE={}));var dr;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(dr||(dr={}));var HE;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(HE||(HE={}));function o0(e){let t=e.getComponentOrNull("composite::root");return t||e.defineComponent("composite::root",{src:B.String,entities:B.Array(B.Map({src:B.Entity,dest:B.Entity}))})}var Eb="/";function Tb(e,t=!1){let r="",n=0,s=-1,a=0,f;for(let c=0;c<=e.length;++c){if(c<e.length)f=e.charCodeAt(c);else{if(f===47)break;f=47}if(f===47){if(!(s===c-1||a===1))if(s!==c-1&&a===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){let l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),s=c,a=0;continue}}else if(r.length===2||r.length===1){r="",n=0,s=c,a=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(s+1,c):r=e.slice(s+1,c),n=c-s-1;s=c,a=0}else f===46&&a!==-1?++a:a=-1}return r}function hd(...e){let t="",r=!1,n;for(let s=e.length-1;s>=-1&&!r;s--){let a;s>=0?a=e[s]:(n===void 0&&(n=Eb),a=n),a.length!==0&&(t=a+"/"+t,r=a.charCodeAt(0)===47)}return t=Tb(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."}function jE(e){if(e.length===0)return".";let t=e.charCodeAt(0),r=t===47,n=-1,s=!0;for(let a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!s){n=a;break}}else s=!1;return n===-1?r?"/":".":r&&n===1?"//":e.slice(0,n)}function yd(e,t){return(e.startsWith(".")?hd(t,e):hd(e)).substring(1)}var rl;(function(e){e[e.EMM_NONE=0]="EMM_NONE",e[e.EMM_NEXT_AVAILABLE=1]="EMM_NEXT_AVAILABLE",e[e.EMM_DIRECT_MAPPING=2]="EMM_DIRECT_MAPPING"})(rl||(rl={}));function qE(e,t){return t.data?.$case==="json"?t.data.json:e.schema.deserialize(new Jt(t.data?.binary))}function xb(e,t){let r=e.getComponentOrNull(t.name);if(r)return r;if(t.name.startsWith("core::")){if(t.name in Gp)return Gp[t.name](e);throw new Error(`The core component ${t.name} was not found.`)}else{if(t.jsonSchema)return e.defineComponentFromSchema(t.name,B.fromJson(t.jsonSchema));throw new Error(`${t.name} is not defined and there is no schema to define it.`)}}function bb(e,t,r,{entityMapping:n}){let s=r.get(t);if(s)return s;if(n?.type===rl.EMM_DIRECT_MAPPING){let f=n.getCompositeEntity(t);return r.set(t,f),f}let a=n?.type===rl.EMM_NEXT_AVAILABLE?n.getNextAvailableEntity():e.addEntity();if(a===null)throw new Error("There is no more entities to allocate");return r.set(t,a),a}function i0(e,t,r,n){let{rootEntity:s,alreadyRequestedSrc:a,entityMapping:f}=n,c=a||new Set,l=jE(hd(t.src)),y=Do("core::Transform"),g=o0(e),M=new Map,w=x=>bb(e,x,M,n),I=s??w(0);s&&M.set(0,s);let P=t.composite.components.find(x=>x.name===g.componentName);if(P)for(let[x,k]of P.data){let N=qE(g,k),F=yd(N.src,l),ae=r.getCompositeOrNull(F),Ae=w(x);if(ae){if(c.has(ae.src)||ae.src===t.src)throw new Error(`Composite ${t.src} has a recursive instanciation while try to instance ${ae.src}. Previous instances: ${c.toString()}`);i0(e,ae,r,{rootEntity:Ae,alreadyRequestedSrc:new Set(c).add(ae.src),entityMapping:f?.type===rl.EMM_NEXT_AVAILABLE?f:void 0})}}for(let x of t.composite.components){if(x.name===g.componentName)continue;let k=xb(e,x);for(let[N,F]of x.data){let ae=qE(k,F),Ae=w(N),ne=k.create(Ae,ae);if(k.componentId===y){let j=ne;j.parent?j.parent=w(j.parent):j.parent=w(0)}else B.mutateNestedValues(k.schema.jsonSchema,ne,(j,se)=>se.serializationType==="entity"?{changed:!0,value:w(j)}:{changed:!1})}}let S=g.getMutableOrNull(I)||g.create(I);for(let[x,k]of M)S.entities.push({src:x,dest:k});return S.src=t.src,I}var kr=_e(Le());var wr=_e(Le());var QE;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(QE||(QE={}));function vb(e){switch(e){case 0:case"NULL_VALUE":return 0;default:throw new KE.Error("Unrecognized enum value "+e+" for enum NullValue")}}function wb(e){switch(e){case 0:return"NULL_VALUE";default:throw new KE.Error("Unrecognized enum value "+e+" for enum NullValue")}}function YE(){return{fields:new Map}}var ol;(function(e){function t(c,l=wr.default.Writer.create()){return c.fields.forEach((y,g)=>{y!==void 0&&gd.encode({key:g,value:y},l.uint32(10).fork()).ldelim()}),l}e.encode=t;function r(c,l){let y=c instanceof wr.default.Reader?c:wr.default.Reader.create(c),g=l===void 0?y.len:y.pos+l,M=YE();for(;y.pos<g;){let w=y.uint32();switch(w>>>3){case 1:if(w!==10)break;let I=gd.decode(y,y.uint32());I.value!==void 0&&M.fields.set(I.key,I.value);continue}if((w&7)===4||w===0)break;y.skipType(w&7)}return M}e.decode=r;function n(c){return{fields:Cb(c.fields)?Object.entries(c.fields).reduce((l,[y,g])=>(l.set(y,g),l),new Map):new Map}}e.fromJSON=n;function s(c){let l={};return l.fields={},c.fields&&c.fields.forEach((y,g)=>{l.fields[g]=y}),l}e.toJSON=s;function a(c){let l=YE();return c!==void 0&&Object.keys(c).forEach(y=>{l.fields.set(y,c[y])}),l}e.wrap=a;function f(c){let l={};return[...c.fields.keys()].forEach(y=>{l[y]=c.fields.get(y)}),l}e.unwrap=f})(ol||(ol={}));function kb(){return{key:"",value:void 0}}var gd;(function(e){function t(a,f=wr.default.Writer.create()){return a.key!==""&&f.uint32(10).string(a.key),a.value!==void 0&&yn.encode(yn.wrap(a.value),f.uint32(18).fork()).ldelim(),f}e.encode=t;function r(a,f){let c=a instanceof wr.default.Reader?a:wr.default.Reader.create(a),l=f===void 0?c.len:c.pos+f,y=kb();for(;c.pos<l;){let g=c.uint32();switch(g>>>3){case 1:if(g!==10)break;y.key=c.string();continue;case 2:if(g!==18)break;y.value=yn.unwrap(yn.decode(c,c.uint32()));continue}if((g&7)===4||g===0)break;c.skipType(g&7)}return y}e.decode=r;function n(a){return{key:Ui(a.key)?String(a.key):"",value:Ui(a?.value)?a.value:void 0}}e.fromJSON=n;function s(a){let f={};return a.key!==void 0&&(f.key=a.key),a.value!==void 0&&(f.value=a.value),f}e.toJSON=s})(gd||(gd={}));function JE(){return{kind:void 0}}var yn;(function(e){function t(c,l=wr.default.Writer.create()){switch(c.kind?.$case){case"nullValue":l.uint32(8).int32(c.kind.nullValue);break;case"numberValue":l.uint32(17).double(c.kind.numberValue);break;case"stringValue":l.uint32(26).string(c.kind.stringValue);break;case"boolValue":l.uint32(32).bool(c.kind.boolValue);break;case"structValue":ol.encode(ol.wrap(c.kind.structValue),l.uint32(42).fork()).ldelim();break;case"listValue":il.encode(il.wrap(c.kind.listValue),l.uint32(50).fork()).ldelim();break}return l}e.encode=t;function r(c,l){let y=c instanceof wr.default.Reader?c:wr.default.Reader.create(c),g=l===void 0?y.len:y.pos+l,M=JE();for(;y.pos<g;){let w=y.uint32();switch(w>>>3){case 1:if(w!==8)break;M.kind={$case:"nullValue",nullValue:y.int32()};continue;case 2:if(w!==17)break;M.kind={$case:"numberValue",numberValue:y.double()};continue;case 3:if(w!==26)break;M.kind={$case:"stringValue",stringValue:y.string()};continue;case 4:if(w!==32)break;M.kind={$case:"boolValue",boolValue:y.bool()};continue;case 5:if(w!==42)break;M.kind={$case:"structValue",structValue:ol.unwrap(ol.decode(y,y.uint32()))};continue;case 6:if(w!==50)break;M.kind={$case:"listValue",listValue:il.unwrap(il.decode(y,y.uint32()))};continue}if((w&7)===4||w===0)break;y.skipType(w&7)}return M}e.decode=r;function n(c){return{kind:Ui(c.nullValue)?{$case:"nullValue",nullValue:vb(c.nullValue)}:Ui(c.numberValue)?{$case:"numberValue",numberValue:Number(c.numberValue)}:Ui(c.stringValue)?{$case:"stringValue",stringValue:String(c.stringValue)}:Ui(c.boolValue)?{$case:"boolValue",boolValue:!!c.boolValue}:Ui(c.structValue)?{$case:"structValue",structValue:c.structValue}:Ui(c.listValue)?{$case:"listValue",listValue:[...c.listValue]}:void 0}}e.fromJSON=n;function s(c){let l={};return c.kind?.$case==="nullValue"&&(l.nullValue=c.kind?.nullValue!==void 0?wb(c.kind?.nullValue):void 0),c.kind?.$case==="numberValue"&&(l.numberValue=c.kind?.numberValue),c.kind?.$case==="stringValue"&&(l.stringValue=c.kind?.stringValue),c.kind?.$case==="boolValue"&&(l.boolValue=c.kind?.boolValue),c.kind?.$case==="structValue"&&(l.structValue=c.kind?.structValue),c.kind?.$case==="listValue"&&(l.listValue=c.kind?.listValue),l}e.toJSON=s;function a(c){let l=JE();if(c===null)l.kind={$case:"nullValue",nullValue:0};else if(typeof c=="boolean")l.kind={$case:"boolValue",boolValue:c};else if(typeof c=="number")l.kind={$case:"numberValue",numberValue:c};else if(typeof c=="string")l.kind={$case:"stringValue",stringValue:c};else if(Array.isArray(c))l.kind={$case:"listValue",listValue:c};else if(typeof c=="object")l.kind={$case:"structValue",structValue:c};else if(typeof c<"u")throw new Error("Unsupported any value type: "+typeof c);return l}e.wrap=a;function f(c){return c.kind?.$case==="nullValue"?null:c.kind?.$case==="numberValue"?c.kind?.numberValue:c.kind?.$case==="stringValue"?c.kind?.stringValue:c.kind?.$case==="boolValue"?c.kind?.boolValue:c.kind?.$case==="structValue"?c.kind?.structValue:c.kind?.$case==="listValue"?c.kind?.listValue:void 0}e.unwrap=f})(yn||(yn={}));function $E(){return{values:[]}}var il;(function(e){function t(c,l=wr.default.Writer.create()){for(let y of c.values)yn.encode(yn.wrap(y),l.uint32(10).fork()).ldelim();return l}e.encode=t;function r(c,l){let y=c instanceof wr.default.Reader?c:wr.default.Reader.create(c),g=l===void 0?y.len:y.pos+l,M=$E();for(;y.pos<g;){let w=y.uint32();switch(w>>>3){case 1:if(w!==10)break;M.values.push(yn.unwrap(yn.decode(y,y.uint32())));continue}if((w&7)===4||w===0)break;y.skipType(w&7)}return M}e.decode=r;function n(c){return{values:Array.isArray(c?.values)?[...c.values]:[]}}e.fromJSON=n;function s(c){let l={};return c.values?l.values=c.values.map(y=>y):l.values=[],l}e.toJSON=s;function a(c){let l=$E();return l.values=c??[],l}e.wrap=a;function f(c){return c?.hasOwnProperty("values")&&Array.isArray(c.values)?c.values:c}e.unwrap=f})(il||(il={}));var KE=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function Cb(e){return typeof e=="object"&&e!==null}function Ui(e){return e!=null}function Ib(){return{data:void 0}}var Li;(function(e){function t(a,f=kr.default.Writer.create()){switch(a.data?.$case){case"json":yn.encode(yn.wrap(a.data.json),f.uint32(10).fork()).ldelim();break;case"binary":f.uint32(18).bytes(a.data.binary);break}return f}e.encode=t;function r(a,f){let c=a instanceof kr.default.Reader?a:kr.default.Reader.create(a),l=f===void 0?c.len:c.pos+f,y=Ib();for(;c.pos<l;){let g=c.uint32();switch(g>>>3){case 1:if(g!==10)break;y.data={$case:"json",json:yn.unwrap(yn.decode(c,c.uint32()))};continue;case 2:if(g!==18)break;y.data={$case:"binary",binary:c.bytes()};continue}if((g&7)===4||g===0)break;c.skipType(g&7)}return y}e.decode=r;function n(a){return{data:Ca(a.json)?{$case:"json",json:a.json}:Ca(a.binary)?{$case:"binary",binary:Nb(a.binary)}:void 0}}e.fromJSON=n;function s(a){let f={};return a.data?.$case==="json"&&(f.json=a.data?.json),a.data?.$case==="binary"&&(f.binary=a.data?.binary!==void 0?Mb(a.data?.binary):void 0),f}e.toJSON=s})(Li||(Li={}));function Ab(){return{name:"",jsonSchema:void 0,data:new Map}}var al;(function(e){function t(a,f=kr.default.Writer.create()){return a.name!==""&&f.uint32(10).string(a.name),a.jsonSchema!==void 0&&yn.encode(yn.wrap(a.jsonSchema),f.uint32(18).fork()).ldelim(),a.data.forEach((c,l)=>{Ed.encode({key:l,value:c},f.uint32(26).fork()).ldelim()}),f}e.encode=t;function r(a,f){let c=a instanceof kr.default.Reader?a:kr.default.Reader.create(a),l=f===void 0?c.len:c.pos+f,y=Ab();for(;c.pos<l;){let g=c.uint32();switch(g>>>3){case 1:if(g!==10)break;y.name=c.string();continue;case 2:if(g!==18)break;y.jsonSchema=yn.unwrap(yn.decode(c,c.uint32()));continue;case 3:if(g!==26)break;let M=Ed.decode(c,c.uint32());M.value!==void 0&&y.data.set(M.key,M.value);continue}if((g&7)===4||g===0)break;c.skipType(g&7)}return y}e.decode=r;function n(a){return{name:Ca(a.name)?String(a.name):"",jsonSchema:Ca(a?.jsonSchema)?a.jsonSchema:void 0,data:_b(a.data)?Object.entries(a.data).reduce((f,[c,l])=>(f.set(Number(c),Li.fromJSON(l)),f),new Map):new Map}}e.fromJSON=n;function s(a){let f={};return a.name!==void 0&&(f.name=a.name),a.jsonSchema!==void 0&&(f.jsonSchema=a.jsonSchema),f.data={},a.data&&a.data.forEach((c,l)=>{f.data[l]=Li.toJSON(c)}),f}e.toJSON=s})(al||(al={}));function Rb(){return{key:0,value:void 0}}var Ed;(function(e){function t(a,f=kr.default.Writer.create()){return a.key!==0&&f.uint32(8).int32(a.key),a.value!==void 0&&Li.encode(a.value,f.uint32(18).fork()).ldelim(),f}e.encode=t;function r(a,f){let c=a instanceof kr.default.Reader?a:kr.default.Reader.create(a),l=f===void 0?c.len:c.pos+f,y=Rb();for(;c.pos<l;){let g=c.uint32();switch(g>>>3){case 1:if(g!==8)break;y.key=c.int32();continue;case 2:if(g!==18)break;y.value=Li.decode(c,c.uint32());continue}if((g&7)===4||g===0)break;c.skipType(g&7)}return y}e.decode=r;function n(a){return{key:Ca(a.key)?Number(a.key):0,value:Ca(a.value)?Li.fromJSON(a.value):void 0}}e.fromJSON=n;function s(a){let f={};return a.key!==void 0&&(f.key=Math.round(a.key)),a.value!==void 0&&(f.value=a.value?Li.toJSON(a.value):void 0),f}e.toJSON=s})(Ed||(Ed={}));function Pb(){return{version:0,components:[]}}var ka;(function(e){function t(a,f=kr.default.Writer.create()){a.version!==0&&f.uint32(8).int32(a.version);for(let c of a.components)al.encode(c,f.uint32(18).fork()).ldelim();return f}e.encode=t;function r(a,f){let c=a instanceof kr.default.Reader?a:kr.default.Reader.create(a),l=f===void 0?c.len:c.pos+f,y=Pb();for(;c.pos<l;){let g=c.uint32();switch(g>>>3){case 1:if(g!==8)break;y.version=c.int32();continue;case 2:if(g!==18)break;y.components.push(al.decode(c,c.uint32()));continue}if((g&7)===4||g===0)break;c.skipType(g&7)}return y}e.decode=r;function n(a){return{version:Ca(a.version)?Number(a.version):0,components:Array.isArray(a?.components)?a.components.map(f=>al.fromJSON(f)):[]}}e.fromJSON=n;function s(a){let f={};return a.version!==void 0&&(f.version=Math.round(a.version)),a.components?f.components=a.components.map(c=>c?al.toJSON(c):void 0):f.components=[],f}e.toJSON=s})(ka||(ka={}));var sl=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function Nb(e){if(sl.Buffer)return Uint8Array.from(sl.Buffer.from(e,"base64"));{let t=sl.atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}}function Mb(e){if(sl.Buffer)return sl.Buffer.from(e).toString("base64");{let t=[];return e.forEach(r=>{t.push(String.fromCharCode(r))}),sl.btoa(t.join(""))}}function _b(e){return typeof e=="object"&&e!==null}function Ca(e){return e!=null}var Fi;(function(e){function t(c){return ka.fromJSON(c)}e.fromJson=t;function r(c){return ka.decode(c)}e.fromBinary=r;function n(c){return ka.toJSON(c)}e.toJson=n;function s(c){return ka.encode(c).finish()}e.toBinary=s;function a(c,l,y,g={}){i0(c,l,y,g)}e.instance=a;function f(c,l="/"){return yd(c,l)}e.resolveAndNormalizePath=f})(Fi||(Fi={}));var De=so(Q),ft=aE(Q),Vo=sE(Q);var Fe=iE(Q),Cr=lE(Q),uo=cd(Q),S_=ud(Q);var ie=class{static createPosition(t){let r=Q.addEntity();return De.create(r,t),r}static createGltfShape(t,r,n){let s=Q.addEntity();return De.create(s,t),co.create(s,{src:r,invisibleMeshesCollisionMask:qn.CL_PHYSICS|qn.CL_POINTER,visibleMeshesCollisionMask:qn.CL_POINTER|qn.CL_CUSTOM1}),n&&ft.create(s,{states:n}),s}static createBox(t,r=!0){let n=Q.addEntity();return De.create(n,t),Cr.setBox(n),r&&uo.setBox(n),n}static createColliderBox(t){let r=Q.addEntity();return De.create(r,t),uo.setBox(r),r}static createCylinder(t,r,n,s=!0){let a=Q.addEntity();return De.create(a,t),Cr.setCylinder(a,r,n),s&&uo.setCylinder(a,r,n),a}static createPlane(t,r,n=!0){let s=Q.addEntity();return De.create(s,t),Cr.setPlane(s),r&&Fe.setBasicMaterial(s,{texture:Fe.Texture.Common({src:r})}),n&&uo.setPlane(s),s}static createText(t,r){let n=Q.addEntity();return De.create(n,t),Fo.create(n,r),n}},Td=Q.defineComponent("visibilityController",{visible:B.Boolean,originalScale:B.Vector3}),Ot=class e{static attach(t,r=!0){let n=De.getMutableOrNull(t);n&&(Td.createOrReplace(t,{visible:r,originalScale:n.scale}),e.apply(n,n.scale,r))}static set(t,r){let n=Td.getMutableOrNull(t);if(!n)return;n.visible=r;let s=De.getMutableOrNull(t);s&&e.apply(s,n.originalScale,n.visible)}static get(t){let r=Td.getOrNull(t);return r?r.visible:null}static toggle(t){let r=Td.getMutableOrNull(t);if(!r)return;r.visible=!r.visible;let n=De.getMutableOrNull(t);n&&e.apply(n,r.originalScale,r.visible)}static apply(t,r,n){n?t.scale=r:t.scale=p.Zero()}};var a0=Q.defineComponent("multiPointerEvent",{events:B.Array(B.Map({type:B.Number,button:B.Number,hoverText:B.String,maxDistance:B.Number,showFeedback:B.Boolean,passToGlobal:B.Boolean},{button:pe.IA_POINTER,type:jr.PET_DOWN,hoverText:"Interact",maxDistance:100,showFeedback:!0,passToGlobal:!1}))}),Lt=class Lt{static addGlobalEvent(t){let r=`${t.type??jr.PET_DOWN},${t.button??pe.IA_POINTER}`;r in Lt.globalEventMap?Lt.globalEventMap[r].push(t):Lt.globalEventMap[r]=[t]}static setEvents(t,r){if(r.length<=0){Lt.removeEvent(t);return}a0.createOrReplace(t,{events:r.map(n=>this.toComponentParam(n))}),r0.createOrReplace(t,{pointerEvents:r.map(n=>this.toPointerEventParam(n))}),this.entityEventMap[t]={};for(let n of r)n.eventCallback&&(this.entityEventMap[t][`${n.type??jr.PET_DOWN},${n.button??pe.IA_POINTER}`]=n.eventCallback)}static removeEvent(t){t in this.entityEventMap&&(delete this.entityEventMap[t],a0.deleteFrom(t),r0.deleteFrom(t))}static toComponentParam(t){return{type:t.type??jr.PET_DOWN,button:t.button??pe.IA_POINTER,hoverText:t.hoverText??"Interact",maxDistance:t.maxDistance??100,showFeedback:t.showFeedback??!0,passToGlobal:t.passToGlobal??!1}}static toPointerEventParam(t){return{eventType:t.type??jr.PET_DOWN,eventInfo:{button:t.button,hoverText:t.hoverText,maxDistance:t.maxDistance,showFeedback:t.showFeedback}}}static system(t){let r=VE.getOrNull(Q.CameraEntity);r&&r.isPointerLocked!=Lt.prevLocked&&(Lt.prevLocked=r.isPointerLocked,Lt.prevLocked&&(Lt.ignoreFrameCount=0,Lt.ignoreNextClick=!0));let n=Q.getEntitiesWith(a0),s=[];for(let[a,f]of n)for(let c of f.events){let l=zi.getInputCommand(c.button,c.type,a);l&&l.hit&&l?.hit?.length<c.maxDistance&&(Lt.ignoreNextClick&&c.button==pe.IA_POINTER?Lt.ignoreNextClick=!1:(this.entityEventMap[a][`${c.type},${c.button}`](l),c.passToGlobal||s.push(`${c.type},${c.button}`)))}for(let a in Lt.globalEventMap){let[f,c]=a.split(",").map(y=>parseInt(y)),l=zi.getInputCommand(c,f);if(l)for(let y of Lt.globalEventMap[a])!y.alwaysPass&&s.includes(a)||y.eventCallback(l)}Lt.ignoreNextClick&&(Lt.ignoreFrameCount+=1),Lt.ignoreNextClick&&Lt.ignoreFrameCount>=5&&(Lt.ignoreNextClick=!1)}};Lt.entityEventMap={},Lt.globalEventMap={},Lt.prevLocked=!1,Lt.ignoreNextClick=!1,Lt.ignoreFrameCount=0;var wt=Lt;Q.addSystem(e=>wt.system(e));var mt=class{static create(t,r,n=[]){let s=ie.createGltfShape(t,r);return wt.setEvents(s,n),s}};var wc=class wc{static create(t){let r=++wc.timerIdCounter;return t.left=t.initial,this.timerMap[r]=t,r}static setTimeout(t,r){return this.create({callback:t,initial:r,type:0})}static clearTimeout(t){delete this.timerMap[t]}static setInterval(t,r){return this.create({callback:t,initial:r,type:1})}static clearInterval(t){delete this.timerMap[t]}static setFrameTimeout(t,r){return this.create({callback:t,initial:r,type:2})}static callNextFrame(t){return this.setFrameTimeout(t,1)}static clearFrameTimeout(t){delete this.timerMap[t]}static setFrameInterval(t,r){return this.create({callback:t,initial:r,type:3})}static clearFrameInterval(t){delete this.timerMap[t]}static delay(t){return new Promise((r,n)=>{this.setTimeout(()=>r(),t)})}static waitNextFrame(){return new Promise((t,r)=>{this.callNextFrame(()=>t())})}static system(t){for(let r in this.timerMap){let n=this.timerMap[r];n.left-=n.type==3||n.type==2?1:t,n.left<0&&(n.callback(),n.type==1||n.type==3?n.left=n.initial:delete this.timerMap[r])}}};wc.timerIdCounter=0,wc.timerMap={};var gt=wc;Q.addSystem(e=>gt.system(e));var tT=require("~system/Scene");var qe={socketAddress:"wss://virtualclass-4.emg.edu.vn:6868/ws",multilandManagementAddress:"https://virtualclass-4.emg.edu.vn:9000",enableRefreshTimer:!1,enablePassword:!0,EMGSync:!0,themeFeature:0,buildingTemplate:"3",buildingLetter:"A",version:"jenkin_jenkins-DeployContentToDCL_SDK7-104"};var nT=require("~system/UserIdentity");var Vi=class{constructor(t,r){this._unregisterOnNextCall=!1;this.handler=t,this.unregisterHandler=r}get unregisterOnNextCall(){return this._unregisterOnNextCall}set unregisterOnNextCall(t){this._unregisterOnNextCall=t,this._unregisterOnNextCall&&this.unregister()}call(t){this.handler(t)}unregister(){this.unregisterHandler&&this.unregisterHandler(this)}};var f2=_e(d0()),Ir;(function(e){e.createElement=f2.default.createElement})(Ir||(Ir={}));var Q2=_e(I2());var $b={"nine-slices":0,center:1,stretch:2};function R2(e){return{textureMode:e?$b[e]:1}}function P2(e){if(e.texture)return{tex:{$case:"texture",texture:A2(e.texture)}};if(e.avatarTexture)return{tex:{$case:"avatarTexture",avatarTexture:A2(e.avatarTexture)}}}function A2(e){return{...e,wrapMode:e.wrapMode?Kb[e.wrapMode]:void 0,filterMode:e.filterMode?Zb[e.filterMode]:void 0}}var Kb={repeat:0,clamp:1,mirror:2},Zb={point:0,"bi-linear":1,"tri-linear":2};function Ad(e){if(!e||!Object.keys(e).length)return;let t=P2(e);return{...e,...R2(e.textureMode),uvs:e.uvs??[],texture:t}}function N2(e){return`${e[0].toUpperCase()}${e.slice(1,e.length)}`}function Xb(e){return typeof e=="string"&&e.endsWith("%")}function e3(e){return typeof e=="string"&&e.endsWith("px")}function t3(e){return typeof e=="string"&&e.endsWith("vw")}function n3(e){return typeof e=="string"&&e.endsWith("vh")}function M2(e){function t(r,n){return Number(n.slice(0,n.indexOf(r)))}return e==null?[void 0,0]:e==="auto"?[0,3]:typeof e=="number"||typeof e=="string"&&!isNaN(Number(e))?[Number(e),1]:Xb(e)?[t("%",e),2]:e3(e)?[t("px",e),1]:t3(e)||n3(e)?[Pd(e),1]:[void 0,0]}function ci(e={},t){if(typeof e=="object"){let c={};for(let l in e){let y=l,g=`${t}${N2(y)}`,M=`${t}${N2(y)}Unit`,[w,I]=M2(e[y]);w!==void 0&&(c[M]=I,c[g]=w)}return c}if(typeof e=="number")return ci({top:e,left:e,right:e,bottom:e},t);let r=e.split(" ").filter(c=>c!=="");if(r.length===1){let[c]=r;return ci({top:c,left:c,right:c,bottom:c},t)}if(r.length===2){let[c,l]=r;return ci({top:c,left:l,right:l,bottom:c},t)}if(r.length===3){let[c,l,y]=r;return ci({top:c,left:l,right:l,bottom:y},t)}let[n,s,a,f]=r;return ci({top:n,right:s,bottom:a,left:f},t)}function Aa(e,t){let r=`${t}Unit`,[n,s]=M2(e);return n===void 0?{}:{[t]:n,[r]:s}}function _2(e){return{display:e?r3[e]:0}}var r3={flex:0,none:1};function O2(e){return{justifyContent:e?o3[e]:0}}var o3={center:1,"flex-end":2,"flex-start":0,"space-around":4,"space-between":3,"space-evenly":5};function Rd(e,t){let r=i3[t];return{[e]:r}}var i3={auto:0,baseline:5,center:2,"flex-end":3,"flex-start":1,stretch:4,"space-between":6,"space-around":7};function B2(e){return{flexDirection:e?a3[e]:0}}var a3={row:0,column:1,"row-reverse":3,"column-reverse":2};function z2(e){return{flexWrap:s3[e]}}var s3={wrap:1,nowrap:0,"wrap-reverse":2};function D2(e){return{overflow:e?l3[e]:0}}var l3={visible:0,scroll:2,hidden:1};function U2(e){return{positionType:e?c3[e]:0}}var c3={relative:0,absolute:1};function L2(e){return{pointerFilter:e?u3[e]:0}}var u3={none:0,block:1};var b0=0,f3={overflow:0,display:0,justifyContent:0,alignSelf:0,flexDirection:0,positionType:0,parent:b0,rightOf:0,flexBasis:0,width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,flexGrow:0,marginBottom:0,marginBottomUnit:0,marginLeft:0,marginLeftUnit:0,marginRight:0,marginRightUnit:0,marginTop:0,marginTopUnit:0,maxHeightUnit:0,maxWidthUnit:0,minHeightUnit:0,minWidthUnit:0,paddingBottom:0,paddingBottomUnit:0,paddingLeft:0,paddingLeftUnit:0,paddingTopUnit:0,paddingRight:0,paddingRightUnit:0,paddingTop:0,positionBottom:0,positionBottomUnit:0,positionLeft:0,positionLeftUnit:0,positionRight:0,positionRightUnit:0,positionTop:0,positionTopUnit:0,flexBasisUnit:0,widthUnit:3,heightUnit:0,pointerFilter:0};function Nd(e={}){let{height:t,minHeight:r,maxHeight:n,width:s,minWidth:a,maxWidth:f,alignItems:c,alignContent:l,flexWrap:y,...g}=e;return{...f3,...g,...ci(e.position,"position"),...ci(e.margin,"margin"),...ci(e.padding,"padding"),...Aa(e.height,"height"),...Aa(e.minHeight,"minHeight"),...Aa(e.maxHeight,"maxHeight"),...Aa(e.width,"width"),...Aa(e.minWidth,"minWidth"),...Aa(e.maxWidth,"maxWidth"),..._2(e.display),...Rd("alignSelf",e.alignSelf??"auto"),...O2(e.justifyContent),...B2(e.flexDirection),...D2(e.overflow),...L2(e.pointerFilter),...U2(e.positionType),...l&&Rd("alignContent",l),...c&&Rd("alignItems",c),...y&&z2(y)}}function Ra(e){let{uiTransform:t,uiBackground:r,...n}=e,s=Nd(t),a=r?{uiBackground:Ad(r)}:void 0;return{...n,uiTransform:s,...a}}function d3(e){if(typeof e=="number")return[e,"vw"];let t=Number(e.slice(0,-2));return e.endsWith("vh")?[t,"vh"]:e.endsWith("vw")?[t,"vw"]:[NaN,"vw"]}function F2(e,t,r){return t/100*(e/r)}function V2(e=Q){let r=e.getComponent(WE.componentId).getOrNull(e.RootEntity);if(!r)return;let{width:n,height:s,devicePixelRatio:a}=r;return{width:n,height:s,ratio:a}}function Pd(e,t=V2()){let[r,n]=d3(e);if(!t)return r;let{height:s,width:a,ratio:f}=t;return n==="vh"?F2(r,s,f):F2(r,a,f)}var m3={"sans-serif":0,serif:1,monospace:2};function ui(e){if(e)return{font:m3[e]}}var p3={"top-left":0,"top-center":1,"top-right":2,"middle-left":3,"middle-center":4,"middle-right":5,"bottom-left":6,"bottom-center":7,"bottom-right":8};function fi(e){if(e)return{textAlign:p3[e]}}function di(e){if(e)return typeof e=="string"?{fontSize:Pd(e)}:{fontSize:e}}var h3={wrap:0,nowrap:1};function cl(e){return e?{textWrap:h3[e]}:{textWrap:0}}var y3={onMouseDown:void 0,onMouseUp:void 0},g3=Object.keys(y3),Rc=e=>g3.includes(e);function E3(e){let{textAlign:t,font:r,fontSize:n,...s}=e;return{disabled:!1,placeholder:"",...s,...fi(t),...ui(r),...di(n)}}function Pa(e){let{uiTransform:t,uiBackground:r,onMouseDown:n,onMouseUp:s,...a}=e,f=E3(a),c=Ra({uiTransform:t,uiBackground:r,onMouseDown:n,onMouseUp:s});return Ir.createElement("entity",{...c,uiInput:f})}function gn(e){let{uiTransform:t,uiBackground:r,onMouseDown:n,onMouseUp:s,...a}=e,f=Ra({uiTransform:t,uiBackground:r,onMouseDown:n,onMouseUp:s}),{font:c,textAlign:l,fontSize:y,textWrap:g,...M}=a,w={...M,...ui(c),...fi(l),...di(y),...cl(g)};return Ir.createElement("entity",{...f,uiText:w})}function S3(e){return e.variant==="secondary"?{uiBackground:{color:{r:1,g:1,b:1,a:1}},uiText:{color:{r:.98,g:.17,b:.33,a:1}}}:{uiBackground:{color:{r:.98,g:.17,b:.33,a:1}},uiText:{color:{r:1,g:1,b:1,a:1}}}}function Ar(e){let{uiTransform:t,uiBackground:r,onMouseDown:n,onMouseUp:s,...a}=e,f=S3(e),c=Ad({...f.uiBackground,...r}),{font:l,textAlign:y,fontSize:g,textWrap:M,...w}=a,I={...f.uiText,...w,...ui(l),...fi(y),...di(g),...cl(M)},P=Nd({height:36,...t});return e.disabled&&(I.color&&(I.color.a/=2),c&&c.color&&(c.color.a/=2)),Ir.createElement("entity",{onMouseDown:e.disabled?void 0:n,onMouseUp:e.disabled?void 0:s,uiTransform:P,uiText:I,uiBackground:c})}function Be(e){let t=e.uiText&&{uiText:{...e.uiText,...ui(e.uiText.font),...fi(e.uiText.textAlign),...di(e.uiText.fontSize),...cl(e.uiText.textWrap)}};return Ir.createElement("entity",{...Ra(e),...t})}function W2(e,t,r){if(t&&!r)return{type:"delete",component:e};if(!r)return;if(!t&&r)return{type:"add",props:r,component:e};if(Rc(e)&&!v0(t,r))return{type:"put",component:e,props:r};let n={};for(let s in t){let a=s;v0(t[a],r[a])||(n[a]=r[a])}if(Object.keys(n).length)return{type:"put",props:n,component:e}}var x3={uiText:void 0,uiBackground:void 0,uiTransform:void 0,onMouseDown:void 0,onMouseUp:void 0,uiInput:void 0,uiDropdown:void 0},G2=Object.keys(x3);function v0(e,t){if(!e&&!t)return!0;if(!e||!t)return e===t;if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object")return e===t;if(Array.isArray(e)&&Array.isArray(t)&&e.length!==t.length||Object.keys(e).length!==Object.keys(t).length)return!1;if(JSON.stringify(e)===JSON.stringify(t))return!0;for(let r in e)if(!v0(e[r],t[r]))return!1;return!0}var H2=e=>!!e,j2={supportsMutation:!0,supportsPersistence:!1,noTimeout:-1,isPrimaryRenderer:!0,supportsHydration:!1,insertInContainerBefore(e,t,r){},detachDeletedInstance(e){},hideInstance(e){},hideTextInstance(e){},unhideInstance(e,t){},unhideTextInstance(e,t){},clearContainer(e){},getCurrentEventPriority(){return 0},getInstanceFromNode(e){return null},beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},prepareScopeUpdate(){},getInstanceFromScope(){return null},commitMount(e,t,r,n){},resetTextContent(e){},commitTextUpdate(e,t,r){},prepareForCommit(e){return null},resetAfterCommit(e){},preparePortalMount(e){},createTextInstance(e,t,r,n){return{}},scheduleTimeout(e,t){},cancelTimeout(e){},shouldSetTextContent(e,t){return!1},getRootHostContext(e){return null},getChildHostContext(e,t,r){return null},getPublicInstance(e){return e},finalizeInitialChildren(e,t,r,n,s){return!1}};function q2(e){return{onMouseDown:1,onMouseUp:0}[e]}function Y2(e,t){let r=new Set,n=new Map,s=new Map,a=Ys(e),f=Zf(e),c=Qf(e),l=$f(e),y=Kf(e),g=Yf(e),M=Jf(e),w={uiTransform:a.componentId,uiText:f.componentId,uiBackground:c.componentId,uiInput:l.componentId,uiDropdown:g.componentId};function I($,A){let O=s.get($)?.get(A);O&&O()}function P($,A){k($,A,"uiTransform")}function S($,A){if(A.type==="delete"||!A.props){s.get($.entity)?.delete(q2(A.component)),A.component==="onMouseDown"?t.removeOnPointerDown($.entity):A.component==="onMouseUp"&&t.removeOnPointerUp($.entity);return}if(A.props){let O=q2(A.component),H=s.get($.entity)||s.set($.entity,new Map).get($.entity),le=H.get(O);if(H.set(O,A.props),le)return;(A.component==="onMouseDown"?t.onPointerDown:t.onPointerUp)($.entity,()=>I($.entity,O),{button:0,showFeedback:!0})}}function x($,A){let O=w[A];e.getComponent(O).deleteFrom($.entity)}function k($,A={},O){let H=w[O],le="onChange"in A,he="onSubmit"in A,Re=n.get($.entity)?.get(H),$e=le?A.onChange:Re?.onChangeCallback,Ke=he?A.onSubmit:Re?.onSubmitCallback;if((le||he)&&(Ae($.entity,H,{onChangeCallback:$e,onSubmitCallback:Ke}),delete A.onChange,delete A.onSubmit),!Object.keys(A).length)return;let ot=e.getComponent(H),it=ot.getMutableOrNull($.entity)||ot.create($.entity);for(let pt in A){let ut=pt;it[ut]=A[ut]}}function N($){n.delete($.entity),e.removeEntity($.entity);for(let A of $._child)N(A)}function F($,A){if(!A||!Object.keys($).length)return;if($._child.find(H=>H.entity===A.entity)){let H=$._child.find(le=>le.rightOf===A.entity);H&&(H.rightOf=A.rightOf,$._child=$._child.filter(le=>le.entity!==A.entity),$._child.push(A),P(H,{rightOf:H.rightOf})),A.rightOf=$._child[$._child.length-2]?.entity}else A.rightOf=$._child[$._child.length-1]?.entity,$._child.push(A);A.parent=$.entity,P(A,{rightOf:A.rightOf,parent:$.entity})}function ae($,A){let O=$._child.findIndex(le=>le.entity===A.entity),H=$._child[O+1];H&&(H.rightOf=A.rightOf,P(H,{rightOf:A.rightOf})),$._child.splice(O,1),N(A)}function Ae($,A,O){let H=n.get($)||n.set($,new Map).get($),le=H.get(A),he=O?.onChangeCallback,Re=O?.onSubmitCallback,$e=O?.value??le?.value,Ke=O?.isSubmit??le?.isSubmit;H.set(A,{onChangeCallback:he,onSubmitCallback:Re,value:$e,isSubmit:Ke})}let ne={...j2,createInstance($,A){let O=e.addEntity();r.add(O);let H={entity:O,_child:[],parent:b0,rightOf:void 0};for(let le in A){let he=le;he==="children"||he==="key"||(Rc(he)?S(H,{type:"add",props:A[he],component:he}):k(H,A[he],he))}return H},appendChild:F,appendChildToContainer:F,appendInitialChild:F,removeChild:ae,prepareUpdate($,A,O,H){return G2.map(le=>W2(le,O[le],H[le])).filter(H2)},commitUpdate($,A,O,H,le,he){for(let Re of A){if(Rc(Re.component)){S($,Re);continue}Re.type==="delete"?x($,Re.component):Re.props&&k($,Re.props,Re.component)}},insertBefore($,A,O){let H=$._child.findIndex(le=>le.entity===O.entity);$._child=[...$._child.slice(0,H),A,...$._child.slice(H)],A.rightOf=O.rightOf,O.rightOf=A.entity,A.parent=$.entity,P(A,{rightOf:A.rightOf,parent:A.parent}),P(O,{rightOf:O.rightOf})},removeChildFromContainer($,A){N(A)}},j=(0,Q2.default)(ne),se=j.createContainer({},0,null,!1,null,"",function(){},null);function oe($,A){for(let[O,H]of e.getEntitiesWith(A)){let le=n.get(O)?.get($),he=!!H.isSubmit;le?.onChangeCallback&&H.value!==le.value&&le.onChangeCallback(H.value),le?.onSubmitCallback&&he&&!le.isSubmit&&le.onSubmitCallback(H.value),Ae(O,$,{onChangeCallback:le?.onChangeCallback,onSubmitCallback:le?.onSubmitCallback,value:H.value,isSubmit:he})}}return{update:function($){return n.size&&(oe(l.componentId,y),oe(g.componentId,M)),j.updateContainer($,se,null)},getEntities:()=>Array.from(r)}}function J2(e,t){let r=Y2(e,t),n;function s(){n&&r.update(n())}return e.addSystem(s,1e5,"@dcl/react-ecs"),{destroy(){e.removeSystem(s);for(let a of r.getEntities())e.removeEntity(a)},setUiRenderer(a){n=a}}}var $2=J2(Q,e0),K2=Ir;var Ee=K2;var En=class{static middleCenter(t,r=0,n=0){return t.positionType="absolute",t.position={top:"50%",left:"50%"},t.margin={left:-(t.width??0)/2+r,top:-(t.height??0)/2+n},t}static bottomCenter(t,r=0,n=0){return t.positionType="absolute",t.position={bottom:0,left:"50%"},t.margin={left:-(t.width??0)/2+r,bottom:n},t}static slidefullscreen(t,r=0,n=0){return t.positionType="absolute",t.position={bottom:20,left:"10.2%"},t.margin={left:-(t.width??0)/2+r,bottom:n},t}static bottomRight(t,r=0,n=0){return t.positionType="absolute",t.position={bottom:0,right:0},t.margin={right:r,bottom:n},t}static middleLeft(t,r=0,n=0){return t.positionType="absolute",t.position={top:"25%",left:0},t.margin={left:10,top:0},t}},Et=class{static slicedImage(t){return{textureMode:"nine-slices",texture:{src:t},textureSlices:{top:.2,bottom:.2,left:.2,right:.2}}}static image(t,r="stretch"){return{textureMode:r,texture:{src:t}}}},Tn=class{constructor(t,r=!0,n=""){this.visible=!0;this.children=[];this.key="";this.visible=r,this.props=t,this.key=n}setVisible(t){this.visible=t,this.renderProps()}renderProps(){return this.props.uiTransform&&(this.props.uiTransform.display=this.visible?"flex":"none"),this.key&&(this.props.key=this.key),this.props}render(t){return Ee.createElement(Be,{...this.renderProps(),key:this.key+t},this.visible&&this.children.filter(r=>r.visible).map((r,n)=>r.render(`${t}-${n}`)))}},Md=class Md{static render(){return Md.components.filter(t=>t.visible).map((t,r)=>t.render(""+r))}};Md.components=[];var Pc=Md;var Sn=class{constructor(){this.events={}}on(t,r){let n=new Vi(r,s=>this.unregisterEvent(s));return t in this.events?this.events[t].push(n):this.events[t]=[n],n}off(t){delete this.events[t]}emit(t,r=null){t in this.events&&this.events[t].forEach(n=>n.call(r))}unregisterEvent(t){for(let r in this.events)for(let n=this.events[r].length-1;n>=0;n--)if(this.events[r][n]==t){this.events[r].splice(n,1),this.events[r].length<=0&&delete this.events[r];return}}};var _d=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:800,height:600,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r,"objectlist");this.events=new Sn;this.slideModels={};this.currentSlide=0}getModelDisplayName(r){return r in this.slideModels?this.slideModels[r].display??this.slideModels[r].modelName:null}getCurrentModel(){return this.currentSlide in this.slideModels?this.slideModels[this.currentSlide]:null}onSync(){this.events.emit("update",{currentModel:this.getCurrentModel()})}renderItem(r){return Ee.createElement(Be,{key:`modelitem-${r}`,uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"flex-start",width:"100%",margin:{bottom:5},padding:2},uiBackground:{color:this.currentSlide==r?xe.create(1,.5,.1,.4):void 0}},Ee.createElement(Ar,{value:this.currentSlide==r?"Showing":"Show",variant:this.currentSlide==r?"secondary":"primary",uiTransform:{width:100,height:50},fontSize:20,onMouseDown:()=>{console.log(`clicked play on #${r}`),this.events.emit("setSlide",{slideNum:r})}}),Ee.createElement(gn,{value:`#${this.slideModels[r].slide?.toString()}`,color:xe.Blue(),fontSize:28,textAlign:"middle-right",uiTransform:{width:100}}),Ee.createElement(gn,{value:this.getModelDisplayName(r)??"<No name>",color:xe.Black(),fontSize:28,textAlign:"middle-left",uiTransform:{margin:{left:10}}}))}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(gn,{value:"Object list",color:xe.Blue(),fontSize:28,textAlign:"top-center"}),Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%"}},Object.values(this.slideModels).filter(n=>n.slide&&n.slide>0).map(n=>this.renderItem(n.slide))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{this.setVisible(!1)}}))}};var Od=(f=>(f.PAUSE="pause-animate",f.ROTATE="self-rotate",f.MOVEOUT="move-out",f.ZOOMIN="zoom-in",f.FOCUS="focus",f.RESET="reset-animate",f))(Od||{});var Bd=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:720,height:400,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r,"videolist");this.videos=[]}getCurrentItem(){let r=this.videos.find(n=>n.isActive);return r||(this.videos.length>0?this.videos[0]:null)}renderItem(r,n,s,a){return Ee.createElement(Be,{key:"videoitem-"+a,uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"flex-start",width:"100%",margin:{bottom:4},padding:4},uiBackground:{color:s?xe.create(1,.5,.1,.4):void 0}},Ee.createElement(Ar,{value:s?"Playing":"Play",variant:s?"secondary":"primary",uiTransform:{width:100,height:50},fontSize:20,onMouseDown:()=>{console.log(`clicked play on #${a} ${r}`),this.videos.forEach((f,c)=>{f.isActive=c==a}),Ne.emit("screen.setVideo",{mode:2,url:n,title:r}),He.emit("status.set",[{name:"slideVideoMode",value:2},{name:"videoUrl",value:JSON.stringify(this.videos)},{name:"videoPosition",value:0}])}}),Ee.createElement(gn,{value:r,color:xe.Black(),fontSize:28,textAlign:"middle-left",uiTransform:{margin:{left:10}}}))}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(gn,{value:"Video list",color:xe.Blue(),fontSize:28,textAlign:"top-center"}),Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%"}},this.videos.map((n,s)=>this.renderItem(n.name,n.url,n.isActive,s))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{console.log("Dialog close"),this.setVisible(!1)}}))}};var zd=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:400,height:200,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r,"slidejump");this.events=new Sn;this.maxSlide=20;this.currentSlide=1;this.errorText=""}show(r,n){this.currentSlide=r,this.maxSlide=n,this.inputValue=this.currentSlide.toString(),this.setVisible(!0)}validateInput(){return isNaN(Number(this.inputValue))||Number(this.inputValue)>this.maxSlide||Number(this.inputValue)<1?(this.errorText=`Must input number from 1 to ${this.maxSlide}`,!1):!0}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(gn,{value:"Jump to Slide",color:xe.Blue(),fontSize:28,textAlign:"top-center"}),Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%"}},Ee.createElement(Pa,{onChange:n=>{this.inputValue=n},fontSize:17,placeholder:"Input Slide num",placeholderColor:xe.Gray(),value:this.currentSlide.toString(),textAlign:"middle-center",onSubmit:()=>{this.validateInput()&&(this.events.emit("setSlide",{slideNum:Number(this.inputValue)}),this.setVisible(!1))}}),Ee.createElement(gn,{value:this.errorText,color:xe.Red(),fontSize:20,uiTransform:{margin:{bottom:10},height:30,width:"100%"}}),Ee.createElement(Be,{uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"center",width:"100%",margin:{top:10}}},Ee.createElement(Ar,{value:"Submit",variant:"primary",uiTransform:{width:100,height:50},fontSize:20,onMouseDown:()=>{this.validateInput()&&(this.events.emit("setSlide",{slideNum:Number(this.inputValue)}),this.setVisible(!1))}}))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{console.log("Dialog close"),this.setVisible(!1)}}))}};var Z2=require("~system/UserIdentity"),lt={id:"",username:"Guest",role:0,isAuth:!1};md(async()=>{let e=await(0,Z2.getUserData)({});lt.id=e.data?.userId??"",lt.username=e.data?.displayName??"Guest"});var Dd=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:400,height:200,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r,"passworddialog");this.errorText=""}async checkPassword(r){this.errorText="",He.isConnected||await He.connect();let n=await He.emitAndWait("user.auth",{username:lt.username,password:r},"user.auth.info");n?(lt.role=n.role,lt.isAuth=!0,console.log("Auth success: ",lt),this.setVisible(!1),He.password=r,this.onCorrectPassword?.(),He.onPlayerInsideScene()):(this.errorText="Wrong password",He.onPlayerOutsideScene())}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(gn,{value:"Enter password",color:xe.Blue(),fontSize:28,textAlign:"top-center"}),Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"center",width:"100%",margin:{top:12}}},Ee.createElement(Pa,{onChange:n=>{this.inputValue=n},fontSize:17,placeholder:"Enter password",placeholderColor:xe.Gray(),textAlign:"middle-center",onSubmit:()=>{this.onSubmit?.(this.inputValue??""),this.checkPassword(this.inputValue??"")}}),Ee.createElement(gn,{value:this.errorText,color:xe.Red(),fontSize:20,textAlign:"middle-center",uiTransform:{margin:{bottom:8},height:25,width:"100%"}}),Ee.createElement(Be,{uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"center",width:"100%"}},Ee.createElement(Ar,{value:"Submit",variant:"primary",uiTransform:{width:100,height:50},fontSize:20,onMouseDown:()=>{this.onSubmit?.(this.inputValue??""),this.checkPassword(this.inputValue??"")}}))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{console.log("Dialog close"),this.setVisible(!1)}}))}};var Ud=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:350,height:150,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r);this.errorText="Server connection error"}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%",margin:{top:30}}},Ee.createElement(gn,{value:this.errorText,color:xe.Red(),fontSize:26,uiTransform:{margin:{bottom:10},height:30,width:"100%"}}),Ee.createElement(Be,{uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"center",width:"100%",margin:{top:10}}},Ee.createElement(Ar,{value:"Reconnect",variant:"primary",uiTransform:{width:120,height:50},fontSize:20,onMouseDown:()=>{this.onReconnect&&this.onReconnect()}}))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{this.setVisible(!1)}}))}};var Ld=class extends Tn{constructor(r=!1){super({uiTransform:En.bottomRight({width:50,height:50,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},8,8),uiBackground:Et.image("images/ui/socket/connect.png")},r,"socketStatus");this.status=""}renderProps(){let r=super.renderProps();return this.status==""&&r.uiTransform?r.uiTransform.display="none":r.uiBackground=Et.image(this.status),r}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r})}};var Fd=class extends Tn{constructor(r=!0){super({uiTransform:En.slidefullscreen({width:"90.5%",height:"87%",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",padding:8},0,8),uiBackground:Et.image("images/slides/Slide1.jpg")},r,"slidefullscreen");this.slideUrl="images/slides/Slide1.jpg";this.events=new Sn}renderProps(){let r=super.renderProps();return r.uiBackground=Et.image(this.slideUrl),r}render(r){return Ee.createElement(Be,{...this.renderProps()},Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%",margin:{top:50}}},Ee.createElement(Be,{uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"center",width:"100%",margin:{top:10}}})),Ee.createElement(Be,{uiTransform:{width:56,height:56,margin:8,positionType:"absolute",position:{right:65,top:-65}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{console.log("Dialog close"),this.setVisible(!1)}}),Ee.createElement(Be,{uiTransform:{width:42,height:42,margin:8,positionType:"absolute",position:{left:-10,bottom:-32}},uiBackground:Et.image("images/ui/slide/arrow_left.png"),onMouseDown:()=>{this.events.emit("fullscreen.prevSlide",{})}}),Ee.createElement(Be,{uiTransform:{width:42,height:42,margin:8,positionType:"absolute",position:{right:5,bottom:-32}},uiBackground:Et.image("images/ui/slide/arrow_right.png"),onMouseDown:()=>{this.events.emit("fullscreen.nextSlide",{})}}))}};var Vd=class extends Tn{constructor(r=!0){super({uiTransform:En.middleLeft({width:230,height:470,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",padding:8},0,8),uiBackground:{}},r,"panel2d");this.events=new Sn}renderProps(){return super.renderProps()}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(Be,{uiTransform:{flexDirection:"row",flexWrap:"wrap",alignContent:"flex-start",justifyContent:"flex-start",width:"100%",margin:{top:10}}},Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{left:10,top:0}},uiBackground:Et.image("images/panelGui/triangleButtonGUI.png"),onMouseDown:()=>{this.events.emit("panel2d.setCorrect",{shape:"triangle"})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{right:10,top:0}},uiBackground:Et.image("images/panelGui/circleButtonGUI.png"),onMouseDown:()=>{this.events.emit("panel2d.setCorrect",{shape:"circle"})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{left:10,top:80}},uiBackground:Et.image("images/panelGui/diamondButtonGUI.png"),onMouseDown:()=>{this.events.emit("panel2d.setCorrect",{shape:"diamond"})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{right:10,top:80}},uiBackground:Et.image("images/panelGui/squareButtonGUI.png"),onMouseDown:()=>{this.events.emit("panel2d.setCorrect",{shape:"square"})}}),Ee.createElement(Be,{uiTransform:{width:86,height:86,margin:10,positionType:"absolute",position:{left:-5,top:160}},uiBackground:Et.image("images/panelGui/LeftArrow.png"),onMouseDown:()=>{this.events.emit("panel2d.prevSlide",{})}}),Ee.createElement(Be,{uiTransform:{width:86,height:86,margin:10,positionType:"absolute",position:{right:-5,top:160}},uiBackground:Et.image("images/panelGui/RightArrow.png"),onMouseDown:()=>{this.events.emit("panel2d.nextSlide",{})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{left:10,top:260}},uiBackground:Et.image("images/panelGui/slideButtonGUI.png"),onMouseDown:()=>{console.log("Slide mode"),this.events.emit("panel2d.setSlideMode",{})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{right:10,top:260}},uiBackground:Et.image("images/panelGui/videoButtonGUI.png"),onMouseDown:()=>{console.log("Video mode"),this.events.emit("panel2d.setVideoMode",{})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{left:10,top:350}},uiBackground:Et.image("images/panelGui/quizButtonGUI.png"),onMouseDown:()=>{console.log("panel 2d quiz button...."),this.events.emit("panel2d.quizitem",{})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{right:10,top:350}},uiBackground:Et.image("images/panelGui/prizeButtonGUI.png"),onMouseDown:()=>{}})))}};var Wd=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:500,height:200,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r,"countdown");this.errorText=""}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(gn,{value:"Enter count down in seconds",color:xe.Blue(),fontSize:28,textAlign:"top-center"}),Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%"}},Ee.createElement(Pa,{onChange:n=>{this.inputValue=n},fontSize:17,placeholder:"Enter count down in seconds",placeholderColor:xe.Gray(),textAlign:"middle-center",uiTransform:{height:40},onSubmit:()=>{this.validateInput()&&(Ne.emit("countdown.setTime",{time:Number(this.inputValue)}),this.setVisible(!1))}}),Ee.createElement(gn,{value:this.errorText,color:xe.Red(),fontSize:20,uiTransform:{margin:{bottom:10},height:30,width:"100%"}}),Ee.createElement(Be,{uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"center",width:"100%",margin:{top:10}}},Ee.createElement(Ar,{value:"Start count down",variant:"primary",uiTransform:{width:230,height:50},fontSize:20,onMouseDown:()=>{this.validateInput()&&(Ne.emit("countdown.setTime",{time:Number(this.inputValue)}),this.setVisible(!1))}}))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{console.log("Dialog close"),this.setVisible(!1)}}))}validateInput(){return isNaN(Number(this.inputValue))||Number(this.inputValue)<1||this.inputValue==""?(this.errorText="Must input number from 1 to 999",!1):!0}};var On=new _d(!1),Qr=new Bd(!1),ul=new zd(!1),mi=new Fd(!1),mo=new Dd(!1),Mc=new Ud(!1),_c=new Ld(!0),Go=new Vd(!1),po=new Wd(!1);function eT(){Pc.components.push(Go,On,mi,Qr,ul,_c,Mc,po,mo),$2.setUiRenderer(Pc.render)}var X2=1;Q.addSystem(e=>{let t=LE.get(Q.CameraEntity);X2!=t.mode&&(X2=t.mode,Go.setVisible(t.mode==_n.CT_FIRST_PERSON&&lt.role==2))});var rT=require("~system/Runtime"),Gi=class Gi{constructor(t,r=!0,n,s){this.socket=null;this.events={};this.isConnected=!1;this.realm=null;this.position=null;this.playerName=null;this.password=null;this.optionalPosition=!0;this.disconnectTimer=null;this.url=t,this.onConnected=n,this.onError=s,Di.onChange(Q.PlayerEntity,async a=>{a?.realmName&&this.realm!=a?.realmName&&(console.log("ControlSocket: Player change realm to",a.realmName,", island:",a.room),this.realm=a.realmName,await this.disconnect("Player changed realm to "+a.realmName),await this.connect(!1))})}onPlayerInsideScene(t=!0){console.log("ControlSocket: player is inside scene"),this.disconnectTimer!==null&&(gt.clearTimeout(this.disconnectTimer),this.disconnectTimer=null),!this.isConnected&&this.socket==null&&t&&this.connect(!1)}onPlayerOutsideScene(){console.log(`ControlSocket: player is outside scene, disconnect in ${Gi.OutsideSceneDisconnectTime} seconds`),this.disconnectTimer!==null&&gt.clearTimeout(this.disconnectTimer),this.disconnectTimer=gt.setTimeout(()=>{this.disconnectTimer=null,this.disconnect(`Player outside scene for more than ${Gi.OutsideSceneDisconnectTime} seconds`)},Gi.OutsideSceneDisconnectTime)}async getLocation(){this.realm=(await(0,rT.getRealm)({})).realmInfo?.realmName??"LocalPreview",(!this.realm||this.realm.indexOf("127.0.0.1")>-1)&&(this.realm="LocalPreview");let t=await(0,tT.getSceneInfo)({});t?this.position=JSON.parse(t.metadata).scene.base:this.position="0,0",this.playerName=(await(0,nT.getUserData)({})).data?.displayName??null}getConnectionUrl(){let t={realm:this.realm??"LocalPreview",position:this.position??"0,0"};this.playerName&&(t.name=this.playerName),this.password&&(t.password=this.password);let r=Object.keys(t).map(n=>n+"="+t[n].replace("#","%23")).join("&");return`${this.url}?${r}`}async connect(t=!1,r=3e3){return this.isConnected&&this.socket&&this.socket.close(1e3,"Player tries to reconnect"),this.isConnected=!1,_c.status="images/ui/socket/connect.png",await this.getLocation(),new Promise((n,s)=>{let a=this.getConnectionUrl();console.log("ControlSocket: Connecting to",a),this.socket=new WebSocket(a),this.socket.onopen=f=>this.onSocketOpen(f,n),this.socket.onerror=f=>{console.error("ControlSocket: Error connecting to socket",f),this.onError&&this.onError(),t&&gt.setTimeout(()=>{console.log("ControlSocket: Reconnect data server in",r,"s"),this.connect(!0,Math.min(r+1e3,Gi.MaxReconnectTime))},r)},this.socket.onclose=f=>this.onSocketClose(f),_c.status=""})}onSocketClose(t,r){console.log("ControlSocket: closed",t.code,t.reason),this.isConnected=!1,this.socket=null,t.code==1006&&(console.error("ControlSocket: closed abnormally (code 1006)"),this.onError&&this.onError()),r&&r(t)}onSocketOpen(t,r){this.socketConnectHandler(),r&&r(t)}async disconnect(t){if(!(!this.isConnected||this.socket==null))return console.log("ControlSocket: disconnect",t),this.socket.close(1e3,t),this.isConnected=!1,new Promise((r,n)=>{if(!this.socket){this.onSocketClose({code:1e3,reason:"Socket is null",type:"",wasClean:!1},r);return}this.socket.onclose=s=>this.onSocketClose(s,r)})}socketConnectHandler(){this.socket!=null&&(console.log("ControlSocket: Connected @",this.url),this.socket.onmessage=t=>{this.socketMessageHandler(t)},this.isConnected=!0,this.onConnected!=null&&this.onConnected())}socketMessageHandler(t){try{var r=JSON.parse(t.data);if(console.log("ControlSocket: Message: ",r),r.type in this.events&&r.realm==this.realm&&(this.optionalPosition||r.position==this.position)){console.log("ControlSocket: Event "+r.type);try{this.events[r.type].forEach(n=>{n.call(r.data)})}catch(n){console.error("ControlSocket: Error in event handler",r.type,n)}}}catch(n){console.error("ControlSocket: Error parsing message",n)}}on(t,r){let n=new Vi(r,s=>this.unregisterEvent(s));return t in this.events?this.events[t].push(n):this.events[t]=[n],n}emit(t,r=null){return this.socket==null||!this.isConnected?(this.onError&&this.onError(),!1):(console.log("ControlSocket: Emit @",this.realm,t,r),this.socket.send(JSON.stringify({type:t,data:r,realm:this.realm,position:this.position})),!0)}off(t){t in this.events&&delete this.events[t]}unregisterEvent(t){for(let r in this.events)for(let n=this.events[r].length-1;n>=0;n--)if(this.events[r][n]==t){this.events[r].splice(n,1),this.events[r].length<=0&&delete this.events[r];return}}emitAndWait(t,r=null,n){return new Promise((s,a)=>{let f=this.on(n??t,c=>{f.unregister(),s(c)});this.emit(t,r)||(f.unregister(),a("ControlSocket is not connected"))})}};Gi.MaxReconnectTime=30,Gi.OutsideSceneDisconnectTime=30;var k0=Gi,He=new k0(qe.socketAddress,!0,()=>{Mc.setVisible(!1),He.emit("status.get")},()=>{Mc.setVisible(!0),_c.status="images/ui/socket/alert.png",Mc.onReconnect=()=>{He.connect()}});md(async()=>{await He.connect(),qe.enablePassword?He.onPlayerOutsideScene():He.onPlayerInsideScene()});var cT=require("~system/Runtime");var C0=class{constructor(t,r=!1,n,s){this.initalize(t,r,n,s)}initalize(t,r=!1,n,s){return this.mask=t,this.skipNextObservers=r,this.target=n,this.currentTarget=s,this}},I0=class{constructor(t,r,n=null){this.callback=t,this.mask=r,this.scope=n,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1}},mr=class e{constructor(t){this._observers=new Array,this._onObserverAdded=null,this._eventState=new C0(0),t&&(this._onObserverAdded=t)}add(t,r=-1,n=!1,s=null,a=!1){if(!t)return null;let f=new I0(t,r,s);return f.unregisterOnNextCall=a,n?this._observers.unshift(f):this._observers.push(f),this._onObserverAdded&&this._onObserverAdded(f),f}addOnce(t){return this.add(t,void 0,void 0,void 0,!0)}remove(t){return t&&this._observers.indexOf(t)!==-1?(this._deferUnregister(t),!0):!1}removeCallback(t,r){for(let n=0;n<this._observers.length;n++)if(this._observers[n].callback===t&&(!r||r===this._observers[n].scope))return this._deferUnregister(this._observers[n]),!0;return!1}notifyObservers(t,r=-1,n,s){if(!this._observers.length)return!0;let a=this._eventState;a.mask=r,a.target=n,a.currentTarget=s,a.skipNextObservers=!1,a.lastReturnValue=t;for(let f of this._observers)if(!f._willBeUnregistered&&(f.mask&r&&(f.scope?a.lastReturnValue=f.callback.apply(f.scope,[t,a]):a.lastReturnValue=f.callback(t,a),f.unregisterOnNextCall&&this._deferUnregister(f)),a.skipNextObservers))return!1;return!0}notifyObserversWithPromise(t,r=-1,n,s){let a=Promise.resolve(t);if(!this._observers.length)return a;let f=this._eventState;return f.mask=r,f.target=n,f.currentTarget=s,f.skipNextObservers=!1,this._observers.forEach(c=>{f.skipNextObservers||c._willBeUnregistered||c.mask&r&&(c.scope?a=a.then(l=>(f.lastReturnValue=l,c.callback.apply(c.scope,[t,f]))):a=a.then(l=>(f.lastReturnValue=l,c.callback(t,f))),c.unregisterOnNextCall&&this._deferUnregister(c))}),a.then(()=>t)}notifyObserver(t,r,n=-1){let s=this._eventState;s.mask=n,s.skipNextObservers=!1,t.callback(r,s)}hasObservers(){return this._observers.length>0}clear(){this._observers=new Array,this._onObserverAdded=null}clone(){let t=new e;return t._observers=this._observers.slice(0),t}hasSpecificMask(t=-1){for(let r of this._observers)if(r.mask&t||r.mask===t)return!0;return!1}_deferUnregister(t){t.unregisterOnNextCall=!1,t._willBeUnregistered=!0,Promise.resolve().then.bind(Promise.resolve())(async()=>this._remove(t)).catch(console.error)}_remove(t){if(!t)return!1;let r=this._observers.indexOf(t);return r!==-1?(this._observers.splice(r,1),!0):!1}};var aT=require("~system/EngineApi");function b3(e){let t=so(e),r=sc(e),n=ic(e),s=oc(e),a=new Map,f=[],c=[];return e.addSystem(()=>{let l=Array.from(e.getEntitiesWith(r,s));if(l.length!==a.size)for(let[y,g]of l)a.has(y)||(a.set(y,g.address),f.length&&f.forEach(M=>M(v3({userId:g.address}))),s.onChange(y,M=>{!M&&c.length&&a.get(y)&&(c.forEach(w=>w(a.get(y))),a.delete(y))}))}),{onEnterScene(l){f.push(l)},onLeaveScene(l){c.push(l)},getPlayer(l){function y(){if(!l?.userId)return e.PlayerEntity;for(let[P,S]of e.getEntitiesWith(r))if(S.address===l.userId)return P}let g=y();if(!g)return null;let M=r.getOrNull(g),w=s.getOrNull(g),I=n.getOrNull(g);return!M&&!w&&!I?null:{entity:g,name:w?.name??"",isGuest:!!M?.isGuest,userId:M?.address??"",avatar:w??void 0,wearables:I?.wearableUrns??[],emotes:I?.emoteUrns??[],position:t.getOrNull(g)?.position}}}}var oT=b3(Q),{getPlayer:v3,onEnterScene:SB,onLeaveScene:xB}=oT;var A0=oT;function ho(e){return()=>{e==="comms"?(0,aT.subscribe)({eventId:e}).catch(console.error):M3?.subscribe(e)}}var w3=new mr(ho("onEnterScene"));var k3=new mr(ho("onLeaveScene"));var C3=new mr(ho("sceneStart")),I3=new mr(ho("playerExpression")),CB=new mr(ho("videoEvent")),iT=new mr(ho("profileChanged")),A3=new mr(ho("playerConnected")),R3=new mr(ho("playerDisconnected")),P3=new mr(ho("onRealmChanged")),N3=new mr(ho("playerClicked")),Gd=new mr(ho("comms"));async function sT(e){let{events:t}=await e({actions:[]});for(let r of t)if(r.generic){let n=JSON.parse(r.generic.eventData);switch(r.generic.eventId){case"comms":{Gd.notifyObservers(n);break}}}}var M3=_3();function _3(){let e=new Set;function t(M){if(!e.has(M)){switch(M){case"playerClicked":a();case"onEnterScene":case"playerConnected":r();case"onLeaveScene":case"playerDisconnected":n();case"onRealmChanged":s();case"playerExpression":f();case"profileChanged":c()}e.add(M)}}function r(){A0.onEnterScene(M=>{e.has("onEnterScene")&&w3.notifyObservers({userId:M.userId}),e.has("playerConnected")&&A3.notifyObservers({userId:M.userId})})}function n(){A0.onLeaveScene(M=>{e.has("onLeaveScene")&&k3.notifyObservers({userId:M}),e.has("playerDisconnected")&&R3.notifyObservers({userId:M})})}function s(){Di.onChange(Q.RootEntity,M=>{M&&P3.notifyObservers({domain:M.baseUrl,displayName:M.realmName,room:M.room??"",serverName:M.realmName})})}function a(){let M=new Set;Q.addSystem(()=>{for(let[w]of Q.getEntitiesWith(pd)){if(M.has(w))return;M.add(w),FE.onChange(w,I=>{I?.hit&&N3.notifyObservers({userId:pd.getOrNull(w)?.address??"",ray:{direction:I.hit.direction,distance:I.hit.length,origin:I.hit.globalOrigin}})})}})}function f(){DE.onChange(Q.PlayerEntity,M=>{I3.notifyObservers({expressionId:M?.emoteUrn??""})})}function c(){zE.onChange(Q.PlayerEntity,()=>{y&&iT.notifyObservers({ethAddress:y,version:0})}),UE.onChange(Q.PlayerEntity,()=>{y&&iT.notifyObservers({ethAddress:y,version:0})})}let l=!1,y;function g(){if(l&&y)return Q.removeSystem(g);l||(l=!0,C3.notifyObservers({})),!y&&(y=pd.getOrNull(Q.PlayerEntity)?.address)}return Q.addSystem(g),{subscribe:t}}var lT=_e(require("~system/CommunicationsController")),Hi=class{constructor(){this.messageQueue=[],this.flushing=!1}on(t,r){return Gd.add(n=>{try{let s=JSON.parse(n.message);s.message===t&&r(s.payload,n.sender)}catch{}})}sendRaw(t){this.messageQueue.push(t),this.flush()}emit(t,r){let n=JSON.stringify({message:t,payload:r});this.sendRaw(n),Gd.notifyObservers({message:n,sender:"self"})}flush(){if(!this.messageQueue.length||this.flushing)return;let t=this.messageQueue.shift();lT.send({message:t}).then(r=>{this.flushing=!1,this.flush()},r=>{this.flushing=!1})}};var R0=class{constructor(t=!1,r=!1){this.realm="LocalPreview";this.messageBus=new Hi;this.socket=He;this.useSocket=!1;this.selfExecute=!1;this.events={};this.getRealm(),Di.onChange(Q.PlayerEntity,n=>{n?.realmName&&this.realm!=n.realmName&&(this.realm=n.realmName)}),this.useSocket=t,this.selfExecute=r}async getRealm(){this.realm=(await(0,cT.getRealm)({}))?.realmInfo?.realmName??"LocalPreview",(!this.realm||this.realm.indexOf("127.0.0.1")>-1)&&(this.realm="LocalPreview")}getEventName(t){return"bc."+t}on(t,r){let n=new Vi(r,a=>this.unregisterEvent(a)),s=this.getEventName(t);if(s in this.events?this.events[s].push(n):this.events[s]=[n],this.useSocket){let a=this.socket.on(s,f=>this.handleEvent(r,f));n.unregisterHandler=f=>{a.unregisterOnNextCall=!0,this.unregisterEvent(f)}}else{let a=this.messageBus.on(s,f=>this.handleEvent(r,f));n.unregisterHandler=f=>{a.unregisterOnNextCall=!0,this.unregisterEvent(f)}}return n}handleEvent(t,r){r.realm==this.realm&&t(r)}emit(t,r={}){r.realm=this.realm;let n=this.getEventName(t);this.useSocket?this.socket.emit(n,r)&&this.selfExecute&&n in this.events&&this.events[n].forEach(s=>s.call(r)):this.messageBus.emit(n,r)}unregisterEvent(t){for(let r in this.events)for(let n=this.events[r].length-1;n>=0;n--)if(this.events[r][n]==t){this.events[r].splice(n,1),this.events[r].length<=0&&delete this.events[r];return}}},Ne=new R0(!0,!0);function Oc(e){let t=De.getOrNull(e);if(!t)return p.Zero();let r=t.parent;if(r){let n=De.get(r).rotation;return p.add(Oc(r),p.rotate(t.position,n))}else return t.position}function Bc(e){let t=De.getOrNull(e);if(!t)return V.Identity();let r=t.parent;return r?V.multiply(t.rotation,Bc(r)):t.rotation}var Ze;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(Ze||(Ze={}));function P0(e,t){switch(e){case Ze.LINEAR:return t;case Ze.EASEINQUAD:return O3(t);case Ze.EASEOUTQUAD:return B3(t);case Ze.EASEQUAD:return z3(t);case Ze.EASEINSINE:return D3(t);case Ze.EASEOUTSINE:return U3(t);case Ze.EASESINE:return L3(t);case Ze.EASEINEXPO:return F3(t);case Ze.EASEOUTEXPO:return V3(t);case Ze.EASEEXPO:return W3(t);case Ze.EASEINELASTIC:return G3(t);case Ze.EASEOUTELASTIC:return H3(t);case Ze.EASEELASTIC:return j3(t);case Ze.EASEINBOUNCE:return q3(t);case Ze.EASEOUTEBOUNCE:return Q3(t);case Ze.EASEBOUNCE:return Y3(t);default:return t}}function O3(e){return e*e}function B3(e){return e*(2-e)}function z3(e){return e*e/(2*(e*e-e)+1)}function D3(e){return 1-Math.cos(e*Math.PI/2)}function U3(e){return Math.sin(e*Math.PI/2)}function L3(e){return-(Math.cos(Math.PI*e)-1)/2}function F3(e){return e===0?0:Math.pow(2,10*e-10)}function V3(e){return e===1?1:1-Math.pow(2,-10*e)}function W3(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}function G3(e){let t=2*Math.PI/3;return e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*t)}function H3(e){let t=2*Math.PI/3;return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*t)+1}function j3(e){let t=2*Math.PI/4.5;return e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1}function q3(e){return 1-Hd(1-e)}function Q3(e){return Hd(e)}function Y3(e){return e<.5?(1-Hd(1-2*e))/2:(1+Hd(2*e-1))/2}function Hd(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function uT(e,t,r){let n=new Array,s=1/t,a=0;if(r){let f=e.length;for(let c=0;c<f;c++){a=0;for(let l=0;l<t;l++)n.push(p.catmullRom(e[c%f],e[(c+1)%f],e[(c+2)%f],e[(c+3)%f],a)),a+=s}n.push(n[0])}else{let f=new Array;f.push(p.clone(e[0])),Array.prototype.push.apply(f,e),f.push(p.clone(e[e.length-1]));let c=0;for(;c<f.length-3;c++){a=0;for(let l=0;l<t;l++)n.push(p.catmullRom(f[c],f[c+1],f[c+2],f[c+3],a)),a+=s}c--,n.push(p.catmullRom(f[c],f[c+1],f[c+2],f[c+3],a))}return n}function fT(e,t,r,n){return e.x<=n.x&&t.x>=r.x&&e.y<=n.y&&t.y>=r.y&&e.z<=n.z&&t.z>=r.z}function dT(e,t,r,n){let s=p.distanceSquared(e,r),a=t+n;return s<a*a}function N0(e,t,r,n){let s=0;return r.x<e.x&&(s+=(e.x-r.x)*(e.x-r.x)),r.x>t.x&&(s+=(r.x-t.x)*(r.x-t.x)),r.y<e.y&&(s+=(e.y-r.y)*(e.y-r.y)),r.y>t.y&&(s+=(r.y-t.y)*(r.y-t.y)),r.z<e.z&&(s+=(e.z-r.z)*(e.z-r.z)),r.z>t.z&&(s+=(r.z-t.z)*(r.z-t.z)),s<n*n}var Bn;(function(e){e.TimerSystemPriority=1e5+256,e.TweenSystemPriority=1e5+192,e.PerpetualMotionSystemPriority=1e5+192,e.PathSystemPriority=1e5+192,e.TriggerSystemPriority=1e5+128,e.ActionSystemPriority=1e5+64})(Bn||(Bn={}));function J3(e){let t=new Map,r=0;function n(s){let a=[],f=[];for(let[c,l]of t)l.accumulatedTime+=1e3*s,!(l.accumulatedTime<l.interval)&&(f.push(l.callback),l.recurrent?l.accumulatedTime-=Math.floor(l.accumulatedTime/l.interval)*l.interval:a.push(c));for(let c of a)t.delete(c);for(let c of f)c()}return e.addSystem(n,Bn.TimerSystemPriority),{setTimeout(s,a){let f=r++;return t.set(f,{callback:s,interval:a,recurrent:!1,accumulatedTime:0}),f},clearTimeout(s){t.delete(s)},setInterval(s,a){let f=r++;return t.set(f,{callback:s,interval:a,recurrent:!0,accumulatedTime:0}),f},clearInterval(s){t.delete(s)}}}var M0=J3(Q);var fl;(function(e){e[e.Off=0]="Off",e[e.On=1]="On"})(fl||(fl={}));function $3(e,t){let r=e.defineComponent("dcl.utils.Toggle",{state:B.EnumNumber(fl,fl.Off)}),n=new Map;return t.setInterval(function(){for(let s of n.keys())(e.getEntityState(s)==Xt.Removed||!r.has(s))&&n.delete(s)},5e3),{addToggle(s,a,f){n.set(s,f),r.createOrReplace(s,{state:a})},removeToggle(s){n.delete(s),r.deleteFrom(s)},setCallback(s,a){n.set(s,a)},set(s,a){if(r.get(s).state!=a){r.getMutable(s).state=a;let c=n.get(s);c&&c(a)}},flip(s){this.set(s,1-r.get(s).state)},isOn(s){return r.get(s).state==fl.On}}}var K3=$3(Q,M0);function Z3(e){let t={start:B.Vector3,end:B.Vector3,interpolationType:B.EnumString(Ze,Ze.LINEAR),speed:B.Float,normalizedTime:B.Float},r=e.defineComponent("dcl.utils.PositionTween",t),n=e.defineComponent("dcl.utils.ScaleTween",t),s=e.defineComponent("dcl.utils.RotationTween",{start:B.Quaternion,end:B.Quaternion,interpolationType:B.EnumString(Ze,Ze.LINEAR),speed:B.Float,normalizedTime:B.Float}),a=new Map,f=new Map,c=new Map;function l(w,I,P){return function(x){let k=[];for(let N of I.keys()){if(e.getEntityState(N)==Xt.Removed||!w.has(N)){I.delete(N);continue}let F=w.getMutable(N);F.normalizedTime=kt.clamp(F.normalizedTime+x*F.speed,0,1);let ae=P0(F.interpolationType,F.normalizedTime);P(De.getMutable(N),F.start,F.end,ae),F.normalizedTime>=1&&k.push(N)}for(let N of k){let F=I.get(N);w.deleteFrom(N),I.delete(N),F&&F()}}}function y(w,I){return function(P){w.deleteFrom(P),I.delete(P)}}function g(w,I){return function(P,S,x,k,N=Ze.LINEAR,F){I.set(P,F),w.createOrReplace(P,{start:S,end:x,speed:k==0?0:1/k,interpolationType:N,normalizedTime:k==0?1:0})}}function M(w){return function(I){if(!w.has(I))throw new Error(`Entity ${I} is not registered with tweens system`);return w.get(I)}}return e.addSystem(l(r,a,function(w,I,P,S){w.position=p.lerp(I,P,S)}),Bn.TweenSystemPriority),e.addSystem(l(s,f,function(w,I,P,S){w.rotation=V.slerp(I,P,S)}),Bn.TweenSystemPriority),e.addSystem(l(n,c,function(w,I,P,S){w.scale=p.lerp(I,P,S)}),Bn.TweenSystemPriority),{startTranslation:g(r,a),stopTranslation:y(r,a),startRotation:g(s,f),stopRotation:y(s,f),startScaling:g(n,c),stopScaling:y(n,c),getTranslationOnFinishCallback:M(a),getRotationOnFinishCallback:M(f),getScalingOnFinishCallback:M(c)}}var zn=Z3(Q);function X3(e){let t=e.defineComponent("dcl.utils.PerpetualRotation",{velocity:B.Quaternion});function r(n){for(let[s,a]of e.getEntitiesWith(t,De)){let f=V.slerp(V.Identity(),a.velocity,n),c=De.getMutable(s);c.rotation=V.normalize(V.multiply(c.rotation,f))}}return e.addSystem(r,Bn.PerpetualMotionSystemPriority),{startRotation(n,s){t.createOrReplace(n,{velocity:s})},stopRotation(n){t.deleteFrom(n)}}}var ji=X3(Q);function ev(e){let t=e.defineComponent("dcl.utils.FollowPath",{points:B.Array(B.Vector3),faceDirection:B.Boolean,speed:B.Number,normalizedTime:B.Number,currentIndex:B.Number,segmentTimes:B.Array(B.Number),curveSegmentCount:B.Number}),r=new Map,n=new Map;function s(c){r.delete(c),n.delete(c),t.deleteFrom(c)}function a(c){let l=[],y=[];for(let g of r.keys()){if(e.getEntityState(g)==Xt.Removed||!t.has(g)){s(g);continue}let M=De.getMutable(g),w=t.getMutable(g);for(w.normalizedTime=kt.clamp(w.normalizedTime+c*w.speed,0,1),w.normalizedTime>=1&&l.push(g);w.normalizedTime>=w.segmentTimes[w.currentIndex]&&w.currentIndex<w.points.length-1;){if(w.faceDirection){let S=p.subtract(w.points[w.currentIndex+1],w.points[w.currentIndex]);M.rotation=V.lookRotation(S)}if(w.currentIndex>0&&w.currentIndex%w.curveSegmentCount==0){let S=w.currentIndex/w.curveSegmentCount,x=w.points[w.currentIndex],k=w.points[w.currentIndex+w.curveSegmentCount];y.push({entity:g,index:S,coords:x,nextCoords:k})}w.currentIndex+=1}let I=w.segmentTimes[w.currentIndex]-w.segmentTimes[w.currentIndex-1],P=(w.segmentTimes[w.currentIndex]-w.normalizedTime)/I;M.position=p.lerp(w.points[w.currentIndex],w.points[w.currentIndex-1],P)}for(let g of y){let M=n.get(g.entity);M&&M(g.index,g.coords,g.nextCoords)}for(let g of l){let M=r.get(g);s(g),M&&M()}}e.addSystem(a,Bn.PathSystemPriority);function f(c,l,y,g,M,w,I){if(l.length<2)throw new Error("At least 2 points are required to form a path.");if(y==0)throw new Error("Path duration must not be zero");if(M){let k=p.equals(l[0],l[l.length-1]);k&&(l.pop(),l.unshift(l.pop())),l=uT(l,M,k)}else M=1;r.set(c,w),n.set(c,I);let P=0,S=[];for(let k=0;k<l.length-1;k++){let N=p.distance(l[k],l[k+1]);P+=N,S.push(N)}let x=[0];for(let k=0;k<S.length;k++)x.push(S[k]/P+x[k]);t.createOrReplace(c,{points:l,segmentTimes:x,curveSegmentCount:M,speed:1/y,normalizedTime:0,currentIndex:0,faceDirection:g})}return{startStraightPath(c,l,y,g,M,w){return f(c,l,y,g,0,M,w)},startSmoothPath(c,l,y,g,M,w,I){if(g<2||!Number.isInteger(g))throw new Error(`segmentCount must be an integer that is greater than 2, got: ${g}`);return f(c,l,y,M,g,w,I)},stopPath(c){s(c)},getOnFinishCallback(c){if(!r.has(c))throw new Error(`Entity ${c} is not registered in triggers system`);return r.get(c)}}}var _0=ev(Q);var yo=1;var pi=255,Kn=0,O0=yo;function tv(e){let t=Q.defineComponent("dcl.utils.Trigger",{active:B.Boolean,layerMask:B.Int,triggeredByMask:B.Int,areas:B.Array(B.OneOf({box:B.Map({position:B.Vector3,scale:B.Vector3}),sphere:B.Map({position:B.Vector3,radius:B.Number})})),debugColor:B.Color3}),r=new Map,n=new Map,s=!1,a=new Map,f=new Map;function c(P){if(P)for(let[S,x]of e.getEntitiesWith(t,De)){let k=f.get(S),N=x.areas.length;for(;k.length>N;)e.removeEntity(k.pop());for(;k.length<N;)k.push(e.addEntity());let F=Oc(S),ae=Bc(S);for(let Ae=0;Ae<N;++Ae){let ne=x.areas[Ae],j=k[Ae],se;if(ne.$case=="box")se=ne.value.scale,Cr.setBox(j);else{let $=ne.value.radius;se={x:$,y:$,z:$},Cr.setSphere(j)}De.createOrReplace(j,{position:p.add(F,p.rotate(ne.value.position,ae)),scale:se});let oe=x.active?x.debugColor:rt.Black();Fe.setPbrMaterial(j,{albedoColor:xe.fromInts(255*oe.r,255*oe.g,255*oe.b,75)})}}}function l(P,S,x,k){for(let N=0;N<S.areas.length;++N){let F=P[N],ae=S.areas[N];if(ae.$case=="box"){let Ae=ae.value,ne=p.subtract(F,p.scale(Ae.scale,.5)),j=p.add(ne,Ae.scale);for(let se=0;se<k.areas.length;++se){let oe=x[se],$=k.areas[se];if($.$case=="box"){let A=$.value,O=p.subtract(oe,p.scale(A.scale,.5)),H=p.add(O,A.scale);if(fT(ne,j,O,H))return!0}else if(N0(ne,j,oe,$.value.radius))return!0}}else{let Ae=ae.value.radius;for(let ne=0;ne<k.areas.length;++ne){let j=x[ne],se=k.areas[ne];if(se.$case=="box"){let oe=se.value,$=p.subtract(j,p.scale(oe.scale,.5)),A=p.add($,oe.scale);if(N0($,A,F,Ae))return!0}else if(dT(F,Ae,j,se.value.radius))return!0}}}return!1}function y(P,S){let x=dl,k=t.get(P);if(!k.active)return x;if(k.triggeredByMask==O0){let N=e.PlayerEntity,F=t.get(e.PlayerEntity);if(N==P||!F.active||!(k.triggeredByMask&F.layerMask))return x;l(S.get(P),k,S.get(N),F)&&(x===dl&&(x=new Set),x.add(N))}else for(let[N,F]of e.getEntitiesWith(t,De)){if(N==P||!F.active||!(k.triggeredByMask&F.layerMask))continue;l(S.get(P),k,S.get(N),F)&&(x===dl&&(x=new Set),x.add(N))}return x}function g(){let P=[],S=[],x=new Map;for(let k of a.keys()){if(e.getEntityState(k)==Xt.Removed||!t.has(k)){for(let ne of f.get(k))e.removeEntity(ne);for(let ne of a.values())ne.has(k)&&ne.delete(k);f.delete(k),a.delete(k),r.delete(k),n.delete(k);continue}let N=[],F=Oc(k),ae=Bc(k),Ae=t.get(k);for(let ne of Ae.areas)N.push(p.add(F,p.rotate(ne.value.position,ae)));x.set(k,N)}for(let k of a.keys()){let N=y(k,x),F=a.get(k);for(let ae of F)N.has(ae)||S.push([k,ae]);for(let ae of N)F.has(ae)||P.push([k,ae]);a.set(k,N)}for(let[k,N]of P){let F=r.get(k);F&&F(N)}for(let[k,N]of S){let F=n.get(k);F&&F(N)}}function M(P){g(),c(s)}e.addSystem(M,Bn.TriggerSystemPriority);function w(P){P||(P=[{type:"box"}]);let S=[];for(let x of P)x.type=="box"?S.push({$case:"box",value:{position:x.position?x.position:p.Zero(),scale:x.scale?x.scale:p.One()}}):S.push({$case:"sphere",value:{position:x.position?x.position:p.Zero(),radius:x.radius?x.radius:1}});return S}let I={addTrigger(P,S=Kn,x=Kn,k,N,F,ae){if(S<0||S>pi||!Number.isInteger(S))throw new Error(`Bad layerMask: ${S}. Expected a non-negative integer no greater than ${pi}`);if(x<0||x>pi||!Number.isInteger(x))throw new Error(`Bad triggeredByMask: ${x}. Expected a non-negative integer no greater than ${pi}`);f.set(P,[]),a.set(P,new Set),r.set(P,N),n.set(P,F),t.createOrReplace(P,{active:!0,layerMask:S,triggeredByMask:x,areas:w(k),debugColor:ae||rt.Red()})},removeTrigger(P){let S=a.get(P),x=n.get(P);for(let N of f.get(P))e.removeEntity(N);f.delete(P),a.delete(P),r.delete(P),n.delete(P),t.deleteFrom(P);let k=[];for(let[N,F]of a)F.has(P)&&(F.delete(P),k.push(N));if(x)for(let N of S)x(N);for(let N of k){let F=n.get(N);F&&F(P)}},oneTimeTrigger(P,S=Kn,x=Kn,k,N,F){this.addTrigger(P,S,x,k,function(ae){Zn.removeTrigger(P),N&&N(ae)},void 0,F)},enableTrigger(P,S){t.getMutable(P).active=S},isTriggerEnabled(P){return t.get(P).active},getLayerMask(P){return t.get(P).layerMask},setLayerMask(P,S){if(S<0||S>pi||!Number.isInteger(S))throw new Error(`Bad layerMask: ${S}. Expected a non-negative integer no greater than ${pi}`);t.getMutable(P).layerMask=S},getTriggeredByMask(P){return t.get(P).triggeredByMask},setTriggeredByMask(P,S){if(S<0||S>pi||!Number.isInteger(S))throw new Error(`Bad layerMask: ${S}. Expected a non-negative integer no greater than ${pi}`);t.getMutable(P).triggeredByMask=S},getAreas(P){return t.get(P).areas},setAreas(P,S){t.getMutable(P).areas=w(S)},setOnEnterCallback(P,S){r.set(P,S)},setOnExitCallback(P,S){n.set(P,S)},enableDebugDraw(P){if(s=P,!P)for(let S of f.values()){for(let x of S)e.removeEntity(x);S.length=0}},isDebugDrawEnabled(){return s}};return I.addTrigger(e.PlayerEntity,O0,Kn,[{type:"box",scale:{x:.65,y:1.92,z:.65},position:{x:0,y:.15,z:0}}],void 0,void 0,rt.Green()),I}var Zn=tv(Q),dl=new Set;dl.add=e=>{debugger;throw new Error("EMPTY_SET is read only")};dl.delete=e=>{throw new Error("EMPTY_SET is read only")};dl.has=e=>!1;var B0;(function(e){class t{constructor(g,M,w){this.beginSequenceNode=null,this.currentSequenceNode=null,this.running=!1,this.started=!1,this.engine=g,this.systemFn=I=>{this.update(I)},this.engine.addSystem(this.systemFn,Bn.ActionSystemPriority),M&&this.startSequence(M),w&&this.setOnFinishCallback(w)}startSequence(g){this.beginSequenceNode=g.beginSequenceNode,this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}destroy(){this.engine.removeSystem(this.systemFn)}setOnFinishCallback(g){this.onFinishCallback=g}isRunning(){return this.running}stop(){this.running=!1}resume(){this.beginSequenceNode!=null&&(this.running=!0)}reset(){this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}getRunningAction(){let g=this.currentSequenceNode;if(this.currentSequenceNode instanceof s)do g=g.currentInnerSequence;while(g instanceof s);return g.action}update(g){if(this.running){if(!this.started){this.currentSequenceNode.onStart(),this.started=!0;return}if(!this.currentSequenceNode.hasFinish()){this.currentSequenceNode.update(g);return}this.currentSequenceNode.onFinish(),this.currentSequenceNode=this.currentSequenceNode.next,this.currentSequenceNode?this.currentSequenceNode.onStart():(this.running=!1,this.onFinishCallback&&this.onFinishCallback())}}}e.SequenceRunner=t;class r{constructor(){this.currentSequenceNode=null,this.beginSequenceNode=null,this.whileNodeStack=[]}then(g){if(this.currentSequenceNode==null)this.currentSequenceNode=new n,this.currentSequenceNode.action=g,this.beginSequenceNode=this.currentSequenceNode;else{let M=new n;M.action=g,this.currentSequenceNode=this.currentSequenceNode.then(M)}return this}if(g){let M=new a(g);return this.currentSequenceNode==null?(this.currentSequenceNode=M,this.beginSequenceNode=M):this.currentSequenceNode=this.currentSequenceNode.then(M),this}else(){let g=this.currentSequenceNode.getSequence();if(g instanceof a){g.closed=!0;let M=new f(g);this.currentSequenceNode=this.currentSequenceNode.then(M)}else throw new Error("IF statement is needed to be called before ELSE statement.");return this}endIf(){let g=this.currentSequenceNode.getSequence();if(g instanceof a||g instanceof f)g.closed=!0;else throw new Error("IF statement is needed to be called before ENDIF statement.");return this}while(g){let M=new c(g);return this.currentSequenceNode==null?(this.currentSequenceNode=M,this.beginSequenceNode=M):this.currentSequenceNode=this.currentSequenceNode.then(M),this.whileNodeStack.push(M),this}endWhile(){let g=this.currentSequenceNode.getSequence();if(g instanceof c)g.closed=!0,this.whileNodeStack.length>0&&this.whileNodeStack.splice(this.whileNodeStack.length-1,1);else throw new Error("WHILE statement is needed to be called before ENDWHILE statement.");return this}breakWhile(){if(this.whileNodeStack.length>0)this.currentSequenceNode=this.currentSequenceNode.then(new l(this.whileNodeStack[this.whileNodeStack.length-1]));else throw new Error("WHILE statement is needed to be called before BREAKWHILE statement.");return this}}e.SequenceBuilder=r;class n{constructor(){this.action=null,this.next=null}then(g){return this.next=g,g}onStart(){this.action&&this.action.onStart()}update(g){this.action&&this.action.update(g)}onFinish(){this.action&&this.action.onFinish()}hasFinish(){return this.action?this.action.hasFinished:!0}getSequence(){return this}}e.SequenceNode=n;class s extends n{constructor(){super(...arguments),this.currentInnerSequence=null,this.startingInnerSequence=null,this.closed=!1}then(g){if(this.currentInnerSequence==null)this.currentInnerSequence=g,this.startingInnerSequence=g;else{if(this.closed)return this.next=g,g;this.currentInnerSequence=this.currentInnerSequence.then(g)}return this}onStart(){this.currentInnerSequence=this.startingInnerSequence,this.currentInnerSequence&&this.currentInnerSequence.onStart()}update(g){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(g))}onFinish(){this.currentInnerSequence&&this.currentInnerSequence.onFinish()}hasFinish(){return this.currentInnerSequence==null}getSequence(){if(this.currentInnerSequence){let g=this.currentInnerSequence.getSequence();if(g instanceof s&&!g.closed)return g}return this}}class a extends s{constructor(g){super(),this.result=!1,this.condition=g}onStart(){this.result=this.condition(),this.result?super.onStart():this.currentInnerSequence=null}}class f extends s{constructor(g){super(),this.ifSequence=null,this.ifSequence=g}onStart(){this.ifSequence&&!this.ifSequence.result?super.onStart():this.currentInnerSequence=null}}class c extends s{constructor(g){super(),this.breakWhile=!1,this.condition=g}onStart(){this.breakWhile=!1,this.condition()?super.onStart():this.currentInnerSequence=null}update(g){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence==null&&(this.currentInnerSequence=this.startingInnerSequence),this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(g))}hasFinish(){return this.breakWhile||!this.condition()}}class l extends n{constructor(g){super(),this.whileNode=g}onStart(){this.whileNode.breakWhile=!0}}})(B0||(B0={}));var mT=require("~system/RestrictedActions");var ml=Q.defineComponent("quizItemComponent",{correct:B.Boolean,shape:B.String}),Ho=class Ho{static create(t,r,n){let s=ie.createGltfShape(t,r);return ml.create(s,{correct:!1,shape:n}),ji.startRotation(s,V.fromEulerDegrees(0,90,0)),Ot.attach(s,!0),Zn.addTrigger(s,Kn,yo,[{type:"box",scale:t.scale}],a=>Ho.onItemTouch(s,n)),Ho.setVisible(s,!1),s}static onItemTouch(t,r){Ho.getState(t)==2&&(gt.setTimeout(()=>{(0,mT.triggerEmote)({predefinedEmote:"clap"})},.3),Ne.emit("quiz.winner",{shape:r,players:[lt]})),Ne.emit("quiz.item.touch",{shape:r}),Ho.events.emit("touch",{entity:t,shape:r}),He.emit("status.set",{name:r+"Visibility",value:0})}static setVisible(t,r){Ot.set(t,r),Zn.enableTrigger(t,r)}static getEntityByShape(t){let r=Q.getEntitiesWith(ml);for(let[n,s]of r)if(s.shape==t)return n;return null}static setState(t,r){if(Ho.setVisible(t,r>=1),!ml.has(t))return;let n=ml.getMutable(t);n.correct=r>1}static getState(t){if(!ml.has(t))return;let r=ml.get(t),n=Ot.get(t)?1:0;return n>0&&r.correct&&(n=2),n}static initEvent(){Ne.on("quiz.item.touch",t=>{let r=Ho.getEntityByShape(t.shape);r&&Ho.setState(r,0)})}};Ho.events=new Sn;var Xn=Ho;Xn.initEvent();var pT=require("~system/RestrictedActions");var yi=Q.defineComponent("quizTileComponent",{players:B.Array(B.Map({username:B.String,id:B.String})),correct:B.Boolean,announced:B.Boolean,shape:B.String,baseEntity:B.Entity}),er=class er{static create(t,r,n,s,a){let f=ie.createPosition(t);s.parent=f;let c=ie.createBox(s);return n.parent=f,yi.create(f,{players:[],correct:!1,announced:!1,shape:a,baseEntity:c}),ie.createGltfShape(n,r),Ot.attach(f,!0),Zn.addTrigger(f,Kn,yo,[{type:"box",scale:p.create(1.2,1.2,1.2)}],l=>{Ne.emit("quiz.tile.setState",{shape:a,state:!0,player:lt})},()=>{Ne.emit("quiz.tile.setState",{shape:a,state:!1,player:lt})}),er.setVisible(f,!1),f}static getEntityByShape(t){let r=Q.getEntitiesWith(yi);for(let[n,s]of r)if(s.shape==t)return n;return null}static setStepOnState(t,r,n){let s=yi.getMutable(t);if(r)s.players.push({id:n.id,username:n.username});else{let a=s.players.findIndex(f=>f.id==n.id);a!=-1&&s.players.splice(a,1)}er.updateState(t)}static updateState(t){if(!yi.has(t))return;let r=yi.get(t);r.announced?Fe.setPbrMaterial(r.baseEntity,r.correct?er.CorrectMaterial:er.InCorrectMaterial):r.players.length>0?Fe.setPbrMaterial(r.baseEntity,er.OnMaterial):Fe.setPbrMaterial(r.baseEntity,er.OffMaterial)}static setVisible(t,r){Ot.set(t,r),Zn.enableTrigger(t,r)}static setState(t,r){let n=yi.getMutable(t);n.announced=r>0,n.correct=r==2,er.updateState(t)}static playEmote(t){let r=yi.getMutable(t);r.players.findIndex(s=>s.id==lt.id)!=-1&&(0,pT.triggerEmote)({predefinedEmote:r.correct?"clap":"shrug"})}static initEvent(){Ne.on("quiz.tile.setState",t=>{let r=er.getEntityByShape(t.shape);r&&er.setStepOnState(r,t.state,t.player)})}};er.OffMaterial={albedoColor:xe.create(1,1,1),metallic:0,roughness:0},er.OnMaterial={albedoColor:xe.White(),metallic:0,roughness:0,emissiveIntensity:3,emissiveColor:rt.create(1,1,1)},er.CorrectMaterial={albedoColor:xe.Blue(),metallic:.1,roughness:0,emissiveIntensity:4,emissiveColor:rt.create(0,1,0)},er.InCorrectMaterial={albedoColor:xe.create(1,.1,.1,1),metallic:.1,roughness:0,emissiveIntensity:4,emissiveColor:rt.create(1,.1,.1)};var tr=er;tr.initEvent();var go=Q.defineComponent("quizItemGroupComponent",{itemMap:B.Map({circle:B.Entity,square:B.Entity,triangle:B.Entity,diamond:B.Entity})}),nr=Q.defineComponent("quizTileGroupComponent",{tileMap:B.Map({circle:B.Entity,square:B.Entity,triangle:B.Entity,diamond:B.Entity})}),qi=class qi{static create(t){let r=ie.createPosition(t),n=Xn.create({position:p.create(-1,.5,0),scale:p.create(1,1,1),parent:r},"models/quiz/circle.glb","circle"),s=Xn.create({position:p.create(-3,.5,0),scale:p.create(1,1,1),parent:r},"models/quiz/square.glb","square"),a=Xn.create({position:p.create(1,.5,0),scale:p.create(1,1,1),parent:r},"models/quiz/triangle.glb","triangle"),f=Xn.create({position:p.create(3,.5,0),scale:p.create(.85,.85,.85),parent:r},"models/quiz/diamond.glb","diamond"),c=go.create(r,{itemMap:{circle:n,square:s,triangle:a,diamond:f}});return r}static setVisible(t,r){if(!go.has(t))return;let n=go.getMutable(t);Object.values(n.itemMap).map(s=>Xn.setVisible(s,r))}static setItemVisible(t,r,n){if(!go.has(t))return;let s=go.get(t);Xn.setVisible(s.itemMap[r],n)}static setCorrect(t,r){if(!go.has(t))return;let n=go.get(t);for(let s in n.itemMap)Xn.setState(n.itemMap[s],s==r?2:1)}static playPickupAudio(t){Vo.createOrReplace(t,{audioClipUrl:"sounds/coinPickup.mp3",loop:!1,playing:!0})}static getSingleEntity(){let t=Q.getEntitiesWith(go);for(let[r,n]of t)return r;return null}static getSingle(){let t=Q.getEntitiesWith(go);for(let[r,n]of t)return n;return null}static initEvent(){Xn.events.on("touch",t=>{let r=qi.getSingle();(r?!Object.values(r.itemMap).find(s=>Xn.getState(s)!=0):!1)&&qi.events.emit("touchAll")}),Ne.on("quiz.item.touch",t=>{let r=qi.getSingleEntity();r&&qi.playPickupAudio(r)})}};qi.events=new Sn,qi.pickupAudioSrc="sounds/coinPickup.mp3";var jo=qi,Na=class{static square(t,r,n=0){return[p.create(-t/2,n,r/2),p.create(t/2,n,r/2),p.create(t/2,n,-r/2),p.create(-t/2,n,-r/2)]}},an=class an{static create(t){let r=ie.createPosition(t.transform);this.tilesPos=t.tilePositions;let n=tr.create({position:this.tilesPos[0],scale:an.TileScale,parent:r},"models/quiz/circle.glb",an.shapeTransform,an.baseTransform,"circle"),s=tr.create({position:this.tilesPos[1],scale:an.TileScale,parent:r},"models/quiz/square.glb",an.shapeTransform,an.baseTransform,"square"),a=tr.create({position:this.tilesPos[2],scale:an.TileScale,parent:r},"models/quiz/triangle.glb",an.shapeTransform,an.baseTransform,"triangle"),f=tr.create({position:this.tilesPos[3],scale:an.TileScale,parent:r},"models/quiz/diamond.glb",an.shapeTransform,an.baseTransform,"diamond"),c=nr.create(r,{tileMap:{circle:n,square:s,triangle:a,diamond:f}});return r}static setVisible(t,r){if(!nr.has(t))return;let n=nr.getMutable(t);Object.values(n.tileMap).map(s=>tr.setVisible(s,r))}static clear(t){if(!nr.has(t))return;let r=nr.getMutable(t);Object.values(r.tileMap).map(n=>tr.setState(n,0))}static setItemVisible(t,r,n){if(!nr.has(t))return;let s=nr.get(t);tr.setVisible(s.tileMap[r],n)}static setCorrect(t,r){if(!nr.has(t))return;let n=nr.get(t);for(let s in n.tileMap)tr.setState(n.tileMap[s],s==r?2:1),tr.playEmote(n.tileMap[s])}static getSingleEntity(){let t=Q.getEntitiesWith(nr);for(let[r,n]of t)return r;return null}static getSingle(){let t=Q.getEntitiesWith(nr);for(let[r,n]of t)return n;return null}static initEvent(){}static setTilePosIndex(t,r){let n=nr.getMutable(t),s=0;for(let a in n.tileMap){let f=n.tileMap[a],c=De.getMutable(f),l=an.tilesPos[r[s]];c.position=l,s++}}};an.events=new Sn,an.BaseScale=p.create(1,.05,1),an.TileScale=p.create(1.5,1,1.5),an.shapeTransform={position:p.create(0,.01,0),scale:p.create(.7,.7,.7),rotation:V.fromEulerDegrees(90,0,0)},an.baseTransform={position:p.create(0,0,0),scale:an.BaseScale};var Eo=an;jo.initEvent();Eo.initEvent();var nv={id:0,slideVideoMode:1,quizMode:0,prizeMode:0,slideDirectory:"images/slides/Slide",currentSlide:1,maxSlide:20,videoUrl:"[]",videoPosition:0,videoState:0,diamondVisibility:0,circleVisibility:0,triangleVisibility:0,squareVisibility:0,trophyPickedup:null,trophyPos:null,lines:null,enablewhitelist:0,synchronize3d:"[]",realm:"LocalPreview",position:"1,1",tpEnabled:!1,tpPosition:"",tpTitle:"",tpImage:""},gi=class gi{static initSocketEvent(){He.on("status.sync",t=>{gi.status=t,gi.events.emit("sync",gi.status)})}static setStatus(t){Array.isArray(t)||(t=[t]);for(let r of t)r.field in gi.status&&(gi.status[r.field]=r.value);He.emit("status.set",t)}};gi.events=new Sn,gi.status={...nv};var rr=gi;rr.initSocketEvent();var ln=class e{static create(t,r){e.mode=0,e.quizItemGroup=jo.create(t),e.quizTileGroup=Eo.create(r)}static onQuizModePressed(t){if(e.mode!=0)Ne.emit("quizmanager.off",{}),He.emit("status.set",[{name:"quizMode",value:0}]);else if(t==1)Ne.emit("quizmanager.itemmode",{}),He.emit("status.set",[{name:"circleVisibility",value:1},{name:"squareVisibility",value:1},{name:"triangleVisibility",value:1},{name:"diamondVisibility",value:1},{name:"quizMode",value:1}]);else if(t==2){let r=[0,1,2,3].sort((n,s)=>Math.random()-.5);Ne.emit("quizmanager.tilemode",{tileIndex:r}),He.emit("status.set",[{name:"circleVisibility",value:0},{name:"squareVisibility",value:0},{name:"triangleVisibility",value:0},{name:"diamondVisibility",value:0},{name:"quizMode",value:2}])}}static onCorrectPressed(t){let r=[{name:"circleVisibility",value:t=="circle"?2:1},{name:"squareVisibility",value:t=="square"?2:1},{name:"triangleVisibility",value:t=="triangle"?2:1},{name:"diamondVisibility",value:t=="diamond"?2:1}];if(e.mode==0&&(Ne.emit("quizmanager.itemmode",{}),r.push({name:"quizMode",value:1})),Ne.emit("quizmanager.setCorrect",{shape:t}),He.emit("status.set",r),this.mode==2){let n=nr.get(e.quizTileGroup),s=yi.get(n.tileMap[t]);Ne.emit("quiz.winner",{players:s.players})}}static setMode(t){!this.quizItemGroup||!this.quizTileGroup||t!=this.mode&&(console.log("Set quiz mode:",t),t==0?(jo.setVisible(this.quizItemGroup,!1),Eo.setVisible(this.quizTileGroup,!1)):t==1?(Eo.setVisible(this.quizTileGroup,!1),jo.setVisible(this.quizItemGroup,!0)):t==2&&(jo.setVisible(this.quizItemGroup,!1),Eo.clear(this.quizTileGroup),Eo.setVisible(this.quizTileGroup,!0)),e.mode=t)}static initEvent(){Ne.on("quizmanager.off",t=>{e.setMode(0)}),Ne.on("quizmanager.itemmode",t=>{e.setMode(1)}),Ne.on("quizmanager.tilemode",t=>{e.setMode(2),Eo.setTilePosIndex(e.quizTileGroup,t.tileIndex)}),Ne.on("quizmanager.setCorrect",t=>{!this.quizItemGroup||!this.quizTileGroup||(e.mode==1?jo.setCorrect(e.quizItemGroup,t.shape):Eo.setCorrect(e.quizTileGroup,t.shape))}),rr.events.on("sync",t=>{if(!(!this.quizItemGroup||!this.quizTileGroup)){if(console.log("Sync quiz"),e.setMode(t.quizMode),e.mode==1){let r=go.get(e.quizItemGroup);for(let n in r.itemMap)Xn.setState(r.itemMap[n],t[n+"Visibility"])}if(e.mode==2){let r=nr.get(e.quizTileGroup);for(let n in r.tileMap)tr.setState(r.tileMap[n],t[n+"Visibility"])}}}),jo.events.on("touchAll",()=>{Ne.emit("quizmanager.off",{}),He.emit("status.set",[{name:"quizMode",value:0}])}),Go.events.on("panel2d.setCorrect",t=>{e.onCorrectPressed(t.shape)})}};ln.initEvent();var jd=require("~system/RestrictedActions");var D0=Q.defineComponent("slideObjectDisplayComponent",{objectEntity:B.Entity,logoEntity:B.Entity,modelEntity:B.Optional(B.Entity)}),Yr=Q.defineComponent("slideObjectComponent",{id:B.String,transform:B.Map({position:B.Vector3,scale:B.Vector3,rotation:B.Quaternion},{position:p.create(0,0,0),scale:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0)}),effect:B.Map({rotate:B.Boolean,zoom:B.Boolean,moveout:B.Boolean,focus:B.Boolean,playing:B.Boolean},{rotate:!1,zoom:!1,moveout:!1,focus:!1,playing:!0}),animations:B.Array(B.String),currentAnimations:B.Array(B.String),children:B.Array(B.Entity)}),Pe=class Pe{static create(t){let r=ie.createPosition(t),n=ie.createPosition({position:p.create(0,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:r}),s=Pe.createModel(r,"logo",Pe.getLogoModelData());return D0.create(r,{objectEntity:n,logoEntity:s}),Ot.attach(s,!0),r}static getLogoModelData(){let t="/new_logo.glb",r=p.create(.03,.03,.03);switch(qe.themeFeature){case 1:t="/SeasonDecoration/XMas/logo_with_hat_new2.glb";break;case 2:case 3:t="/SeasonDecoration/NewYear/new_year_logo_2023.glb",r=p.create(1,1,1);break;default:break}return{modelName:t,position:p.create(0,1,0),scale:r,rotation:p.create(0,0,0),animate:{onLoad:{name:"self-rotate"}}}}static createModel(t,r,n){let s=ie.createPosition({position:n.position?p.clone(n.position):p.create(0,0,0),scale:n.scale?p.clone(n.scale):p.create(1,1,1),rotation:n.rotation?V.fromEulerDegrees(n.rotation.x,n.rotation.y,n.rotation.z):V.fromEulerDegrees(0,0,0),parent:t});if(n.modelName.startsWith("shape::"))switch(n.modelName.substring(7)){case"cube":Cr.setBox(s),uo.setBox(s);break;case"plane":Cr.setPlane(s),uo.setPlane(s);break;case"sphere":Cr.setSphere(s),uo.setSphere(s);break;case"cylinder":Cr.setCylinder(s),uo.setCylinder(s);break}else{let c=n.modelName.startsWith("/")?"models"+n.modelName:"models/3dObjects/"+n.modelName;co.createOrReplace(s,{src:c,invisibleMeshesCollisionMask:qn.CL_PHYSICS|qn.CL_POINTER,visibleMeshesCollisionMask:qn.CL_POINTER})}let a=Pe.getAllAnimation(n);console.log("Model animations:",r,a),ft.create(s,{states:a.map((c,l)=>({clip:c,name:c,playing:!1}))});let f=n.group?n.group.map((c,l)=>Pe.createModel(s,`${r}-${l}`,c)):[];return Yr.create(s,{id:r,transform:{position:n.position?p.clone(n.position):p.create(0,0,0),scale:n.scale?p.clone(n.scale):p.create(1,1,1),rotation:n.rotation?V.fromEulerDegrees(n.rotation.x,n.rotation.y,n.rotation.z):V.fromEulerDegrees(0,0,0)},animations:a,currentAnimations:[],children:f}),Pe.setModelEvent(s,r,n),s}static setModelEvent(t,r,n){if(!n.animate)return;let s=[];n.animate.onTouch&&s.push({button:pe.IA_POINTER,hoverText:Pe.getEventDisplay(n.animate.onTouch),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.onTouch,a)}),n.animate.onE&&s.push({button:pe.IA_PRIMARY,hoverText:Pe.getEventDisplay(n.animate.onE),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.onE,a)}),n.animate.onF&&s.push({button:pe.IA_SECONDARY,hoverText:Pe.getEventDisplay(n.animate.onF),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.onF,a)}),n.animate.on1&&s.push({button:pe.IA_ACTION_3,hoverText:Pe.getEventDisplay(n.animate.on1),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.on1,a)}),n.animate.on2&&s.push({button:pe.IA_ACTION_4,hoverText:Pe.getEventDisplay(n.animate.on2),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.on2,a)}),n.animate.on3&&s.push({button:pe.IA_ACTION_5,hoverText:Pe.getEventDisplay(n.animate.on3),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.on3,a)}),n.animate.on4&&s.push({button:pe.IA_ACTION_6,hoverText:Pe.getEventDisplay(n.animate.on4),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.on4,a)}),wt.setEvents(t,s),n.animate?.onLoad?Pe.playModelAnimation(t,n.animate.onLoad):Pe.resetAllAnimation(t)}static handleModelEvent(t,r,n,s){if(typeof n.name=="number")Pe.setSlide(n.name);else{if(typeof n.name=="string"&&n.name.trim()=="")return;Ne.emit("slideobject.animate",{id:r,animation:n,playerId:lt.id})}}static setSlide(t){t>0?Pe.events.emit("setSlide",{slideNum:t}):Ne.emit("slideobject.changeModel",{slideNum:t})}static getAllAnimation(t){let r=[];return t.animate&&(t.animate.all?r=t.animate.all.split("+").map(n=>n.trim()):r=r.concat(Pe.getEventAnimations(t.animate.onLoad),Pe.getEventAnimations(t.animate.onTouch),Pe.getEventAnimations(t.animate.onE),Pe.getEventAnimations(t.animate.onF))),[...new Set(r)]}static getEventAnimations(t){if(!t)return[];if(typeof t.name=="number"||Object.values(Od).includes(t.name))return[];if(typeof t.name=="string")return t.name.split("+").map(r=>r.trim()).filter(r=>r!="noloop"&&!r.startsWith("animatespeed-"));if(typeof t.name=="object"){for(let r of t.name)if(r.type=="animation")return r.name.split("+").map(n=>n.trim()).filter(n=>n!="noloop"&&!n.startsWith("animatespeed-"))}return[]}static getEventDisplay(t){return t.display?t.display:typeof t.name=="number"?`Change model #${t.name}`:Object.values(Od).includes(t.name)?{"pause-animate":"Pause","self-rotate":"Self rotate","move-out":"Move out","zoom-in":"Zoom in",focus:"Focus","reset-animate":"Reset"}[t.name]:"Play"}static togglePauseAnimations(t,r=!1){let n=Yr.getMutableOrNull(t);if(!n)return;n.effect.playing=!n.effect.playing;let s=ft.getMutable(t);if(n.effect.playing)for(let a of s.states)n.currentAnimations.includes(a.clip)&&(a.playing=!0);else ft.stopAllAnimations(t,r);return n.effect.playing}static toggleSelfRotate(t,r,n=!0){let s=Yr.getMutableOrNull(t);if(s)return s.effect.rotate=!s.effect.rotate,s.effect.rotate?ji.startRotation(t,V.fromEulerDegrees(0,r*(n?1:-1),0)):ji.stopRotation(t),s.effect.rotate}static toggleMoveOut(t,r,n=.5){let s=Yr.getMutableOrNull(t);if(s)return s.effect.moveout=!s.effect.moveout,s.effect.moveout?zn.startTranslation(t,s.transform.position,p.add(s.transform.position,r),n,Ze.EASEOUTQUAD):zn.startTranslation(t,p.add(s.transform.position,r),s.transform.position,n,Ze.EASEOUTQUAD),s.effect.moveout}static toggleZoomIn(t,r,n=.5){let s=Yr.getMutableOrNull(t);if(s)return s.effect.zoom=!s.effect.zoom,s.effect.zoom?zn.startScaling(t,s.transform.scale,p.multiply(s.transform.scale,r),n,Ze.EASEOUTQUAD):zn.startScaling(t,p.multiply(s.transform.scale,r),s.transform.scale,n,Ze.EASEOUTQUAD),s.effect.zoom}static toggleFocus(t,r,n,s=1){let a=Yr.getMutableOrNull(t);if(a)return a.effect.focus=!a.effect.focus,a.effect.focus?(zn.startTranslation(t,a.transform.position,p.add(a.transform.position,r),s/2,Ze.EASEOUTQUAD,()=>{}),zn.startScaling(t,a.transform.scale,p.multiply(a.transform.scale,n),s/2,Ze.EASEOUTQUAD)):(zn.startScaling(t,p.multiply(a.transform.scale,n),a.transform.scale,s/2,Ze.EASEOUTQUAD,()=>{}),zn.startTranslation(t,p.add(a.transform.position,r),a.transform.position,s/2,Ze.EASEOUTQUAD)),a.effect.focus}static resetAllAnimation(t){console.log("Reset all model animation");let r=ft.getMutable(t);for(let n of r.states)n.shouldReset=!0,n.playing=!0,n.speed=0;gt.callNextFrame(()=>{let n=ft.getMutableOrNull(t);if(n)for(let s of n.states)s.playing=!1,s.speed=1})}static resetAllStockAnimation(t){let r=Yr.getMutableOrNull(t);if(!r)return;r.effect.focus=!1,r.effect.moveout=!1,r.effect.rotate=!1,r.effect.zoom=!1;let n=De.getMutable(t);n.position=p.clone(r.transform.position),n.scale=p.clone(r.transform.scale),n.rotation=V.create(r.transform.rotation.x,r.transform.rotation.y,r.transform.rotation.z,r.transform.rotation.w)}static async playAnimationString(t,r,n,s,a){let f=Yr.getMutableOrNull(t);if(!f)return;let c=r.split("+").map(I=>I.trim()),l=n!==void 0?n.split("+").map(I=>I.trim()):null,y=c.findIndex(I=>I.startsWith("animatespeed")),g=a??(y!=-1?Number(c[y]):1),M=s!==void 0?s:c.findIndex(I=>I=="noloop")==-1,w=ft.getMutable(t);f.currentAnimations=c,f.effect.playing=!0;for(let I of w.states)(l==null||l.includes(I.clip))&&(I.shouldReset=!0,I.playing=!0,I.speed=0);gt.callNextFrame(()=>{let I=ft.getMutableOrNull(t);if(I)for(let P of I.states)c.includes(P.clip)?(P.loop=M,P.speed=g,P.playing=!0):P.playing=!1})}static playModelEmote(t,r,n,s,a,f){if(console.log("Emote animation"),!!Yr.getMutableOrNull(t))for(let l of r)l.type==="emote"?n==lt.id&&gt.setTimeout(()=>{(0,jd.triggerSceneEmote)({src:`models/3dObjects/${l.name}`,loop:!1})},l.delay??0):l.type==="animation"?gt.setTimeout(()=>{Pe.playAnimationString(t,l.name,s,a,f)},l.delay??0):l.type==="movePlayer"&&n==lt.id&&(0,jd.movePlayerTo)({newRelativePosition:p.create(l.target?.x,l.target?.y,l.target?.z),cameraTarget:p.create(l.cameraTarget?.x,l.cameraTarget?.y,l.cameraTarget?.z)})}static playModelAnimation(t,r,n){let s=Yr.getMutableOrNull(t);if(s)switch(console.log("Model animation",s.id,r),r.name){case"pause-animate":Pe.togglePauseAnimations(t),r.audio&&Pe.playModelAudio(t,r,!1,s.effect.playing);break;case"self-rotate":Pe.toggleSelfRotate(t,90),r.audio&&Pe.playModelAudio(t,r,!1,s.effect.rotate);break;case"move-out":Pe.toggleMoveOut(t,p.create(0,0,3)),r.audio&&Pe.playModelAudio(t,r,!1,s.effect.moveout);break;case"zoom-in":Pe.toggleZoomIn(t,p.create(1.5,1.5,1.5)),r.audio&&Pe.playModelAudio(t,r,!1,s.effect.zoom);break;case"focus":Pe.toggleFocus(t,p.create(0,0,3),p.create(1.5,1.5,1.5)),r.audio&&Pe.playModelAudio(t,r,!1,s.effect.focus);break;case"reset-animate":Pe.resetAllAnimation(t),Pe.resetAllStockAnimation(t),r.audio&&Pe.playModelAudio(t,r,!0,!1);break;default:console.log("animation typeof",typeof r.name,r.name),typeof r.name=="string"&&r.name.trim()!=""&&Pe.playAnimationString(t,r.name,r.reset,r.loop,r.speed),typeof r.name=="object"&&Pe.playModelEmote(t,r.name,n,r.reset,r.loop,r.speed),r.audio&&Pe.playModelAudio(t,r);break}}static playModelAudio(t,r,n=!0,s=!0){if(r.audio&&(!Vo.has(t)||n))console.log("Playing audio",r.audio),Vo.createOrReplace(t,{audioClipUrl:r.audio,volume:r.audioVol??1,playing:!0});else{console.log("Set audio",s);let a=Vo.getMutable(t);a.playing=s}}static findEntityById(t){let r=Q.getEntitiesWith(Yr);for(let[n,s]of r)if(s.id==t)return n;return null}static showModel(t,r){let n=D0.getMutable(t);console.log("SlideObject: Show model",r),Ot.set(n.logoEntity,!1),n.modelEntity&&(Pe.removeModel(n.modelEntity),n.modelEntity=void 0),n.modelEntity=Pe.createModel(n.objectEntity,`${r.slide}-${r.modelName}`,r)}static showLogo(t){let r=D0.getMutable(t);console.log("SlideObject: Show logo"),r.modelEntity&&(Pe.removeModel(r.modelEntity),r.modelEntity=void 0),Ot.set(r.logoEntity,!0)}static removeModel(t){let r=Yr.getOrNull(t);if(r){for(let n of r.children)Pe.removeModel(n);wt.removeEvent(t),Q.removeEntityWithChildren(t)}}static initEvent(){Ne.on("slideobject.animate",t=>{let r=Pe.findEntityById(t.id);r&&Pe.playModelAnimation(r,t.animation,t.playerId)})}};Pe.events=new Sn,Pe.currentObject=2,Pe.dclAnimate=["self-rotate","move-out","zoom-in","pause-animate","noloop","animatespeed","focus"],Pe.isPlaying=!0,Pe.isRotating=!1,Pe.ismoveout=!1,Pe.isZoomIn=!1,Pe.isFocus=!1;var pr=Pe;pr.initEvent();var hT=new Hi,hl=class e{constructor(t,r){this.x=t,this.y=r}static create(t,r){return new e(t,r)}},qd=Q.defineComponent("lazeRayComponent",{fromPlayer:B.String,rayType:B.String,rayEntity:B.Entity,lifeTimer:B.Number}),pl=class e{static create(t,r){let n=ie.createPosition(t),s=ie.createCylinder({position:p.create(0,0,r.offset+r.length/2),scale:p.create(r.size.x,r.length,r.size.y),rotation:V.fromEulerDegrees(90,0,0),parent:n},.5,.5,!1);Fe.setPbrMaterial(s,{albedoColor:r.albedoColor??xe.Red(),emissiveColor:r.emissiveColor??xe.Red(),emissiveIntensity:r.emissiveIntensity??7}),zn.startScaling(s,p.create(0,r.length,0),p.create(r.size.x,r.length,r.size.y),.2,Ze.EASEOUTQUAD);let a=-1;return r.lifeTime&&(a=gt.setTimeout(()=>{zn.startScaling(s,p.create(r.size.x,r.length,r.size.y),p.create(0,r.length,0),.3,Ze.EASEOUTQUAD,()=>{e.remove(n)})},r.lifeTime)),qd.create(n,{rayType:r.rayType,fromPlayer:r.fromPlayer,rayEntity:s,lifeTimer:a}),n}static remove(t){let r=qd.get(t);r.lifeTimer!==-1&&gt.clearTimeout(r.lifeTimer),Q.removeEntityWithChildren(t)}static setRayLength(t,r,n=1){let s=qd.get(t),a=De.getMutable(s.rayEntity);a.position=p.create(0,0,n+r/2),a.scale.y=r}};var To=class To{constructor(t){this.castType=1;this.rayType=t.rayType,this.size=t.size,this.offset=t.offset,this.lifeTime=t.lifeTime,this.maxLength=t.maxLength??64,this.albedoColor=t.albedoColor??xe.Red(),this.emissiveColor=t.emissiveColor??xe.Red(),this.emissiveIntensity=t.emissiveIntensity??7,this.castType=t.castType??1}castRay(){t0.registerLocalDirectionRaycast({entity:Q.CameraEntity,opts:{queryType:rc.RQT_HIT_FIRST,direction:p.Forward(),maxDistance:1e3,collisionMask:qn.CL_PHYSICS|qn.CL_POINTER}},t=>{if(t.hits&&t.hits.length>0&&t.hits[0]&&t.hits[0].position&&t.hits[0].normalHit){let r=De.get(Q.PlayerEntity),n=p.add(p.create(0,To.PlayerHeight,0),To.RayStartOffset),s=p.add(r.position,n),a=t.hits[0].position,f=V.lookRotation(p.subtract(a,s),p.Up()),c=Math.min(p.distance(s,a),this.maxLength),l=pl.create({position:s,rotation:f},{fromPlayer:lt.username,rayType:this.rayType,size:this.size,length:c,offset:this.offset,lifeTime:this.lifeTime,albedoColor:this.albedoColor,emissiveColor:this.emissiveColor,emissiveIntensity:this.emissiveIntensity})}})}castRaySync(){t0.registerLocalDirectionRaycast({entity:Q.CameraEntity,opts:{queryType:rc.RQT_HIT_FIRST,direction:p.Forward(),maxDistance:1e3,collisionMask:qn.CL_PHYSICS|qn.CL_POINTER}},t=>{if(t.hits&&t.hits.length>0&&t.hits[0]&&t.hits[0].position&&t.hits[0].normalHit){let r=De.get(Q.PlayerEntity),n=p.add(p.create(0,To.PlayerHeight,0),To.RayStartOffset),s=p.add(r.position,n),a=t.hits[0].position,f=V.lookRotation(p.subtract(a,s),p.Up()),c=Math.min(p.distance(s,a),this.maxLength);this.createRaySync(s,f,c)}})}createRaySync(t,r,n){hT.emit("lazecast.createRay",{position:t,rotation:r,length:n,fromPlayer:lt.username,rayType:this.rayType,size:this.size,offset:this.offset,lifeTime:this.lifeTime,albedoColor:this.albedoColor,emissiveColor:this.emissiveColor,emissiveIntensity:this.emissiveIntensity,castType:this.castType})}static createRay(t,r,n){if(n===1)return pl.create(t,r);if(n===0){let s=Q.getEntitiesWith(qd);for(let[a,f]of s)r.rayType==f.rayType&&r.fromPlayer==f.fromPlayer&&pl.remove(a);return pl.create(t,r)}}static initEvent(){hT.on("lazecast.createRay",t=>{To.createRay({position:t.position,rotation:t.rotation},{fromPlayer:t.fromPlayer,rayType:t.rayType,size:t.size,length:t.length,offset:t.offset,lifeTime:t.lifeTime,albedoColor:t.albedoColor,emissiveColor:t.emissiveColor,emissiveIntensity:t.emissiveIntensity},t.castType)})}static system(t){if(!To.currentCaster)return;zi.getInputCommand(pe.IA_ACTION_4,jr.PET_DOWN)&&To.currentCaster.castRaySync()}};To.PlayerHeight=1.68,To.RayStartOffset=p.create(0,-.1,0);var hr=To;Q.addSystem(e=>hr.system(e));hr.initEvent();var L0=require("~system/RestrictedActions");var U0=Q.defineComponent("viewAreaComponent",{areaName:B.String,cameraLookAt:B.Vector3,cameraMode:B.Number,active:B.Boolean,enabled:B.Boolean,hasCollider:B.Boolean},{cameraLookAt:p.create(0,0,0),cameraMode:_n.CT_FIRST_PERSON,active:!1,enabled:!0,hasCollider:!1}),cn=class e{static create(t,r){let n=ie.createPosition({position:t.position});return U0.create(n,{areaName:r.name,cameraLookAt:r.cameraLookAt,cameraMode:r.cameraMode,hasCollider:r.hasCollider??!1}),n}static setActive(t,r,n=!1){let s=U0.getMutable(t);if(s.active!=r&&r){let a=De.get(t);n0.create(t,{area:a.scale,mode:s.cameraMode}),n&&((0,L0.movePlayerTo)({newRelativePosition:a.position,cameraTarget:s.cameraLookAt}),e.fixViewTimer&&gt.clearTimeout(e.fixViewTimer),e.fixViewTimer=gt.setTimeout(()=>{(0,L0.movePlayerTo)({newRelativePosition:a.position,cameraTarget:s.cameraLookAt}),e.fixViewTimer=void 0},.5))}else n0.deleteFrom(t);s.active=r}static toggleSingleActive(t,r){let n=Q.getEntitiesWith(U0,De),s=!!r&&lt.isAuth&&lt.username!=r;for(let[a,f,c]of n)f.areaName==t?e.setActive(a,!f.active,s):e.setActive(a,!1,s)}static toggleSingleActiveSync(t,r=!0){Ne.emit("viewarea.toggleSingleActive",{exceptPlayer:r?lt.username:void 0,areaName:t})}static initEvent(){Ne.on("viewarea.toggleSingleActive",t=>{e.toggleSingleActive(t.areaName,t.exceptPlayer)})}};cn.initEvent();var Ei=Q.defineComponent("panelCompnent",{currentSlide:B.Number,maxSlide:B.Number,slideUrl:B.String},{currentSlide:1,maxSlide:20,slideUrl:"images/slides/Slide"}),re=class re{static create(t){re.entity=ie.createGltfShape(t,"models/panel/panel.glb"),Ei.create(re.entity);let r=new hr({rayType:"pointer",size:hl.create(.08,.08),offset:.5,lifeTime:1,albedoColor:xe.White(),emissiveColor:xe.Red(),emissiveIntensity:10,castType:0}),n=mt.create({position:p.create(.7,0,.2),scale:p.create(re.ArrowSize,re.ArrowSize,re.ArrowSize),parent:re.entity},"models/panel/button/arrow_button.glb",[{button:pe.IA_POINTER,hoverText:"Previous slide",maxDistance:re.ButtonDistance,eventCallback:P=>{re.screenMode(re.entity,1),re.prevSlide(re.entity)}},{button:pe.IA_PRIMARY,hoverText:"First slide",maxDistance:re.ButtonDistance,eventCallback:P=>{re.screenMode(re.entity,1),re.setSlide(re.entity,1)}}]),s=mt.create({position:p.create(-.7,0,.2),scale:p.create(-re.ArrowSize,re.ArrowSize,re.ArrowSize),parent:re.entity},"models/panel/button/arrow_button.glb",[{button:pe.IA_POINTER,hoverText:"Next slide",maxDistance:re.ButtonDistance,eventCallback:P=>{re.screenMode(re.entity,1),re.nextSlide(re.entity)}},{button:pe.IA_PRIMARY,hoverText:"Go to slide",maxDistance:re.ButtonDistance,eventCallback:P=>{let S=Ei.get(re.entity);ul.show(S.currentSlide,S.maxSlide)}}]),a=mt.create({position:p.create(.45,-.5,.2),scale:re.ButtonSize,parent:re.entity},"models/panel/button/slide_button.glb",[{button:pe.IA_POINTER,hoverText:"Slide mode",maxDistance:re.ButtonDistance,eventCallback:P=>{re.screenMode(re.entity,1)}}]),f=mt.create({position:p.create(-.45,-.5,.2),scale:re.ButtonSize,parent:re.entity},"models/panel/button/video_button.glb",[{button:pe.IA_POINTER,hoverText:"Video mode",maxDistance:re.ButtonDistance,eventCallback:P=>{re.screenMode(re.entity,2)}},{button:pe.IA_PRIMARY,hoverText:"Restart video",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Restart video"),re.screenMode(re.entity,2),Ne.emit("screen.reset",{})}},{button:pe.IA_SECONDARY,hoverText:"Video List",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Video List"),Qr.setVisible(!0)}}]),c=mt.create({position:p.create(.45,-1.1,.2),scale:re.ButtonSize,parent:re.entity},"models/panel/button/quiz_button.glb",[{button:pe.IA_POINTER,hoverText:"Quiz mode",maxDistance:re.ButtonDistance,eventCallback:P=>{re.quizMode(re.entity,1)}},{button:pe.IA_PRIMARY,hoverText:"Quiz mode (Tile)",maxDistance:re.ButtonDistance,eventCallback:P=>{re.quizMode(re.entity,2)}}]),l=mt.create({position:p.create(-.45,-1.1,.2),scale:re.ButtonSize,parent:re.entity},"models/panel/button/prize_button.glb",[{button:pe.IA_PRIMARY,hoverText:"View slide",eventCallback:P=>{console.log("View slide"),cn.toggleSingleActiveSync("slide")}},{button:pe.IA_SECONDARY,hoverText:"View model",eventCallback:P=>{console.log("View model"),cn.toggleSingleActiveSync("model")}}]);hr.currentCaster=r;let y=mt.create({position:p.create(-.45,1.1,.15),scale:re.QuizButtonSize,parent:re.entity},"models/panel/quiz_button/circle_button.glb",[{button:pe.IA_POINTER,hoverText:"Circle is correct answer",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Circle is correct answer"),ln.onCorrectPressed("circle")}}]),g=mt.create({position:p.create(.45,.5,.15),scale:re.QuizButtonSize,parent:re.entity},"models/panel/quiz_button/diamond_button.glb",[{button:pe.IA_POINTER,hoverText:"Diamond is correct answer",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Diamond is correct answer"),ln.onCorrectPressed("diamond")}}]),M=mt.create({position:p.create(.45,1.1,.15),scale:re.QuizButtonSize,parent:re.entity},"models/panel/quiz_button/triangle_button.glb",[{button:pe.IA_POINTER,hoverText:"Triangle is correct answer",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Triangle is correct answer"),ln.onCorrectPressed("triangle")}}]),w=mt.create({position:p.create(-.45,.5,.15),scale:re.QuizButtonSize,parent:re.entity},"models/panel/quiz_button/square_button.glb",[{button:pe.IA_POINTER,hoverText:"Square is correct answer",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Square is correct answer"),ln.onCorrectPressed("square")}}]),I=ie.createGltfShape({position:p.create(0,1.8,0),scale:p.create(.5,.3,.5),rotation:V.fromEulerDegrees(0,90,0),parent:re.entity},"models/panel/discord_name.glb");return re.discordNameText=ie.createText({position:p.create(0,2.16,.05),scale:p.create(.21,.21,.21),rotation:V.fromEulerDegrees(0,180,0),parent:re.entity},{text:"",textColor:xe.fromHexString("#f18535"),outlineWidth:.3,lineSpacing:-.5,outlineColor:rt.fromHexString("#f18535"),textAlign:dr.TAM_MIDDLE_CENTER}),Je.create(re.discordNameText,{visible:!0}),mi.slideUrl="images/slides/Slide",re.entity}static bindComponent(t){return re.entity=t,Ei.createOrReplace(t),mi.slideUrl="images/slides/Slide",t}static setSlide(t,r){let n=Ei.getMutable(t);n.currentSlide=r;let s=`${n.slideUrl}${n.currentSlide}.jpg`;Ne.emit("screen.setSlide",{slideUrl:s,slideNum:n.currentSlide,maxSlide:n.maxSlide}),He.emit("status.set",[{name:"currentSlide",value:n.currentSlide}])}static nextSlide(t){let r=Ei.getMutable(t);if(r.currentSlide+1>r.maxSlide)return;r.currentSlide+=1;let n=`${r.slideUrl}${r.currentSlide}.jpg`;Ne.emit("screen.setSlide",{slideUrl:n,slideNum:r.currentSlide,maxSlide:r.maxSlide}),He.emit("status.set",[{name:"currentSlide",value:r.currentSlide},{name:"slideVideoMode",value:1}])}static prevSlide(t){let r=Ei.getMutable(t);if(r.currentSlide<=1)return;r.currentSlide-=1;let n=`${r.slideUrl}${r.currentSlide}.jpg`;Ne.emit("screen.setSlide",{slideUrl:n,slideNum:r.currentSlide,maxSlide:r.maxSlide}),He.emit("status.set",[{name:"currentSlide",value:r.currentSlide},{name:"slideVideoMode",value:1}])}static screenMode(t,r){Ne.emit("screen.setmode",{mode:r});let n=[{name:"slideVideoMode",value:r},{name:"videoState",value:r==2?1:0}];if(r==2){let s=Qr.getCurrentItem();Ne.emit("screen.setVideo",{mode:2,url:s?.url??"",title:s?.name??"No video"}),n.push({name:"videoPosition",value:0}),n.push({name:"videoUrl",value:JSON.stringify(Qr.videos)})}He.emit("status.set",n)}static quizMode(t,r){ln.onQuizModePressed(r)}static initEvent(){Go.events.on("panel2d.nextSlide",r=>{re.nextSlide(re.entity)}),Go.events.on("panel2d.prevSlide",r=>{re.prevSlide(re.entity)}),mi.events.on("fullscreen.nextSlide",r=>{re.nextSlide(re.entity)}),mi.events.on("fullscreen.prevSlide",r=>{re.prevSlide(re.entity)}),Go.events.on("panel2d.setSlideMode",r=>{re.screenMode(re.entity,1)}),Go.events.on("panel2d.setVideoMode",r=>{re.screenMode(re.entity,2)}),Go.events.on("panel2d.quizitem",r=>{re.quizMode(re.entity,1)}),ul.events.on("setSlide",r=>{re.screenMode(re.entity,1),re.setSlide(re.entity,r.slideNum)}),On.events.on("setSlide",r=>{re.screenMode(re.entity,1),re.setSlide(re.entity,r.slideNum)}),pr.events.on("setSlide",r=>{re.screenMode(re.entity,1),re.setSlide(re.entity,r.slideNum)});let t="";rr.events.on("sync",async r=>{if(!re.entity)return;let n=Ei.getMutable(re.entity);n.slideUrl=r.slideDirectory??"images/slides/Slide",n.currentSlide=r.currentSlide,n.maxSlide=r.maxSlide;try{t=r.position;let s=`${qe.multilandManagementAddress}/api/vc-realm?realm=${r.realm}&position=${r.position}`,a=await fetch(s).then(l=>l.json());console.log("scene data: ",a);let f=Je.getMutable(re.discordNameText);f.visible=!0;let c=Fo.getMutable(re.discordNameText);a.length<=0?c.text="No Voice Channel":c.text=a[0].voiceChannel}catch{console.log("Error fetch Multiland Management URL");let a=Je.getMutable(re.discordNameText);a.visible=!1}}),Di.onChange(Q.PlayerEntity,async r=>{try{let n=`${qe.multilandManagementAddress}/api/vc-realm?realm=${r?.realmName}&position=${t}`,s=await fetch(n).then(c=>c.json());console.log("scene data: ",s);let a=Je.getMutable(re.discordNameText);a.visible=!0;let f=Fo.getMutable(re.discordNameText);s.length<=0?f.text="No Voice Channel":f.text=s[0].voiceChannel}catch{console.log("Error fetch Multiland Management URL");let s=Je.getMutable(re.discordNameText);s.visible=!1}})}};re.ButtonSize=p.create(.5,.4,.15),re.ArrowSize=1.75,re.ButtonDistance=15,re.QuizButtonSize=p.create(.5,.5,.15),re.viewSLideBoxIsActive=!1,re.viewObjectBoxIsActive=!1;var je=re;je.initEvent();var or=class or{static create(t,r){let n=ie.createPosition(t),s=ie.createBox({position:p.create(0,0,0),scale:p.create(r.x,or.baseThickness,r.z),parent:n},!0),a=ie.createBox({position:p.create(-r.x/2+or.wallThickness/2,r.y/2,0),scale:p.create(or.wallThickness,r.y,r.z),parent:n},!0),f=ie.createBox({position:p.create(0,r.y/2,(or.wallThickness-r.z)/2),scale:p.create(r.x,r.y,or.wallThickness),parent:n},!0),c=ie.createText({position:p.create(0,or.baseThickness,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(90,180,0),parent:n},{text:"3D",textColor:xe.create(.86,.8,.95,1),fontSize:30,outlineWidth:.4,outlineColor:rt.create(.86,.8,.95),textAlign:dr.TAM_MIDDLE_CENTER});return Fe.setPbrMaterial(s,or.baseMaterial),Fe.setPbrMaterial(a,or.WallMaterial),Fe.setPbrMaterial(f,or.WallMaterial),n}};or.WallMaterial={albedoColor:xe.create(.2,.9,.7,1),metallic:.1,roughness:.3},or.baseMaterial={albedoColor:xe.White(),metallic:0,roughness:1,emissiveColor:rt.create(0,0,.6),emissiveIntensity:2},or.wallThickness=.1,or.baseThickness=.1;var Qd=or,yT=Q.defineComponent("area3dComponent",{slideObject:B.Entity}),yr=class{static create(t,r){let n=ie.createPosition(t);r(n,t);let s=pr.create({position:p.create(0,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:n});return yT.create(n,{slideObject:s}),n}static getSlideObject(t){return yT.getOrNull(t)?.slideObject}static initEvent(){}};yr.WallMaterial={albedoColor:xe.create(.2,.9,.7,1),metallic:.1,roughness:.3},yr.baseMaterial={albedoColor:xe.White(),metallic:0,roughness:1,emissiveColor:rt.create(0,0,.6),emissiveIntensity:2};yr.initEvent();var Yd=class e{static create(t){let r=ie.createBox(t);return e.startElevator(r),r}static startElevator(t){let r=[p.create(3.5,.15,5.23),p.create(3.5,8,5.23),p.create(3.5,.15,5.23)];_0.startStraightPath(t,r,5,!1,async()=>{await gt.delay(1),e.startElevator(t)})}};var F0=require("~system/RestrictedActions"),Jd=class e{static create(t,r){let n=ie.createPosition(t),s=ie.createColliderBox({position:p.create(0,8,0),scale:p.create(16,16,1),parent:n}),a=ie.createPosition({position:p.create(0,4,0),parent:n});return Zn.addTrigger(a,Kn,yo,[{type:"box",scale:p.create(15,8,2.5)}],f=>{mo.setVisible(!0),mo.onCorrectPassword=()=>{e.remove(n),(0,F0.movePlayerTo)({newRelativePosition:p.create(11,1,6),cameraTarget:p.create(8,2.5,29.5)}),r?.()}},()=>{mo.setVisible(!1)},rt.Blue()),e.wallEntity=n,n}static remove(t){Q.removeEntityWithChildren(t)}},Rr=class{static create(t,r){let n=ie.createPosition({position:t.position});return Zn.addTrigger(n,Kn,yo,[{type:"box",scale:t.scale}],s=>{(0,F0.movePlayerTo)({newRelativePosition:r.kickoutPosition,cameraTarget:r.kickoutCameraTarget})},()=>{},rt.Yellow()),r.enabled===!1&&Zn.enableTrigger(n,!1),n}static setEnabled(t,r){Zn.enableTrigger(t,r)}};var $d=Q.defineComponent("countDownComponent",{digitEntity:B.Entity,tenthEntity:B.Entity,hundredthEntity:B.Entity,startTranform:B.Map({position:B.Optional(B.Vector3),scale:B.Optional(B.Vector3),rotation:B.Optional(B.Quaternion)}),endTransform:B.Map({position:B.Optional(B.Vector3),scale:B.Optional(B.Vector3),rotation:B.Optional(B.Quaternion)}),currentNumber:B.Number,timerId:B.Optional(B.Number)}),Pr=class e{static create(t,r,n){let s=ie.createPosition(t),a=ie.createGltfShape({position:p.create(.5,0,0),scale:p.create(1.5,1.5,1.5),rotation:V.fromEulerDegrees(0,180,0),parent:s},"models/countNumber/num1.glb"),f=ie.createGltfShape({position:p.create(0,0,0),scale:p.create(1.5,1.5,1.5),rotation:V.fromEulerDegrees(0,180,0),parent:s},"models/countNumber/num2.glb"),c=ie.createGltfShape({position:p.create(-.5,0,0),scale:p.create(1.5,1.5,1.5),rotation:V.fromEulerDegrees(0,180,0),parent:s},"models/countNumber/num3.glb");return $d.create(s,{digitEntity:a,tenthEntity:f,hundredthEntity:c,startTranform:r,endTransform:n,currentNumber:-1}),Ot.attach(a,!1),Ot.attach(f,!1),Ot.attach(c,!1),e.initEvent(s),s}static playCountDownSound(t){Vo.createOrReplace(t,{audioClipUrl:"sounds/tick.mp3",loop:!1,playing:!0})}static playAlarmSound(t){Vo.createOrReplace(t,{audioClipUrl:"sounds/alarm.mp3",loop:!1,playing:!0})}static runEffect(t){let r=$d.getMutable(t);r.startTranform.position!=null&&r.endTransform.position!=null&&zn.startTranslation(t,r.startTranform.position,r.endTransform.position,1,Ze.EASEOUTQUAD),r.startTranform.scale!=null&&r.endTransform.scale!=null&&zn.startScaling(t,r.startTranform.scale,r.endTransform.scale,1,Ze.EASEOUTQUAD),r.startTranform.rotation!=null&&r.endTransform.rotation!=null&&zn.startRotation(t,r.startTranform.rotation,r.endTransform.rotation,1,Ze.EASEOUTQUAD)}static initEvent(t){Ne.on("countdown.setTime",r=>{e.startCountDown(t,r.time)})}static startCountDown(t,r){let n=$d.getMutable(t);n.currentNumber=r,e.displayNumber(t),n.timerId!==void 0&&gt.clearInterval(n.timerId),n.timerId=gt.setInterval(()=>{n.currentNumber-=1,e.displayNumber(t),e.runEffect(t),n.currentNumber<0&&(e.playAlarmSound(n.digitEntity),gt.clearInterval(n.timerId),n.timerId=void 0,Ot.set(n.digitEntity,!1))},1)}static displayNumber(t){let r=$d.get(t);if(r.currentNumber<0)return;Ot.set(r.digitEntity,!0),e.playCountDownSound(r.digitEntity);let n=Math.floor(r.currentNumber/100),s=Math.floor(r.currentNumber%100/10),a=r.currentNumber%10;co.createOrReplace(r.hundredthEntity,{src:`models/countNumber/num${n}.glb`}),co.createOrReplace(r.tenthEntity,{src:`models/countNumber/num${s}.glb`}),co.createOrReplace(r.digitEntity,{src:`models/countNumber/num${a}.glb`});let f=De.getMutable(r.hundredthEntity),c=De.getMutable(r.tenthEntity),l=De.getMutable(r.digitEntity);n==0&&s==0?(l.position.x=0,Ot.set(r.tenthEntity,!1),Ot.set(r.hundredthEntity,!1)):n==0?(Ot.set(r.hundredthEntity,!1),Ot.set(r.tenthEntity,!0),c.position.x=-.3,l.position.x=.3):(Ot.set(r.hundredthEntity,!0),Ot.set(r.tenthEntity,!0),Ot.set(r.digitEntity,!0),f.position.x=-.5,c.position.x=0,l.position.x=.5)}static userpressInputSystem(t){lt.isAuth&&zi.isTriggered(pe.IA_ACTION_3,jr.PET_DOWN)&&po.setVisible(!0)}};var Kd=class{static create(t){let r=ie.createPosition(t),n=ie.createBox({position:p.create(0,0,0),scale:p.create(1.3,.8,.05),parent:r},!0),s=ie.createText({position:p.create(0,0,-.04),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:r},{text:`PRIVATE AREA 
 Waiting for 
permission`,textColor:xe.fromHexString("#c15707"),fontSize:1.7,outlineWidth:.3,lineSpacing:-.5,outlineColor:rt.fromHexString("#c15707"),textAlign:dr.TAM_MIDDLE_CENTER})}};var yl=class{static create(){if(qe.themeFeature==1){let t=ie.createGltfShape({position:p.create(14,.7,28.97),scale:p.create(2,2,2),rotation:V.fromEulerDegrees(0,0,0)},"models/SeasonDecoration/XMas/xmas_tree4.glb"),r=ie.createGltfShape({position:p.create(12.5,1,28.97),scale:p.create(1.5,1.5,1.5),rotation:V.fromEulerDegrees(0,30,0)},"models/SeasonDecoration/XMas/gift1.glb"),n=ie.createGltfShape({position:p.create(13.5,.9,27.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,20,0)},"models/SeasonDecoration/XMas/gift2.glb");for(let s=0;s<7;s++){let a=Math.random()*2+.5,f=ie.createPlane({position:p.create(.95,Math.random()*5+1,Math.random()*5+8.2),scale:p.create(a,a,a),rotation:V.fromEulerDegrees(0,90,Math.random()*90+0)},"images/SeasonDecoration/XMas/Crystal-Snowflake-3.png"),c=ie.createPlane({position:p.create(Math.random()*5.5+0,Math.random()*5+1,7.7),scale:p.create(a,a,a),rotation:V.fromEulerDegrees(0,0,Math.random()*90+0)},"images/SeasonDecoration/XMas/Crystal-Snowflake-3.png")}}else if(qe.themeFeature==3){let t=ie.createGltfShape({position:p.create(13.4,.75,28.5),scale:p.create(.3,.3,.3)},"models/SeasonDecoration/LunarNewYear/table with cloth new2.glb"),r=ie.createGltfShape({position:p.create(1.25,4,-.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,180,0),parent:t},"models/SeasonDecoration/LunarNewYear/flower_vase2.glb"),n=ie.createPlane({position:p.create(5,5,7.7),scale:p.create(2,4.5,2),rotation:V.fromEulerDegrees(0,180,0)},"images/SeasonDecoration/LunarNewYear/TetBanner1.png"),s=ie.createPlane({position:p.create(2.1,5,7.7),scale:p.create(2,4.5,2),rotation:V.fromEulerDegrees(0,180,0)},"images/SeasonDecoration/LunarNewYear/TetBanner2.png")}}};yl.tetBanner1={texture:Fe.Texture.Common({src:"images/SeasonDecoration/LunarNewYear/TetBanner1.png",filterMode:nc.TFM_BILINEAR,wrapMode:tc.TWM_CLAMP})},yl.tetBanner2={texture:Fe.Texture.Common({src:"images/SeasonDecoration/LunarNewYear/TetBanner2.png",filterMode:nc.TFM_BILINEAR,wrapMode:tc.TWM_CLAMP})};var V0=Q.defineComponent("objectControlComoponent",{slideObject:B.Entity}),Ma=class e{static create(t,r){let n=ie.createPosition(t),s=ie.createGltfShape({position:p.create(0,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:n},"models/lectern.glb"),a=ie.createGltfShape({position:p.create(0,2.2,0),scale:p.create(5.5,5.5,5.5),rotation:V.fromEulerDegrees(-45,0,0),parent:n},"models/red_button.glb",[{clip:"trigger",playing:!1,loop:!1}]);return wt.setEvents(a,[{button:pe.IA_POINTER,hoverText:"First Object",maxDistance:10,eventCallback:f=>{ft.playSingleAnimation(a,"trigger");let c=e.getFirstObject();c&&pr.setSlide(c.slide)}},{button:pe.IA_PRIMARY,hoverText:"Next Object",maxDistance:10,eventCallback:f=>{ft.playSingleAnimation(a,"trigger");let c=e.getNextObject();c&&pr.setSlide(c.slide)}},{button:pe.IA_SECONDARY,hoverText:"Object List",maxDistance:10,eventCallback:f=>{ft.playSingleAnimation(a,"trigger"),On.setVisible(!0)}}]),V0.create(n,{slideObject:r}),e.entity=n,n}static bindComponent(t,r){return wt.setEvents(t,[{button:pe.IA_POINTER,hoverText:"First Object",maxDistance:10,eventCallback:n=>{let s=e.getFirstObject();s&&pr.setSlide(s.slide)}},{button:pe.IA_PRIMARY,hoverText:"Next Object",maxDistance:10,eventCallback:n=>{let s=e.getNextObject();s&&pr.setSlide(s.slide)}},{button:pe.IA_SECONDARY,hoverText:"Object List",maxDistance:10,eventCallback:n=>{On.setVisible(!0)}}]),V0.create(t,{slideObject:r}),e.entity=t,t}static getFirstObject(){let t=Object.values(On.slideModels);for(let r of t)if(r.slide&&r.slide>0)return r;return null}static getNextObject(){let t=Object.values(On.slideModels),r=!1;for(let n of t){if(r&&n.slide&&n.slide>0)return n;n.slide&&n.slide==On.currentSlide&&(r=!0)}return null}static displaySlideModel(t){let r=V0.get(t),n=On.getCurrentModel();n?pr.showModel(r.slideObject,n):pr.showLogo(r.slideObject)}static initEvent(){Ne.on("screen.setSlide",t=>{On.currentSlide=t.slideNum,e.displaySlideModel(e.entity)}),Ne.on("slideobject.changeModel",t=>{On.currentSlide=t.slideNum,e.displaySlideModel(e.entity)}),rr.events.on("sync",t=>{let r=[];try{r=JSON.parse(t.synchronize3d??"[]")}catch(n){console.error("Model JSON error",n)}On.slideModels={},On.currentSlide=t.currentSlide;for(let n of r)n.slide!=null&&(On.slideModels[n.slide]=n);console.log("Slide models:",On.slideModels),On.onSync(),this.displaySlideModel(e.entity)})}};Ma.initEvent();var _a=class{static create(t,r){let n="models/bangdieukhien",s=ie.createPosition(t),a={position:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0),scale:p.create(1,1,1),parent:s},f=new hr({rayType:"pointer",size:hl.create(.1,.1),offset:.5,lifeTime:1,albedoColor:xe.White(),emissiveColor:xe.Red(),emissiveIntensity:20,castType:0}),c=ie.createGltfShape(a,`${n}/new_table.glb`),l=mt.create(a,`${n}/ai_btn.glb`,[]),y=mt.create(a,`${n}/move_btn.glb`,[]),g=mt.create(a,`${n}/pause_btn.glb`,[]),M=mt.create(a,`${n}/play_btn.glb`,[]),w=mt.create(a,`${n}/refresh_btn.glb`,[]),I=mt.create(a,`${n}/view_3d_btn.glb`,[]),P=yr.getSlideObject(r);P&&Ma.bindComponent(I,P);let S=mt.create(a,`${n}/next_slide_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Next slide",maxDistance:je.ButtonDistance,eventCallback:H=>{je.screenMode(je.entity,1),je.nextSlide(je.entity)}}]),x=mt.create(a,`${n}/prev_slide_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Previous slide",maxDistance:je.ButtonDistance,eventCallback:H=>{je.screenMode(je.entity,1),je.prevSlide(je.entity)}}]),k=mt.create(a,`${n}/jump_slide_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Go to slide",maxDistance:je.ButtonDistance,eventCallback:H=>{let le=Ei.get(je.entity);ul.show(le.currentSlide,le.maxSlide)}}]),N=mt.create(a,`${n}/first_slide_btn.glb`,[{button:pe.IA_POINTER,hoverText:"First slide",maxDistance:je.ButtonDistance,eventCallback:H=>{je.screenMode(je.entity,1),je.setSlide(je.entity,1)}}]),F=mt.create(a,`${n}/slide_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Slide mode",maxDistance:je.ButtonDistance,eventCallback:H=>{je.screenMode(je.entity,1)}}]),ae=mt.create(a,`${n}/video_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Video mode",maxDistance:je.ButtonDistance,eventCallback:H=>{je.screenMode(je.entity,2)}},{button:pe.IA_PRIMARY,hoverText:"Restart video",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Restart video"),je.screenMode(je.entity,2),Ne.emit("screen.reset",{})}},{button:pe.IA_SECONDARY,hoverText:"Video List",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Video List"),Qr.setVisible(!0)}}]),Ae=mt.create(a,`${n}/quiz_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Quiz mode",maxDistance:je.ButtonDistance,eventCallback:H=>{je.quizMode(je.entity,1)}},{button:pe.IA_PRIMARY,hoverText:"Quiz mode (Tile)",maxDistance:je.ButtonDistance,eventCallback:H=>{je.quizMode(je.entity,2)}}]),ne=mt.create(a,`${n}/person_view_btn.glb`,[{button:pe.IA_PRIMARY,hoverText:"View slide",eventCallback:H=>{console.log("View slide"),cn.toggleSingleActiveSync("slide")}},{button:pe.IA_SECONDARY,hoverText:"View model",eventCallback:H=>{console.log("View model"),cn.toggleSingleActiveSync("model")}}]),j=mt.create(a,`${n}/laze_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Laze mode",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Laze mode",!!hr.currentCaster),hr.currentCaster?hr.currentCaster=void 0:hr.currentCaster=f}}]);hr.currentCaster=f;let se=mt.create(a,`${n}/quiz_triangle.glb`,[{button:pe.IA_POINTER,hoverText:"Triangle is correct answer",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Triangle is correct answer"),ln.onCorrectPressed("triangle")}}]),oe=mt.create(a,`${n}/quiz_circle.glb`,[{button:pe.IA_POINTER,hoverText:"Circle is correct answer",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Circle is correct answer"),ln.onCorrectPressed("circle")}}]),$=mt.create(a,`${n}/quiz_square.glb`,[{button:pe.IA_POINTER,hoverText:"Square is correct answer",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Square is correct answer"),ln.onCorrectPressed("square")}}]),A=mt.create(a,`${n}/quiz_diamond.glb`,[{button:pe.IA_POINTER,hoverText:"Diamond is correct answer",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Diamond is correct answer"),ln.onCorrectPressed("diamond")}}]),O=mt.create(a,`${n}/count_down_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Activate count down",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Countdown pressed"),po.setVisible(!0)}}]);return je.bindComponent(s),s}};var So=Q.defineComponent("screenCompnent",{slideUrl:B.String,videoUrl:B.Optional(B.String),mode:B.Number,slideNum:B.Number,maxSlide:B.Number,videoTitle:B.String,screenStatusText:B.Entity,winnerText:B.Entity,videoStatusText:B.Entity,videoStatus:B.Map({state:B.Number,currentTimestamp:B.Number,videoLength:B.Number},{state:br.VS_NONE,currentTimestamp:-1,videoLength:0})}),te=class te{static create(t,r,n){te.entity=ie.createPlane(t),Fe.setPbrMaterial(te.entity,{texture:Fe.Texture.Common({src:r}),emissiveTexture:Fe.Texture.Common({src:r}),emissiveIntensity:te.ScreenBrightness,emissiveColor:rt.White()});let s=ie.createText({position:p.create(-.51,.5,0),scale:p.create(.024,.055,.027),rotation:V.fromEulerDegrees(0,0,0),parent:te.entity},{text:"Slide Mode: 1/20",textColor:xe.fromHexString("#f18535"),fontSize:16,outlineWidth:.3,outlineColor:rt.fromHexString("#f18535"),textAlign:dr.TAM_BOTTOM_LEFT,lineSpacing:-25,lineCount:2}),a=ie.createText({position:p.create(.5,.5,0),scale:p.create(.024,.055,.027),rotation:V.fromEulerDegrees(0,0,0),parent:te.entity},{text:"",textColor:xe.fromHexString("#f18535"),fontSize:16,outlineWidth:.3,outlineColor:rt.fromHexString("#f18535"),textAlign:dr.TAM_BOTTOM_RIGHT,lineSpacing:-10}),f=ie.createText({position:p.create(-.5,-.6,0),scale:p.create(.024,.052,.027),rotation:V.fromEulerDegrees(0,0,0),parent:te.entity},{text:"",textColor:te.VideoNormalTextColor,fontSize:16,outlineWidth:.4,outlineColor:te.VideoNormalTextColor,textAlign:dr.TAM_BOTTOM_LEFT});if(So.create(te.entity,{mode:1,screenStatusText:s,videoStatusText:f,winnerText:a,slideUrl:r,videoUrl:n}),qe.buildingTemplate=="9"){let c=ie.createGltfShape({position:p.create(0,-.52,0),scale:p.create(.2,.45,.25),rotation:V.fromEulerDegrees(0,90,0),parent:te.entity},"models/shared_photo/photo_pannel.glb"),l=ie.createGltfShape({position:p.create(0,-.8,0),scale:p.create(1.2,.7,1),rotation:V.fromEulerDegrees(0,0,0),parent:te.entity},"models/new_building_object/screen_base.glb")}return te.setScreenEvent(te.entity,1),te.entity}static setScreenMode(t,r,n=!1){let s=So.getMutable(t);if(r==1){if(wa.has(t)){let a=wa.getMutable(t);a.playing=!1}s.mode=1,Fe.setPbrMaterial(t,{texture:Fe.Texture.Common({src:s.slideUrl}),emissiveTexture:Fe.Texture.Common({src:s.slideUrl}),emissiveIntensity:te.ScreenBrightness,emissiveColor:rt.White()}),te.setScreenText(t,`Slide Mode: ${s.slideNum}/${s.maxSlide}`),te.setVideoText(t,""),te.setScreenEvent(t,r)}else{s.mode=2;let a=Qr.getCurrentItem();if(s.videoUrl=a?.url,s.videoTitle=a?.name??"No video",s.videoUrl){wa.createOrReplace(t,{src:s.videoUrl,playing:!0});let f=Fe.Texture.Video({videoPlayerEntity:t});Fe.setPbrMaterial(t,{texture:f,emissiveTexture:f,emissiveIntensity:te.ScreenBrightness,emissiveColor:rt.White()}),te.setScreenText(t,`Video Mode:
${s.videoTitle}`),te.setScreenEvent(t,r),n&&te.restartVideo(t)}else Fe.setPbrMaterial(t,{albedoColor:xe.Black(),roughness:.7,metallic:.5}),te.setScreenText(t,"Video Mode: No video"),te.setVideoText(t,"")}}static setScreenEvent(t,r){r==1?wt.setEvents(t,[{button:pe.IA_PRIMARY,hoverText:"Full Screen",maxDistance:20,eventCallback:n=>{mi.setVisible(!0)}}]):wt.setEvents(t,[{button:pe.IA_POINTER,hoverText:"Play/Pause",maxDistance:15,eventCallback:n=>{let s=wa.get(t);Ne.emit("screen.pause",{playState:!s.playing});let a=[{name:"videoState",value:s.playing?0:1}];He.emit("status.set",a)}}])}static setSlide(t,r,n,s){let a=So.getMutable(t);a.slideNum=n,a.slideUrl=r,s!==void 0&&(a.maxSlide=s),Fe.setPbrMaterial(t,{texture:Fe.Texture.Common({src:a.slideUrl}),emissiveTexture:Fe.Texture.Common({src:a.slideUrl}),emissiveIntensity:te.ScreenBrightness,emissiveColor:rt.White()}),mi.slideUrl=r,te.setScreenText(t,`Slide Mode: ${a.slideNum}/${a.maxSlide}`),te.setVideoText(t,"")}static setVideo(t,r,n){let s=So.getMutable(t);console.log("Set video:",r,n),s.mode=2,s.videoUrl=r,s.videoTitle=n,wa.createOrReplace(t,{src:s.videoUrl,playing:!0});let a=Fe.Texture.Video({videoPlayerEntity:t});Fe.setPbrMaterial(t,{texture:a,emissiveTexture:a,emissiveIntensity:te.ScreenBrightness,emissiveColor:rt.White()}),te.setScreenText(t,`Video Mode:
${s.videoTitle}`)}static setVideoPause(t,r){let n=wa.getMutable(t);n.playing=r}static restartVideo(t){let r=So.get(t);this.setVideo(t,"https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875","Restarting video"),gt.setTimeout(()=>{this.setVideo(t,r.videoUrl,r.videoTitle)},.5)}static setScreenText(t,r){let n=So.get(t),s=Fo.getMutable(n.screenStatusText);s.text=r}static setVideoText(t,r,n){let s=So.get(t),a=Fo.getMutable(s.videoStatusText);a.text=r,n&&(a.textColor=n,a.outlineColor=n)}static setWinnerText(t,r){let n=So.get(t),s=Fo.getMutable(n.winnerText);s.text=r}static initEvent(){Ne.on("screen.setmode",t=>{te.setScreenMode(te.entity,t.mode)}),Ne.on("screen.pause",t=>{te.setVideoPause(te.entity,t.playState)}),Ne.on("screen.reset",t=>{te.restartVideo(te.entity)}),Ne.on("screen.setSlide",t=>{console.log("Set slide",t),te.setSlide(te.entity,t.slideUrl,t.slideNum,t.maxSlide)}),Ne.on("screen.setVideo",t=>{te.setScreenMode(te.entity,2),t.url&&te.setVideo(te.entity,t.url,t.title),Qr.videos.forEach(r=>{r.isActive=r.url==t.url})}),Ne.on("quizmanager.itemmode",t=>{te.setWinnerText(te.entity,"Choose a correct answer")}),Ne.on("quizmanager.tilemode",t=>{te.setWinnerText(te.entity,"Step on the correct answer")}),Ne.on("quizmanager.off",t=>{te.setWinnerText(te.entity,"")}),Ne.on("quiz.winner",t=>{if(t.players.length<=0)te.setWinnerText(te.entity,"No one got the correct answer :(");else if(t.players.length==1){let r=t.players[0].username;te.setWinnerText(te.entity,"Winner: "+r)}else if(t.players.length==2){let r=t.players[0].username+" , "+t.players[1].username;te.setWinnerText(te.entity,"Winner: "+r)}else{let r=t.players[0].username+" , "+t.players[1].username+"...";te.setWinnerText(te.entity,"Winner: "+r)}}),rr.events.on("sync",t=>{let r=So.getMutable(te.entity),n=[];try{n=JSON.parse(t.videoUrl)}catch{console.log("Error parsing video list data")}if(Qr.videos=n,te.setScreenMode(te.entity,t.slideVideoMode),t.slideVideoMode==1){let s=`${t.slideDirectory??"images/slides/Slide"}${t.currentSlide}.jpg`;te.setSlide(te.entity,s,t.currentSlide,t.maxSlide)}else{let s=Qr.getCurrentItem();s?te.setVideo(te.entity,s.url,s.name):te.setScreenText(te.entity,"Video Mode: No video"),r.maxSlide=t.maxSlide,r.slideNum=t.currentSlide,r.slideUrl=`${t.slideDirectory??"images/slides/Slide"}${t.currentSlide}.jpg`}})}static videoEventSysten(t){let r=BE.getVideoState(te.entity);if(te.videoData&&te.videoData.state==br.VS_PLAYING){let n=So.getMutable(te.entity);n.videoStatus.currentTimestamp+=t,te.setVideoText(te.entity,`Playing ${gl(n.videoStatus.currentTimestamp)} / ${gl(n.videoStatus.videoLength)}`),n.mode==1&&te.setVideoText(te.entity,"")}if(!te.videoData||te.videoData.timestamp!=r?.timestamp){let n=So.getMutable(te.entity);switch(te.videoData=r,te.videoData?.state){case br.VS_READY:te.setVideoText(te.entity,"Ready",te.VideoNormalTextColor);break;case br.VS_LOADING:te.setVideoText(te.entity,"Loading...",te.VideoWarningTextColor);break;case br.VS_BUFFERING:te.setVideoText(te.entity,"Buffering...",te.VideoWarningTextColor);break;case br.VS_PLAYING:n.videoStatus.videoLength=te.videoData.videoLength,n.videoStatus.currentTimestamp=te.videoData.currentOffset,te.setVideoText(te.entity,`Playing ${gl(n.videoStatus.currentTimestamp)} / ${gl(n.videoStatus.videoLength)}`,te.VideoNormalTextColor);break;case br.VS_PAUSED:n.videoStatus.currentTimestamp>=n.videoStatus.videoLength?te.setVideoText(te.entity,"Video Ended",te.VideoNormalTextColor):te.setVideoText(te.entity,`Paused ${gl(n.videoStatus.currentTimestamp)} / ${gl(n.videoStatus.videoLength)}`,te.VideoNormalTextColor);break;case br.VS_SEEKING:te.setVideoText(te.entity,"Seeking...",te.VideoWarningTextColor);break;case br.VS_ERROR:te.setVideoText(te.entity,"Video Error",te.VideoDangerTextColor);break;case br.VS_NONE:break;default:te.setVideoText(te.entity,"",te.VideoNormalTextColor);break}n.mode==1&&te.setVideoText(te.entity,"")}}};te.VideoNormalTextColor=xe.fromHexString("#f18535ff"),te.VideoWarningTextColor=xe.fromHexString("#ff8800ff"),te.VideoDangerTextColor=xe.Red(),te.ScreenBrightness=.9;var xo=te;xo.initEvent();Q.addSystem(e=>xo.videoEventSysten(e));function gl(e){if(e<0)return"--:--";let t=Math.floor(e/60),r=Math.round(e%60);return`${t>=10?t:"0"+t}:${r>=10?r:"0"+r}`}var Oa=Q.defineComponent("doorComponent",{opening:B.Boolean,hasPlayer:B.Boolean,locked:B.Boolean,animation:B.String,openTime:B.Number,holdTimer:B.Number}),Ba=class e{static create(t,r){let n=ie.createGltfShape(t,r.src,[{clip:r.animation,loop:!1,playing:!1}]),s=ie.createPosition({position:r.triggerAreaTransform.position,parent:n});return Oa.createOrReplace(n,{locked:r.locked,opening:!1,animation:r.animation,openTime:r.animOpenTime,holdTimer:-1}),Zn.addTrigger(s,Kn,yo,[{type:"box",scale:r.triggerAreaTransform.scale}],a=>{let f=Oa.getMutable(n);f.hasPlayer=!0,f.locked?(mo.setVisible(!0),mo.onCorrectPassword=()=>{mo.setVisible(!1),e.unlock(n),r.onCorrectPassword?.()}):e.open(n)},()=>{mo.setVisible(!1);let a=Oa.getMutable(n);a.hasPlayer=!1,!a.locked&&e.close(n)},rt.Blue()),rr.events.on("sync",a=>{a.nopassword&&e.unlock(n,!1),mo.setVisible(!1),r.onCorrectPassword?.()}),n}static unlock(t,r=!0){let n=Oa.getMutable(t);n.locked=!1,r&&e.open(t)}static open(t){let r=Oa.getMutable(t);r.opening=!0,ft.playSingleAnimation(t,r.animation),r.holdTimer!=-1&&gt.clearTimeout(r.holdTimer),r.holdTimer=gt.setTimeout(()=>{let n=Oa.getMutable(t);n.hasPlayer?ft.getClip(t,n.animation).playing=!1:e.close(t),n.holdTimer=-1},r.openTime)}static close(t){let r=Oa.getMutable(t);r.opening=!1,ft.getClip(t,r.animation).shouldReset=!1,ft.getClip(t,r.animation).playing=!0,r.holdTimer!=-1&&gt.clearTimeout(r.holdTimer),r.holdTimer=-1}};var W0=new Hi,zc=Q.defineComponent("windowComponent",{name:B.String,open:B.Boolean,openAnimation:B.String,closeAnimation:B.String}),Dc=class e{static create(t,r){let n=ie.createGltfShape(t,r.src,[{clip:r.openAnimation,loop:!1,playing:r.opening??!0},{clip:r.closeAnimation,loop:!1,playing:r.opening===void 0?!1:!r.opening}]);zc.create(n,{name:r.name,open:r.opening??!0,openAnimation:r.openAnimation,closeAnimation:r.closeAnimation}),wt.setEvents(n,[{button:pe.IA_POINTER,hoverText:"Open/Close window",maxDistance:15,eventCallback:s=>{e.toggleOpenSync(n)}}])}static setOpen(t,r){let n=zc.getMutable(t);n.open=r,ft.playSingleAnimation(t,n.open?n.openAnimation:n.closeAnimation)}static setOpenSync(t,r){let n=zc.getMutable(t);W0.emit("window.setOpen",{name:n.name,open:r})}static toggleOpenSync(t){let r=zc.getMutable(t);W0.emit("window.setOpen",{name:r.name,open:!r.open})}static findByName(t){let r=Q.getEntitiesWith(zc);for(let[n,s]of r)if(s.name==t)return n;return null}static initEvent(){W0.on("window.setOpen",t=>{let r=e.findByName(t.name);r&&e.setOpen(r,t.open)})}};Dc.initEvent();var gT=require("~system/RestrictedActions");var ce=class ce{static create(t){let r=ie.createPosition(t);return ce.photoPlane=ie.createPlane({position:p.create(0,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:r}),Fe.setPbrMaterial(ce.photoPlane,{texture:Fe.Texture.Common({src:"images/no-photo.png"}),emissiveTexture:Fe.Texture.Common({src:"images/no-photo.png"}),emissiveIntensity:1,emissiveColor:rt.White()}),ce.prevPhotoBtn=ie.createGltfShape({position:p.create(-.65,0,-.02),scale:p.create(.25,.5,.25),rotation:V.fromEulerDegrees(0,-90,0),parent:r},"models/shared_photo/photo_btn.glb",[{clip:"rotate",playing:!1,loop:!1}]),ce.powerBtn=ie.createGltfShape({position:p.create(.6,-.32,-.01),scale:p.create(.06,.09,.06),rotation:V.fromEulerDegrees(0,180,0),parent:r},"models/shared_photo/power_button3.glb",[{clip:"turnoff",playing:!1,loop:!1},{clip:"turnon",playing:!0,loop:!1}]),ce.nextPhotoBtn=ie.createGltfShape({position:p.create(.65,0,-.02),scale:p.create(.25,.5,.25),rotation:V.fromEulerDegrees(0,90,0),parent:r},"models/shared_photo/photo_btn.glb",[{clip:"rotate",playing:!1,loop:!1}]),qe.buildingTemplate=="8"||qe.buildingTemplate=="9"?ce.qrCodePlane=ie.createPlane({position:p.create(-1.05,.1,0),scale:p.create(.5,1,.5),rotation:V.fromEulerDegrees(0,0,0),parent:r}):parseInt(qe.buildingTemplate)<=5?(ce.qrCodePlane=ie.createPlane({position:p.create(-.95,.1,0),scale:p.create(.4,.8,.4),rotation:V.fromEulerDegrees(0,0,0),parent:r}),ce.photoPanel=ie.createGltfShape({position:p.create(0,-.5,.002),scale:p.create(.25,.45,.25),rotation:V.fromEulerDegrees(0,90,0),parent:r},"models/shared_photo/shared_photo_panel_4.glb",[{clip:"turnoff",playing:!1,loop:!1},{clip:"turnon",playing:!0,loop:!1}])):ce.qrCodePlane=ie.createPlane({position:p.create(1.05,.1,0),scale:p.create(.5,1,.5),rotation:V.fromEulerDegrees(0,0,0),parent:r}),Fe.setPbrMaterial(ce.qrCodePlane,{texture:Fe.Texture.Common({src:"images/no-photo.png"}),emissiveTexture:Fe.Texture.Common({src:"images/no-photo.png"}),emissiveIntensity:1,emissiveColor:rt.White()}),ce.photoAlbumText=ie.createText({position:p.create(0,.62,0),scale:p.create(.048,.11,.054),rotation:V.fromEulerDegrees(0,0,0),parent:r},{text:"Photo Album",textColor:xe.fromHexString("#f18535"),fontSize:16,outlineWidth:.3,outlineColor:rt.fromHexString("#f18535"),textAlign:dr.TAM_MIDDLE_CENTER,lineSpacing:-25,lineCount:2}),Je.create(ce.photoPlane,{visible:!0}),Je.create(ce.photoAlbumText,{visible:!0}),Je.create(ce.qrCodePlane,{visible:!0}),Je.create(ce.prevPhotoBtn,{visible:!0}),Je.create(ce.nextPhotoBtn,{visible:!0}),ce.updatePhotoAlbumImage(),ce.addOpenUploadImageLink(),ce.checkChangePhotoBtnEvent(),ce.powerBtnPointerEvent(),ce.initPowerBtnStatus(),ce.changePowerBtnStatus(),r}static updateQrImage(){let t=`${this.getServerUrl()}/qrcode/${He.position}/${He.realm}@${He.position}.png`;console.log("qr image link: ",t),Fe.setPbrMaterial(ce.qrCodePlane,{texture:Fe.Texture.Common({src:t}),emissiveTexture:Fe.Texture.Common({src:t}),emissiveIntensity:1,emissiveColor:rt.White()})}static prevPhotoBtnPointerEvent(){wt.setEvents(ce.prevPhotoBtn,[{button:pe.IA_POINTER,hoverText:"Previous Photo",maxDistance:15,eventCallback:t=>{He.emit("shareimage.prev",ce.currentIndex),ft.playSingleAnimation(ce.prevPhotoBtn,"rotate",!1),ce.currentIndex--,ce.checkChangePhotoBtnEvent(),ce.updatePhotoAlbumImage()}}])}static nextPhotoBtnPointerEvent(){wt.setEvents(ce.nextPhotoBtn,[{button:pe.IA_POINTER,hoverText:"Next Photo",maxDistance:15,eventCallback:t=>{He.emit("shareimage.next",ce.currentIndex),ft.playSingleAnimation(ce.nextPhotoBtn,"rotate",!1),ce.currentIndex++,ce.checkChangePhotoBtnEvent(),ce.updatePhotoAlbumImage()}}])}static updatePhotoAlbumImage(){He.on("shareimage.update",t=>{ce.currentIndex=t.currentIndex,ce.imageCount=t.imageCount,t.currentImage!=null&&Fe.setPbrMaterial(ce.photoPlane,{texture:Fe.Texture.Common({src:qe.socketAddress.replace("wss://","https://").replace("/ws","")+t.currentImage}),emissiveTexture:Fe.Texture.Common({src:qe.socketAddress.replace("wss://","https://").replace("/ws","")+t.currentImage}),emissiveIntensity:1,emissiveColor:rt.White()})})}static initPowerBtnStatus(){He.on("shareimage.update",t=>{if(ce.powerStatus=t.visible,console.log("power status: ",ce.powerStatus),t.visible){ft.playSingleAnimation(ce.powerBtn,"turnon"),ft.playSingleAnimation(ce.photoPanel,"turnon");let r=Je.getMutable(ce.photoPlane);r.visible=!0;let n=Je.getMutable(ce.photoAlbumText);n.visible=!0;let s=Je.getMutable(ce.qrCodePlane);s.visible=!0;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!0;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!0}else{ft.playSingleAnimation(ce.photoPanel,"turnoff"),ft.playSingleAnimation(ce.powerBtn,"turnoff");let r=Je.getMutable(ce.photoPlane);r.visible=!1;let n=Je.getMutable(ce.photoAlbumText);n.visible=!1;let s=Je.getMutable(ce.qrCodePlane);s.visible=!1;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!1;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!1}})}static changePowerBtnStatus(){He.on("shareimage.update.visible",t=>{if(ce.powerStatus=t.visible,console.log("power status: ",ce.powerStatus),t.visible){ft.playSingleAnimation(ce.powerBtn,"turnon"),ft.playSingleAnimation(ce.photoPanel,"turnon");let r=Je.getMutable(ce.photoPlane);r.visible=!0;let n=Je.getMutable(ce.photoAlbumText);n.visible=!0;let s=Je.getMutable(ce.qrCodePlane);s.visible=!0;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!0;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!0}else{ft.playSingleAnimation(ce.photoPanel,"turnoff"),ft.playSingleAnimation(ce.powerBtn,"turnoff");let r=Je.getMutable(ce.photoPlane);r.visible=!1;let n=Je.getMutable(ce.photoAlbumText);n.visible=!1;let s=Je.getMutable(ce.qrCodePlane);s.visible=!1;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!1;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!1}})}static checkChangePhotoBtnEvent(){console.log("current index: ",ce.currentIndex,"image count: ",ce.imageCount),ce.currentIndex==0?wt.removeEvent(ce.prevPhotoBtn):ce.prevPhotoBtnPointerEvent(),this.currentIndex==this.imageCount-1?wt.removeEvent(ce.nextPhotoBtn):ce.nextPhotoBtnPointerEvent()}static addOpenUploadImageLink(){wt.setEvents(ce.qrCodePlane,[{button:pe.IA_POINTER,hoverText:"Open upload image link",maxDistance:15,eventCallback:t=>{(0,gT.openExternalUrl)({url:`${ce.getServerUrl()}/rooms/${He.realm}@${He.position}/shareimage`})}}])}static getServerUrl(){return qe.socketAddress.replace("wss://","https://").replace("/ws","")}static powerBtnPointerEvent(){wt.setEvents(ce.powerBtn,[{button:pe.IA_POINTER,hoverText:"Turn On/Off Album",maxDistance:15,eventCallback:t=>{if(console.log("power status: ",ce.powerStatus),ce.powerStatus){He.emit("shareimage.setvisible",{visible:!1}),ft.playSingleAnimation(ce.photoPanel,"turnoff"),ft.playSingleAnimation(ce.powerBtn,"turnoff");let r=Je.getMutable(ce.photoPlane);r.visible=!1;let n=Je.getMutable(ce.photoAlbumText);n.visible=!1;let s=Je.getMutable(ce.qrCodePlane);s.visible=!1;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!1;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!1,ce.powerStatus=!1}else{console.log("realm message power on"),He.emit("shareimage.setvisible",{visible:!0}),ft.playSingleAnimation(ce.powerBtn,"turnon"),ft.playSingleAnimation(ce.photoPanel,"turnon");let r=Je.getMutable(ce.photoPlane);r.visible=!0;let n=Je.getMutable(ce.photoAlbumText);n.visible=!0;let s=Je.getMutable(ce.qrCodePlane);s.visible=!0;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!0;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!0,ce.powerStatus=!0}}}])}};ce.currentIndex=15,ce.imageCount=0,ce.powerStatus=!0;var An=ce;var ET=require("~system/RestrictedActions");var Zd=class Zd{static create(t){let r=ie.createPosition(t),n=ie.createGltfShape({position:p.create(0,0,0),scale:p.create(.5,.5,.5),rotation:V.fromEulerDegrees(0,0,0),parent:r},"models/teleport/mirror9.glb"),s=ie.createGltfShape({position:p.create(0,1,0),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0),parent:r},"models/teleport/quizbox3.glb"),a=ie.createPlane({position:p.create(0,1,0),scale:p.create(1.5,1.5,1.5),rotation:V.fromEulerDegrees(0,90,0),parent:r});return ji.startRotation(s,V.fromEulerDegrees(0,90,0)),rr.events.on("sync",f=>{if(f.tpEnabled&&f.tpPosition!=null&&f.tpPosition.trim()!=""){var c=De.getMutable(n);if(c.scale=p.create(.5,.5,.5),f.tpTitle==Zd.tpQuizZoneTitle){var l=De.getMutable(s);l.scale=p.create(.3,.3,.3);var y=De.getMutable(a);y.scale=p.create(0,0,0);var g=co.getMutable(n);g.src="models/teleport/mirror9.glb"}else{if(f.tpImage!=null){var l=De.getMutable(s);l.scale=p.create(0,0,0);var y=De.getMutable(a);y.scale=p.create(1.5,1.5,1.5),Fe.setPbrMaterial(a,{texture:Fe.Texture.Common({src:f.tpImage}),emissiveTexture:Fe.Texture.Common({src:f.tpImage}),emissiveIntensity:.9,emissiveColor:rt.White()})}var g=co.getMutable(n);g.src="models/teleport/mirror7.glb"}wt.setEvents(n,[{button:pe.IA_POINTER,hoverText:`Teleport to ${f.tpTitle}`,eventCallback:M=>{if(f.tpPosition!=null){var w=f.tpPosition.split(",");(0,ET.teleportTo)({worldCoordinates:{x:Number(w[0]),y:Number(w[1])}})}}}])}else{var c=De.getMutable(n);c.scale=p.create(0,0,0);var l=De.getMutable(s);l.scale=p.create(0,0,0);var y=De.getMutable(a);y.scale=p.create(0,0,0)}}),r}};Zd.tpQuizZoneTitle="Quiz Zone";var Qi=Zd;var TT=require("~system/Runtime");var Yi=class{static create(t,r){let n=ie.createPosition(t);if(Number(qe.buildingTemplate)>5){let c=ie.createGltfShape({position:p.create(0,1.5,0),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0),parent:n},"models/emg_logo/emg_logo.glb")}let s=ie.createGltfShape({position:p.create(-.5,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:n},`models/emg_logo/${qe.buildingLetter}.glb`),a=ie.createGltfShape({position:p.create(-1.5,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:n},"models/emg_logo/dash.glb"),f=ie.createGltfShape({position:p.create(-2.5,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:n},`models/emg_logo/${r}.glb`);return n}};var Uc=class e{static create(t){let r=ie.createGltfShape(t,`models/new_building/new_building${qe.buildingTemplate}.glb`),n=parseInt(qe.buildingTemplate);return n<=5?e.createOldBuildingObjects(r,n):e.createNewBuildingObjects(r,n),r}static async createOldBuildingObjects(t,r){Yi.create({position:p.create(6.5,-.1,.51),scale:p.create(1.1,1.1,1.1),rotation:V.fromEulerDegrees(0,180,0)},Number(qe.buildingTemplate)),je.create({position:p.create(1.9,2,27),scale:p.create(.75,.75,.75),rotation:V.fromEulerDegrees(0,180,0)});let n=cn.create({position:p.create(8.5,1,23.74),scale:p.create(1,1,1)},{name:"slide",cameraLookAt:p.create(8,2,29),cameraMode:_n.CT_FIRST_PERSON}),s=cn.create({position:p.create(3.8,1,17.7),scale:p.create(1,1,1)},{name:"model",cameraLookAt:p.create(3,1,11.5),cameraMode:_n.CT_FIRST_PERSON}),a=yr.create({position:p.create(3.47,0,10.7)},(y,g)=>Qd.create({position:p.create(0,0,0),parent:y},p.create(5.3,7.2,6.3))),f=yr.getSlideObject(a);Ma.create({position:p.create(6.2,0,14.12),scale:p.create(.4,.4,.4),rotation:V.fromEulerDegrees(0,180,0)},f),Yd.create({position:p.create(3.5,.15,5.23),scale:p.create(4,.3,3)}),Kd.create({position:p.create(.28,2,2.17),scale:p.create(1,1,1)}),ln.create({position:p.create(8,.55,28)},{transform:{position:p.create(8,.45,17.56)},tilePositions:[p.create(-6.1,-.43,5),p.create(5.9,-.43,5),p.create(5.9,-.43,-2),p.create(-6.1,-.43,-2)]}),An.create({position:p.create(1,3.2,22),scale:p.create(6,3.3,6),rotation:V.fromEulerDegrees(0,-90,0)}),Qi.create({position:p.create(15,.88,14.69),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)});let c=Pr.create({position:p.create(8.32,6,31.13),scale:p.create(1,1,1)},{position:p.create(8.32,6,31.13),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,180,0)},{position:p.create(8.32,6,30.13),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)}),l=Pr.create({position:p.create(3.47,5,8.21),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)},{position:p.create(3.47,5,8.21),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0)},{position:p.create(3.47,5,9.21),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)});if(wt.addGlobalEvent({button:pe.IA_ACTION_3,eventCallback:y=>{lt.isAuth&&po.setVisible(!0)}}),yl.create(),qe.enablePassword){let y=Rr.create({position:p.create(8,3,17),scale:p.create(15,6,28)},{kickoutPosition:p.create(2,1,.3),kickoutCameraTarget:p.create(3,1,4)});Jd.create({position:p.create(8,0,3),scale:p.create(1,1,1)},()=>{Rr.setEnabled(y,!1),An.updateQrImage(),An.checkChangePhotoBtnEvent()})}else lt.isAuth=!0,lt.role=2}static async createNewBuildingObjects(t,r){let n={position:p.create(0,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:t},s=11;Dc.create(n,{name:"side",src:`models/window_new/window${qe.buildingTemplate}.glb`,opening:!0,openAnimation:"Window_close",closeAnimation:"Window_open"}),qe.enablePassword||(lt.isAuth=!0,lt.role=2);let{realmInfo:a}=await(0,TT.getRealm)({});if(r==6){let f=Rr.create({position:p.create(2.7,s/2,15),scale:p.create(25,s,23.5)},{kickoutPosition:p.create(-13,1.5,14.5),kickoutCameraTarget:p.create(13,3,16.3),enabled:qe.enablePassword});Ba.create(n,{animation:"Animation",animOpenTime:2.5,locked:qe.enablePassword,src:`models/new_building_door/building_door${qe.buildingTemplate}.glb`,triggerAreaTransform:{position:p.create(-8.2,2,-1),scale:p.create(8,3,8)},onCorrectPassword:()=>{Rr.setEnabled(f,!1),An.updateQrImage(),An.checkChangePhotoBtnEvent()}});let c=cn.create({position:p.create(5,1.51,21.8),scale:p.create(1,1,1)},{name:"slide",cameraLookAt:p.create(5,2.7,25.8),cameraMode:_n.CT_FIRST_PERSON}),l=cn.create({position:p.create(5,1.51,13.9),scale:p.create(1,1,1)},{name:"model",cameraLookAt:p.create(3,1,6.1),cameraMode:_n.CT_FIRST_PERSON});xo.create({position:p.create(-5.18,4,-10.32),scale:p.create(-8.55,4.232,.92),parent:t},"images/slides/Slide1.jpg","https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875"),ln.create({position:p.create(5.15,.7,23)},{transform:{position:p.create(7.3,.7,16.5),rotation:V.fromEulerDegrees(0,0,0)},tilePositions:Na.square(8,5)});let y=yr.create({position:p.create(3.8,.7,7.5),scale:p.create(1,1,1)},(w,I)=>ie.createGltfShape({position:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0),parent:w},"models/new_building_object/model_viewer.glb"));_a.create({position:p.create(-1,.6,-5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:t},y),An.create({position:p.create(14.75,4,16),scale:p.create(6,3.3,6),rotation:V.fromEulerDegrees(0,90,0)}),Qi.create({position:p.create(14.5,2,22),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)}),Yi.create({position:p.create(-15.75,4,5.9),scale:p.create(.7,.7,.7),rotation:V.fromEulerDegrees(0,-90,0)},4);let g=Pr.create({position:p.create(5.32,6,25.5),scale:p.create(1,1,1)},{position:p.create(5.32,6,25.5),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,180,0)},{position:p.create(5.32,6,25.1),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)}),M=Pr.create({position:p.create(3.47,5,8.21),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)},{position:p.create(3.47,5,8.21),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0)},{position:p.create(3.47,5,9.21),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)});wt.addGlobalEvent({button:pe.IA_ACTION_3,eventCallback:w=>{lt.isAuth&&po.setVisible(!0)}})}else if(r==7){let f=Rr.create({position:p.create(0,s/2,16),scale:p.create(31.8,s,24)},{kickoutPosition:p.create(.5,.95,.4),kickoutCameraTarget:p.create(0,3,24),enabled:qe.enablePassword});Ba.create(n,{animation:"Animation",animOpenTime:2.5,locked:qe.enablePassword,src:`models/new_building_door/building_door${qe.buildingTemplate}.glb`,triggerAreaTransform:{position:p.create(.5,1.5,-11.8),scale:p.create(8,3,6)},onCorrectPassword:()=>{Rr.setEnabled(f,!1),An.updateQrImage(),An.checkChangePhotoBtnEvent()}});let c=cn.create({position:p.create(.6,1.51,20.1),scale:p.create(1,1,1)},{name:"slide",cameraLookAt:p.create(.6,2.2,23.1),cameraMode:_n.CT_FIRST_PERSON}),l=cn.create({position:p.create(-9.6,1.51,15.4),scale:p.create(1,1,1)},{name:"model",cameraLookAt:p.create(-11.7,1.9,6.4),cameraMode:_n.CT_FIRST_PERSON});xo.create({position:p.create(-.55,3.48,-8.45),scale:p.create(-8.55,4.232,.92),parent:t},"images/slides/Slide1.jpg","https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875"),ln.create({position:p.create(1,.7,22)},{transform:{position:p.create(4,.7,14),rotation:V.fromEulerDegrees(0,0,0)},tilePositions:Na.square(8,5)}),An.create({position:p.create(10.1,3.4,14.2),scale:p.create(6,3.3,6),rotation:V.fromEulerDegrees(0,90,0)});let y=yr.create({position:p.create(-11.5,.7,8.75),scale:p.create(1,1,1)},(w,I)=>ie.createGltfShape({position:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0),parent:w},"models/new_building_object/model_viewer.glb"));_a.create({position:p.create(3,.6,-2),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:t},y),Qi.create({position:p.create(9.8,2,20),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)}),Yi.create({position:p.create(-7.5,4,2.25),scale:p.create(.7,.7,.7),rotation:V.fromEulerDegrees(0,-180,0)},3);let g=Pr.create({position:p.create(.5,5.5,23.8),scale:p.create(1,1,1)},{position:p.create(.5,5.5,23.8),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,180,0)},{position:p.create(.5,5.5,23.4),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)}),M=Pr.create({position:p.create(-11,5.5,6.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)},{position:p.create(-11,5.5,6.5),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0)},{position:p.create(-11,5.5,7),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)});wt.addGlobalEvent({button:pe.IA_ACTION_3,eventCallback:w=>{lt.isAuth&&po.setVisible(!0)}})}else if(r==8){let f=Rr.create({position:p.create(0,s/2,16),scale:p.create(31.6,s,23.8)},{kickoutPosition:p.create(-15,.95,31.15),kickoutCameraTarget:p.create(-12.2,3,4.35),enabled:qe.enablePassword});Ba.create(n,{animation:"Animation",animOpenTime:2.5,locked:qe.enablePassword,src:`models/new_building_door/building_door${qe.buildingTemplate}.glb`,triggerAreaTransform:{position:p.create(-13.9,1.5,11.8),scale:p.create(4,4,5)},onCorrectPassword:()=>{Rr.setEnabled(f,!1),An.updateQrImage(),An.checkChangePhotoBtnEvent()}});let c=cn.create({position:p.create(2.4,1.51,11.4),scale:p.create(1,1,1)},{name:"slide",cameraLookAt:p.create(5.5,2.2,11.4),cameraMode:_n.CT_FIRST_PERSON}),l=cn.create({position:p.create(-11,1.51,14),scale:p.create(1,1,1)},{name:"model",cameraLookAt:p.create(-12.7,1.9,4.5),cameraMode:_n.CT_FIRST_PERSON});xo.create({position:p.create(-6.75,3.48,4.6),scale:p.create(-8.55,4.232,.92),rotation:V.fromEulerDegrees(0,90,0),parent:t},"images/slides/Slide1.jpg","https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875"),ln.create({position:p.create(4.7,.7,11.5),rotation:V.fromEulerDegrees(0,90,0)},{transform:{position:p.create(-2,.7,14),rotation:V.fromEulerDegrees(0,90,0)},tilePositions:Na.square(8,5)});let y=yr.create({position:p.create(-13,.7,7.25),scale:p.create(1,1,1)},(w,I)=>ie.createGltfShape({position:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0),parent:w},"models/new_building_object/model_viewer.glb"));_a.create({position:p.create(-3,.6,9),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,90,0),parent:t},y),Yi.create({position:p.create(-7.66,4,29.3),scale:p.create(.7,.7,.7),rotation:V.fromEulerDegrees(0,0,0)},2),Qi.create({position:p.create(2,2,21),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-90,0)});let g=Pr.create({position:p.create(6.2,5.5,11.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,90,0)},{position:p.create(6.2,5.5,11.5),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,-90,0)},{position:p.create(5.8,5.5,11.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,90,0)}),M=Pr.create({position:p.create(-12.5,5.5,5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)},{position:p.create(-12.5,5.5,5),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0)},{position:p.create(-12.5,5.5,5.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)});An.create({position:p.create(-3.5,3.4,21.05),scale:p.create(6,3.3,6),rotation:V.fromEulerDegrees(0,0,0)}),wt.addGlobalEvent({button:pe.IA_ACTION_3,eventCallback:w=>{lt.isAuth&&po.setVisible(!0)}})}else if(r==9){let f=Rr.create({position:p.create(-7,s/2,16),scale:p.create(17.6,s,24)},{kickoutPosition:p.create(5,1.5,16.5),kickoutCameraTarget:p.create(-14.5,3,15),enabled:qe.enablePassword});Ba.create(n,{animation:"Animation",animOpenTime:2.5,locked:qe.enablePassword,src:`models/new_building_door/building_door${qe.buildingTemplate}.glb`,triggerAreaTransform:{position:p.create(1.5,1.5,0),scale:p.create(6,4,8)},onCorrectPassword:()=>{Rr.setEnabled(f,!1),An.updateQrImage(),An.checkChangePhotoBtnEvent()}});let c=cn.create({position:p.create(-11.7,1.51,13.6),scale:p.create(1,1,1)},{name:"slide",cameraLookAt:p.create(-15.2,2.6,13.6),cameraMode:_n.CT_FIRST_PERSON}),l=cn.create({position:p.create(-11,1.51,17.8),scale:p.create(1,1,1)},{name:"model",cameraLookAt:p.create(-8.8,1.7,26.2),cameraMode:_n.CT_FIRST_PERSON});xo.create({position:p.create(15.5,3.8,2.55),scale:p.create(-8.55,4.232,.92),rotation:V.fromEulerDegrees(0,-90,0),parent:t},"images/slides/Slide1.jpg","https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875"),ln.create({position:p.create(-13.5,.7,13.5),rotation:V.fromEulerDegrees(0,-90,0)},{transform:{position:p.create(-5.5,.7,11),rotation:V.fromEulerDegrees(0,-90,0)},tilePositions:Na.square(8,5)}),An.create({position:p.create(-10.9,4.2,5.3),scale:p.create(6,3.3,6),rotation:V.fromEulerDegrees(0,180,0)});let y=yr.create({position:p.create(9.2,.7,-8),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:t},(w,I)=>ie.createGltfShape({position:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0),parent:w},"models/new_building_object/model_viewer.glb"));_a.create({position:p.create(11,.6,7),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-90,0),parent:t},y),Yi.create({position:p.create(10.2,4,25.9),scale:p.create(.7,.7,.7),rotation:V.fromEulerDegrees(0,90,0)},1),Qi.create({position:p.create(1,2.5,4),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,90,0)});let g=Pr.create({position:p.create(-15,5.5,13.3),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-90,0)},{position:p.create(-15,5.5,13.3),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,90,0)},{position:p.create(-14.5,5.5,13.3),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-90,0)}),M=Pr.create({position:p.create(-10,5.5,26.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)},{position:p.create(-10,5.5,26.5),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,-180,0)},{position:p.create(-10,5.5,26),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)});wt.addGlobalEvent({button:pe.IA_ACTION_3,eventCallback:w=>{lt.isAuth&&po.setVisible(!0)}})}}};var Xd=class{static create(t){let r=ie.createGltfShape(t,"models/stage.glb"),n=xo.create({position:p.create(0,3.4,.55),scale:p.create(-9.3,4.6,1),parent:r},"images/slides/Slide1.jpg","https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875");return r}};function ST(){parseInt(qe.buildingTemplate)<=5?(Uc.create({position:p.create(5.94,-.84,15.419),scale:p.create(.998,.999,.996),rotation:V.fromEulerDegrees(0,180,0)}),Xd.create({position:p.create(7.9,-.17,31),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,180,0)})):Uc.create({position:p.create(0,0,16),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,180,0)})}function em(){ST(),eT()}var El=require("~system/EngineApi");function xT(e){async function t(n){let s=await e.crdtSendToRenderer({data:new Uint8Array(n)});if(s&&s.data&&s.data.length&&r.onmessage)for(let a of s.data)r.onmessage(a)}let r={async send(n){try{await t(n)}catch(s){console.error(s);debugger}},filter(n){return n.componentId>Yp?!1:!!n},type:"renderer"};return r}var G0={"assets/scene/main.composite":{version:1,components:[{name:"core::Transform",jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"},data:{512:{json:{position:{x:8,y:1,z:8},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}}}},{name:"core::MeshRenderer",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"},data:{512:{json:{mesh:{$case:"box",box:{uvs:[]}}}}}},{name:"core-schema::Name",jsonSchema:{type:"object",properties:{value:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},data:{512:{json:{value:"Magic Cube"}}}},{name:"inspector::Scene",jsonSchema:{type:"object",properties:{layout:{type:"object",properties:{base:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},parcels:{type:"array",items:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"}},serializationType:"map"},data:{0:{json:{layout:{base:{x:0,y:0},parcels:[{x:0,y:0}]}}}}},{name:"inspector::Nodes",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{entity:{type:"integer",serializationType:"entity"},children:{type:"array",items:{type:"integer",serializationType:"entity"},serializationType:"array"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{0:{json:{value:[{entity:512,children:[513]},{entity:513,children:[]}]}}}},{name:"cube-id",jsonSchema:{type:"object",properties:{},serializationType:"map"},data:{512:{json:{}}}}]}};var tm=[],H0={getCompositeOrNull(e,t){let r=G0[e];if(r){try{if(r instanceof Uint8Array){let n=Fi.fromBinary(r);tm.push({src:e,composite:n})}else if(typeof r=="string"){let n=Fi.fromJson(JSON.parse(r));tm.push({src:e,composite:n})}else if(typeof r=="object"){let n=Fi.fromJson(r);tm.push({src:e,composite:n})}}catch(n){console.error(n)}delete G0[e]}return tm.find(n=>n.src===e)||null}};var nm=xT({crdtSendToRenderer:El.crdtSendToRenderer});Q.addTransport(nm);async function av(e){Q.seal(),await Q.update(e),await sT(El.sendBatch)}async function sv(){let e=await(0,El.crdtGetState)({data:new Uint8Array});if(!e.hasEntities){let t=H0.getCompositeOrNull("main.composite");if(t)try{Fi.instance(Q,t,H0)}catch(r){console.log("Warning: main.composite couldn't be instanced."),console.error(r)}}if(nm.onmessage&&e&&e.data&&e.data.length)for(let t of e.data)nm.onmessage(t)}if(em!==void 0){let e=function(){try{let t=em();t&&typeof t=="object"&&typeof t.then=="function"&&t.catch(console.error)}catch(t){console.error(t)}finally{Q.removeSystem(e)}};Q.addSystem(e,1/0)}
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-reconciler/cjs/react-reconciler.production.min.js:
  (**
   * @license React
   * react-reconciler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
"use strict";var iS=Object.create;var Nu=Object.defineProperty;var aS=Object.getOwnPropertyDescriptor;var sS=Object.getOwnPropertyNames;var lS=Object.getPrototypeOf,cS=Object.prototype.hasOwnProperty;var Qt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),uS=(e,t)=>{for(var r in t)Nu(e,r,{get:t[r],enumerable:!0})},Sy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of sS(t))!cS.call(e,s)&&s!==r&&Nu(e,s,{get:()=>t[s],enumerable:!(n=aS(t,s))||n.enumerable});return e};var _e=(e,t,r)=>(r=e!=null?iS(lS(e)):{},Sy(t||!e||!e.__esModule?Nu(r,"default",{value:e,enumerable:!0}):r,e)),fS=e=>Sy(Nu({},"__esModule",{value:!0}),e);var vy=Qt((Jv,by)=>{"use strict";by.exports=dS;function dS(e,t){for(var r=new Array(arguments.length-1),n=0,s=2,a=!0;s<arguments.length;)r[n++]=arguments[s++];return new Promise(function(c,l){r[n]=function(g){if(a)if(a=!1,g)l(g);else{for(var M=new Array(arguments.length-1),w=0;w<M.length;)M[w++]=arguments[w];c.apply(null,M)}};try{e.apply(t||null,r)}catch(y){a&&(a=!1,l(y))}})}});var Iy=Qt(Cy=>{"use strict";var _u=Cy;_u.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&t.charAt(r)==="=";)++n;return Math.ceil(t.length*3)/4-n};var rs=new Array(64),ky=new Array(123);for(no=0;no<64;)ky[rs[no]=no<26?no+65:no<52?no+71:no<62?no-4:no-59|43]=no++;var no;_u.encode=function(t,r,n){for(var s=null,a=[],f=0,c=0,l;r<n;){var y=t[r++];switch(c){case 0:a[f++]=rs[y>>2],l=(y&3)<<4,c=1;break;case 1:a[f++]=rs[l|y>>4],l=(y&15)<<2,c=2;break;case 2:a[f++]=rs[l|y>>6],a[f++]=rs[y&63],c=0;break}f>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),f=0)}return c&&(a[f++]=rs[l],a[f++]=61,c===1&&(a[f++]=61)),s?(f&&s.push(String.fromCharCode.apply(String,a.slice(0,f))),s.join("")):String.fromCharCode.apply(String,a.slice(0,f))};var wy="invalid encoding";_u.decode=function(t,r,n){for(var s=n,a=0,f,c=0;c<t.length;){var l=t.charCodeAt(c++);if(l===61&&a>1)break;if((l=ky[l])===void 0)throw Error(wy);switch(a){case 0:f=l,a=1;break;case 1:r[n++]=f<<2|(l&48)>>4,f=l,a=2;break;case 2:r[n++]=(f&15)<<4|(l&60)>>2,f=l,a=3;break;case 3:r[n++]=(f&3)<<6|l,a=0;break}}if(a===1)throw Error(wy);return n-s};_u.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var Ry=Qt((Kv,Ay)=>{"use strict";Ay.exports=Ou;function Ou(){this._listeners={}}Ou.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this};Ou.prototype.off=function(t,r){if(t===void 0)this._listeners={};else if(r===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],s=0;s<n.length;)n[s].fn===r?n.splice(s,1):++s;return this};Ou.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],s=1;s<arguments.length;)n.push(arguments[s++]);for(s=0;s<r.length;)r[s].fn.apply(r[s++].ctx,n)}return this}});var zy=Qt((Zv,By)=>{"use strict";By.exports=Py(Py);function Py(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function s(l,y,g){t[0]=l,y[g]=r[0],y[g+1]=r[1],y[g+2]=r[2],y[g+3]=r[3]}function a(l,y,g){t[0]=l,y[g]=r[3],y[g+1]=r[2],y[g+2]=r[1],y[g+3]=r[0]}e.writeFloatLE=n?s:a,e.writeFloatBE=n?a:s;function f(l,y){return r[0]=l[y],r[1]=l[y+1],r[2]=l[y+2],r[3]=l[y+3],t[0]}function c(l,y){return r[3]=l[y],r[2]=l[y+1],r[1]=l[y+2],r[0]=l[y+3],t[0]}e.readFloatLE=n?f:c,e.readFloatBE=n?c:f}():function(){function t(n,s,a,f){var c=s<0?1:0;if(c&&(s=-s),s===0)n(1/s>0?0:2147483648,a,f);else if(isNaN(s))n(2143289344,a,f);else if(s>34028234663852886e22)n((c<<31|2139095040)>>>0,a,f);else if(s<11754943508222875e-54)n((c<<31|Math.round(s/1401298464324817e-60))>>>0,a,f);else{var l=Math.floor(Math.log(s)/Math.LN2),y=Math.round(s*Math.pow(2,-l)*8388608)&8388607;n((c<<31|l+127<<23|y)>>>0,a,f)}}e.writeFloatLE=t.bind(null,Ny),e.writeFloatBE=t.bind(null,My);function r(n,s,a){var f=n(s,a),c=(f>>31)*2+1,l=f>>>23&255,y=f&8388607;return l===255?y?NaN:c*(1/0):l===0?c*1401298464324817e-60*y:c*Math.pow(2,l-150)*(y+8388608)}e.readFloatLE=r.bind(null,_y),e.readFloatBE=r.bind(null,Oy)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function s(l,y,g){t[0]=l,y[g]=r[0],y[g+1]=r[1],y[g+2]=r[2],y[g+3]=r[3],y[g+4]=r[4],y[g+5]=r[5],y[g+6]=r[6],y[g+7]=r[7]}function a(l,y,g){t[0]=l,y[g]=r[7],y[g+1]=r[6],y[g+2]=r[5],y[g+3]=r[4],y[g+4]=r[3],y[g+5]=r[2],y[g+6]=r[1],y[g+7]=r[0]}e.writeDoubleLE=n?s:a,e.writeDoubleBE=n?a:s;function f(l,y){return r[0]=l[y],r[1]=l[y+1],r[2]=l[y+2],r[3]=l[y+3],r[4]=l[y+4],r[5]=l[y+5],r[6]=l[y+6],r[7]=l[y+7],t[0]}function c(l,y){return r[7]=l[y],r[6]=l[y+1],r[5]=l[y+2],r[4]=l[y+3],r[3]=l[y+4],r[2]=l[y+5],r[1]=l[y+6],r[0]=l[y+7],t[0]}e.readDoubleLE=n?f:c,e.readDoubleBE=n?c:f}():function(){function t(n,s,a,f,c,l){var y=f<0?1:0;if(y&&(f=-f),f===0)n(0,c,l+s),n(1/f>0?0:2147483648,c,l+a);else if(isNaN(f))n(0,c,l+s),n(2146959360,c,l+a);else if(f>17976931348623157e292)n(0,c,l+s),n((y<<31|2146435072)>>>0,c,l+a);else{var g;if(f<22250738585072014e-324)g=f/5e-324,n(g>>>0,c,l+s),n((y<<31|g/4294967296)>>>0,c,l+a);else{var M=Math.floor(Math.log(f)/Math.LN2);M===1024&&(M=1023),g=f*Math.pow(2,-M),n(g*4503599627370496>>>0,c,l+s),n((y<<31|M+1023<<20|g*1048576&1048575)>>>0,c,l+a)}}}e.writeDoubleLE=t.bind(null,Ny,0,4),e.writeDoubleBE=t.bind(null,My,4,0);function r(n,s,a,f,c){var l=n(f,c+s),y=n(f,c+a),g=(y>>31)*2+1,M=y>>>20&2047,w=4294967296*(y&1048575)+l;return M===2047?w?NaN:g*(1/0):M===0?g*5e-324*w:g*Math.pow(2,M-1075)*(w+4503599627370496)}e.readDoubleLE=r.bind(null,_y,0,4),e.readDoubleBE=r.bind(null,Oy,4,0)}(),e}function Ny(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function My(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function _y(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Oy(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}});var Dy=Qt((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var Bu=Qt(Uy=>{"use strict";var dp=Uy;dp.length=function(t){for(var r=0,n=0,s=0;s<t.length;++s)n=t.charCodeAt(s),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(t.charCodeAt(s+1)&64512)===56320?(++s,r+=4):r+=3;return r};dp.read=function(t,r,n){var s=n-r;if(s<1)return"";for(var a=null,f=[],c=0,l;r<n;)l=t[r++],l<128?f[c++]=l:l>191&&l<224?f[c++]=(l&31)<<6|t[r++]&63:l>239&&l<365?(l=((l&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,f[c++]=55296+(l>>10),f[c++]=56320+(l&1023)):f[c++]=(l&15)<<12|(t[r++]&63)<<6|t[r++]&63,c>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,f)),c=0);return a?(c&&a.push(String.fromCharCode.apply(String,f.slice(0,c))),a.join("")):String.fromCharCode.apply(String,f.slice(0,c))};dp.write=function(t,r,n){for(var s=n,a,f,c=0;c<t.length;++c)a=t.charCodeAt(c),a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):(a&64512)===55296&&((f=t.charCodeAt(c+1))&64512)===56320?(a=65536+((a&1023)<<10)+(f&1023),++c,r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128);return n-s}});var Fy=Qt((ew,Ly)=>{"use strict";Ly.exports=mS;function mS(e,t,r){var n=r||8192,s=n>>>1,a=null,f=n;return function(l){if(l<1||l>s)return e(l);f+l>n&&(a=e(n),f=0);var y=t.call(a,f,f+=l);return f&7&&(f=(f|7)+1),y}}});var Wy=Qt((tw,Vy)=>{"use strict";Vy.exports=kn;var Zl=Ni();function kn(e,t){this.lo=e>>>0,this.hi=t>>>0}var fa=kn.zero=new kn(0,0);fa.toNumber=function(){return 0};fa.zzEncode=fa.zzDecode=function(){return this};fa.length=function(){return 1};var pS=kn.zeroHash="\0\0\0\0\0\0\0\0";kn.fromNumber=function(t){if(t===0)return fa;var r=t<0;r&&(t=-t);var n=t>>>0,s=(t-n)/4294967296>>>0;return r&&(s=~s>>>0,n=~n>>>0,++n>4294967295&&(n=0,++s>4294967295&&(s=0))),new kn(n,s)};kn.from=function(t){if(typeof t=="number")return kn.fromNumber(t);if(Zl.isString(t))if(Zl.Long)t=Zl.Long.fromString(t);else return kn.fromNumber(parseInt(t,10));return t.low||t.high?new kn(t.low>>>0,t.high>>>0):fa};kn.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};kn.prototype.toLong=function(t){return Zl.Long?new Zl.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var Pi=String.prototype.charCodeAt;kn.fromHash=function(t){return t===pS?fa:new kn((Pi.call(t,0)|Pi.call(t,1)<<8|Pi.call(t,2)<<16|Pi.call(t,3)<<24)>>>0,(Pi.call(t,4)|Pi.call(t,5)<<8|Pi.call(t,6)<<16|Pi.call(t,7)<<24)>>>0)};kn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};kn.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};kn.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};kn.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Ni=Qt(mp=>{"use strict";var Me=mp;Me.asPromise=vy();Me.base64=Iy();Me.EventEmitter=Ry();Me.float=zy();Me.inquire=Dy();Me.utf8=Bu();Me.pool=Fy();Me.LongBits=Wy();Me.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Me.global=Me.isNode&&global||!1||typeof self<"u"&&self||mp;Me.emptyArray=Object.freeze?Object.freeze([]):[];Me.emptyObject=Object.freeze?Object.freeze({}):{};Me.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};Me.isString=function(t){return typeof t=="string"||t instanceof String};Me.isObject=function(t){return t&&typeof t=="object"};Me.isset=Me.isSet=function(t,r){var n=t[r];return n!=null&&t.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};Me.Buffer=function(){try{var e=Me.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();Me._Buffer_from=null;Me._Buffer_allocUnsafe=null;Me.newBuffer=function(t){return typeof t=="number"?Me.Buffer?Me._Buffer_allocUnsafe(t):new Me.Array(t):Me.Buffer?Me._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};Me.Array=typeof Uint8Array<"u"?Uint8Array:Array;Me.Long=Me.global.dcodeIO&&Me.global.dcodeIO.Long||Me.global.Long||Me.inquire("long");Me.key2Re=/^true|false|0|1$/;Me.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Me.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Me.longToHash=function(t){return t?Me.LongBits.from(t).toHash():Me.LongBits.zeroHash};Me.longFromHash=function(t,r){var n=Me.LongBits.fromHash(t);return Me.Long?Me.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function Gy(e,t,r){for(var n=Object.keys(t),s=0;s<n.length;++s)(e[n[s]]===void 0||!r)&&(e[n[s]]=t[n[s]]);return e}Me.merge=Gy;Me.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function Hy(e){function t(r,n){if(!(this instanceof t))return new t(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Gy(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}Me.newError=Hy;Me.ProtocolError=Hy("ProtocolError");Me.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var s=Object.keys(this),a=s.length-1;a>-1;--a)if(r[s[a]]===1&&this[s[a]]!==void 0&&this[s[a]]!==null)return s[a]}};Me.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}};Me.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Me._configure=function(){var e=Me.Buffer;if(!e){Me._Buffer_from=Me._Buffer_allocUnsafe=null;return}Me._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,n){return new e(r,n)},Me._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var Sp=Qt((rw,Yy)=>{"use strict";Yy.exports=yt;var Wr=Ni(),pp,zu=Wr.LongBits,jy=Wr.base64,qy=Wr.utf8;function Xl(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function yp(){}function hS(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function yt(){this.len=0,this.head=new Xl(yp,0,0),this.tail=this.head,this.states=null}var Qy=function(){return Wr.Buffer?function(){return(yt.create=function(){return new pp})()}:function(){return new yt}};yt.create=Qy();yt.alloc=function(t){return new Wr.Array(t)};Wr.Array!==Array&&(yt.alloc=Wr.pool(yt.alloc,Wr.Array.prototype.subarray));yt.prototype._push=function(t,r,n){return this.tail=this.tail.next=new Xl(t,r,n),this.len+=r,this};function gp(e,t,r){t[r]=e&255}function yS(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function Ep(e,t){this.len=e,this.next=void 0,this.val=t}Ep.prototype=Object.create(Xl.prototype);Ep.prototype.fn=yS;yt.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new Ep((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};yt.prototype.int32=function(t){return t<0?this._push(Tp,10,zu.fromNumber(t)):this.uint32(t)};yt.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function Tp(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}yt.prototype.uint64=function(t){var r=zu.from(t);return this._push(Tp,r.length(),r)};yt.prototype.int64=yt.prototype.uint64;yt.prototype.sint64=function(t){var r=zu.from(t).zzEncode();return this._push(Tp,r.length(),r)};yt.prototype.bool=function(t){return this._push(gp,1,t?1:0)};function hp(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}yt.prototype.fixed32=function(t){return this._push(hp,4,t>>>0)};yt.prototype.sfixed32=yt.prototype.fixed32;yt.prototype.fixed64=function(t){var r=zu.from(t);return this._push(hp,4,r.lo)._push(hp,4,r.hi)};yt.prototype.sfixed64=yt.prototype.fixed64;yt.prototype.float=function(t){return this._push(Wr.float.writeFloatLE,4,t)};yt.prototype.double=function(t){return this._push(Wr.float.writeDoubleLE,8,t)};var gS=Wr.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var s=0;s<t.length;++s)r[n+s]=t[s]};yt.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(gp,1,0);if(Wr.isString(t)){var n=yt.alloc(r=jy.length(t));jy.decode(t,n,0),t=n}return this.uint32(r)._push(gS,r,t)};yt.prototype.string=function(t){var r=qy.length(t);return r?this.uint32(r)._push(qy.write,r,t):this._push(gp,1,0)};yt.prototype.fork=function(){return this.states=new hS(this),this.head=this.tail=new Xl(yp,0,0),this.len=0,this};yt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Xl(yp,0,0),this.len=0),this};yt.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};yt.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};yt._configure=function(e){pp=e,yt.create=Qy(),pp._configure()}});var Ky=Qt((ow,$y)=>{"use strict";$y.exports=Oo;var Jy=Sp();(Oo.prototype=Object.create(Jy.prototype)).constructor=Oo;var Mi=Ni();function Oo(){Jy.call(this)}Oo._configure=function(){Oo.alloc=Mi._Buffer_allocUnsafe,Oo.writeBytesBuffer=Mi.Buffer&&Mi.Buffer.prototype instanceof Uint8Array&&Mi.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var s=0;s<t.length;)r[n++]=t[s++]}};Oo.prototype.bytes=function(t){Mi.isString(t)&&(t=Mi._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(Oo.writeBytesBuffer,r,t),this};function ES(e,t,r){e.length<40?Mi.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}Oo.prototype.string=function(t){var r=Mi.Buffer.byteLength(t);return this.uint32(r),r&&this._push(ES,r,t),this};Oo._configure()});var vp=Qt((iw,ng)=>{"use strict";ng.exports=on;var ro=Ni(),bp,eg=ro.LongBits,TS=ro.utf8;function oo(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function on(e){this.buf=e,this.pos=0,this.len=e.length}var Zy=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new on(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new on(t);throw Error("illegal buffer")},tg=function(){return ro.Buffer?function(r){return(on.create=function(s){return ro.Buffer.isBuffer(s)?new bp(s):Zy(s)})(r)}:Zy};on.create=tg();on.prototype._slice=ro.Array.prototype.subarray||ro.Array.prototype.slice;on.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,oo(this,10);return t}}();on.prototype.int32=function(){return this.uint32()|0};on.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function xp(){var e=new eg(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw oo(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw oo(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}on.prototype.bool=function(){return this.uint32()!==0};function Du(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}on.prototype.fixed32=function(){if(this.pos+4>this.len)throw oo(this,4);return Du(this.buf,this.pos+=4)};on.prototype.sfixed32=function(){if(this.pos+4>this.len)throw oo(this,4);return Du(this.buf,this.pos+=4)|0};function Xy(){if(this.pos+8>this.len)throw oo(this,8);return new eg(Du(this.buf,this.pos+=4),Du(this.buf,this.pos+=4))}on.prototype.float=function(){if(this.pos+4>this.len)throw oo(this,4);var t=ro.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};on.prototype.double=function(){if(this.pos+8>this.len)throw oo(this,4);var t=ro.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};on.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw oo(this,t);if(this.pos+=t,Array.isArray(this.buf))return this.buf.slice(r,n);if(r===n){var s=ro.Buffer;return s?s.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,n)};on.prototype.string=function(){var t=this.bytes();return TS.read(t,0,t.length)};on.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw oo(this,t);this.pos+=t}else do if(this.pos>=this.len)throw oo(this);while(this.buf[this.pos++]&128);return this};on.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};on._configure=function(e){bp=e,on.create=tg(),bp._configure();var t=ro.Long?"toLong":"toNumber";ro.merge(on.prototype,{int64:function(){return xp.call(this)[t](!1)},uint64:function(){return xp.call(this)[t](!0)},sint64:function(){return xp.call(this).zzDecode()[t](!1)},fixed64:function(){return Xy.call(this)[t](!0)},sfixed64:function(){return Xy.call(this)[t](!1)}})}});var ag=Qt((aw,ig)=>{"use strict";ig.exports=da;var og=vp();(da.prototype=Object.create(og.prototype)).constructor=da;var rg=Ni();function da(e){og.call(this,e)}da._configure=function(){rg.Buffer&&(da.prototype._slice=rg.Buffer.prototype.slice)};da.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};da._configure()});var lg=Qt((sw,sg)=>{"use strict";sg.exports=ec;var wp=Ni();(ec.prototype=Object.create(wp.EventEmitter.prototype)).constructor=ec;function ec(e,t,r){if(typeof e!="function")throw TypeError("rpcImpl must be a function");wp.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}ec.prototype.rpcCall=function e(t,r,n,s,a){if(!s)throw TypeError("request must be specified");var f=this;if(!a)return wp.asPromise(e,f,t,r,n,s);if(!f.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return f.rpcImpl(t,r[f.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(l,y){if(l)return f.emit("error",l,t),a(l);if(y===null){f.end(!0);return}if(!(y instanceof n))try{y=n[f.responseDelimited?"decodeDelimited":"decode"](y)}catch(g){return f.emit("error",g,t),a(g)}return f.emit("data",y,t),a(null,y)})}catch(c){f.emit("error",c,t),setTimeout(function(){a(c)},0);return}};ec.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var ug=Qt(cg=>{"use strict";var SS=cg;SS.Service=lg()});var dg=Qt((cw,fg)=>{"use strict";fg.exports={}});var hg=Qt(pg=>{"use strict";var cr=pg;cr.build="minimal";cr.Writer=Sp();cr.BufferWriter=Ky();cr.Reader=vp();cr.BufferReader=ag();cr.util=Ni();cr.rpc=ug();cr.roots=dg();cr.configure=mg;function mg(){cr.util._configure(),cr.Writer._configure(cr.BufferWriter),cr.Reader._configure(cr.BufferReader)}mg()});var Le=Qt((fw,yg)=>{"use strict";yg.exports=hg()});var c2=Qt(ct=>{"use strict";var kc=Symbol.for("react.element"),Ob=Symbol.for("react.portal"),Bb=Symbol.for("react.fragment"),zb=Symbol.for("react.strict_mode"),Db=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),Fb=Symbol.for("react.forward_ref"),Vb=Symbol.for("react.suspense"),Wb=Symbol.for("react.memo"),Gb=Symbol.for("react.lazy"),ZE=Symbol.iterator;function Hb(e){return e===null||typeof e!="object"?null:(e=ZE&&e[ZE]||e["@@iterator"],typeof e=="function"?e:null)}var t2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n2=Object.assign,r2={};function ll(e,t,r){this.props=e,this.context=t,this.refs=r2,this.updater=r||t2}ll.prototype.isReactComponent={};ll.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ll.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function o2(){}o2.prototype=ll.prototype;function l0(e,t,r){this.props=e,this.context=t,this.refs=r2,this.updater=r||t2}var c0=l0.prototype=new o2;c0.constructor=l0;n2(c0,ll.prototype);c0.isPureReactComponent=!0;var XE=Array.isArray,i2=Object.prototype.hasOwnProperty,u0={current:null},a2={key:!0,ref:!0,__self:!0,__source:!0};function s2(e,t,r){var n,s={},a=null,f=null;if(t!=null)for(n in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(a=""+t.key),t)i2.call(t,n)&&!a2.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var l=Array(c),y=0;y<c;y++)l[y]=arguments[y+2];s.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:kc,type:e,key:a,ref:f,props:s,_owner:u0.current}}function jb(e,t){return{$$typeof:kc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function f0(e){return typeof e=="object"&&e!==null&&e.$$typeof===kc}function qb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var e2=/\/+/g;function s0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qb(""+e.key):t.toString(36)}function xd(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(a){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case kc:case Ob:f=!0}}if(f)return f=e,s=s(f),e=n===""?"."+s0(f,0):n,XE(s)?(r="",e!=null&&(r=e.replace(e2,"$&/")+"/"),xd(s,t,r,"",function(y){return y})):s!=null&&(f0(s)&&(s=jb(s,r+(!s.key||f&&f.key===s.key?"":(""+s.key).replace(e2,"$&/")+"/")+e)),t.push(s)),1;if(f=0,n=n===""?".":n+":",XE(e))for(var c=0;c<e.length;c++){a=e[c];var l=n+s0(a,c);f+=xd(a,t,r,l,s)}else if(l=Hb(e),typeof l=="function")for(e=l.call(e),c=0;!(a=e.next()).done;)a=a.value,l=n+s0(a,c++),f+=xd(a,t,r,l,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function Sd(e,t,r){if(e==null)return e;var n=[],s=0;return xd(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Qb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $n={current:null},bd={transition:null},Yb={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:bd,ReactCurrentOwner:u0};function l2(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:Sd,forEach:function(e,t,r){Sd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Sd(e,function(){t++}),t},toArray:function(e){return Sd(e,function(t){return t})||[]},only:function(e){if(!f0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ct.Component=ll;ct.Fragment=Bb;ct.Profiler=Db;ct.PureComponent=l0;ct.StrictMode=zb;ct.Suspense=Vb;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yb;ct.act=l2;ct.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=n2({},e.props),s=e.key,a=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,f=u0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)i2.call(t,l)&&!a2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var y=0;y<l;y++)c[y]=arguments[y+2];n.children=c}return{$$typeof:kc,type:e.type,key:s,ref:a,props:n,_owner:f}};ct.createContext=function(e){return e={$$typeof:Lb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ub,_context:e},e.Consumer=e};ct.createElement=s2;ct.createFactory=function(e){var t=s2.bind(null,e);return t.type=e,t};ct.createRef=function(){return{current:null}};ct.forwardRef=function(e){return{$$typeof:Fb,render:e}};ct.isValidElement=f0;ct.lazy=function(e){return{$$typeof:Gb,_payload:{_status:-1,_result:e},_init:Qb}};ct.memo=function(e,t){return{$$typeof:Wb,type:e,compare:t===void 0?null:t}};ct.startTransition=function(e){var t=bd.transition;bd.transition={};try{e()}finally{bd.transition=t}};ct.unstable_act=l2;ct.useCallback=function(e,t){return $n.current.useCallback(e,t)};ct.useContext=function(e){return $n.current.useContext(e)};ct.useDebugValue=function(){};ct.useDeferredValue=function(e){return $n.current.useDeferredValue(e)};ct.useEffect=function(e,t){return $n.current.useEffect(e,t)};ct.useId=function(){return $n.current.useId()};ct.useImperativeHandle=function(e,t,r){return $n.current.useImperativeHandle(e,t,r)};ct.useInsertionEffect=function(e,t){return $n.current.useInsertionEffect(e,t)};ct.useLayoutEffect=function(e,t){return $n.current.useLayoutEffect(e,t)};ct.useMemo=function(e,t){return $n.current.useMemo(e,t)};ct.useReducer=function(e,t,r){return $n.current.useReducer(e,t,r)};ct.useRef=function(e){return $n.current.useRef(e)};ct.useState=function(e){return $n.current.useState(e)};ct.useSyncExternalStore=function(e,t,r){return $n.current.useSyncExternalStore(e,t,r)};ct.useTransition=function(){return $n.current.useTransition()};ct.version="18.3.1"});var d0=Qt((cO,u2)=>{"use strict";u2.exports=c2()});var x2=Qt(Bt=>{"use strict";function y0(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,s=e[n];if(0<vd(s,t))e[n]=t,e[r]=s,r=n;else break e}}function fo(e){return e.length===0?null:e[0]}function kd(e){if(e.length===0)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length,a=s>>>1;n<a;){var f=2*(n+1)-1,c=e[f],l=f+1,y=e[l];if(0>vd(c,r))l<s&&0>vd(y,c)?(e[n]=y,e[l]=r,n=l):(e[n]=c,e[f]=r,n=f);else if(l<s&&0>vd(y,r))e[n]=y,e[l]=r,n=l;else break e}}return t}function vd(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(d2=performance,Bt.unstable_now=function(){return d2.now()}):(m0=Date,m2=m0.now(),Bt.unstable_now=function(){return m0.now()-m2});var d2,m0,m2,Wo=[],Wi=[],Jb=1,qr=null,Yn=3,Cd=!1,Ia=!1,Ic=!1,y2=typeof setTimeout=="function"?setTimeout:null,g2=typeof clearTimeout=="function"?clearTimeout:null,p2=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g0(e){for(var t=fo(Wi);t!==null;){if(t.callback===null)kd(Wi);else if(t.startTime<=e)kd(Wi),t.sortIndex=t.expirationTime,y0(Wo,t);else break;t=fo(Wi)}}function E0(e){if(Ic=!1,g0(e),!Ia)if(fo(Wo)!==null)Ia=!0,S0(T0);else{var t=fo(Wi);t!==null&&x0(E0,t.startTime-e)}}function T0(e,t){Ia=!1,Ic&&(Ic=!1,g2(Ac),Ac=-1),Cd=!0;var r=Yn;try{for(g0(t),qr=fo(Wo);qr!==null&&(!(qr.expirationTime>t)||e&&!S2());){var n=qr.callback;if(typeof n=="function"){qr.callback=null,Yn=qr.priorityLevel;var s=n(qr.expirationTime<=t);t=Bt.unstable_now(),typeof s=="function"?qr.callback=s:qr===fo(Wo)&&kd(Wo),g0(t)}else kd(Wo);qr=fo(Wo)}if(qr!==null)var a=!0;else{var f=fo(Wi);f!==null&&x0(E0,f.startTime-t),a=!1}return a}finally{qr=null,Yn=r,Cd=!1}}var Id=!1,wd=null,Ac=-1,E2=5,T2=-1;function S2(){return!(Bt.unstable_now()-T2<E2)}function p0(){if(wd!==null){var e=Bt.unstable_now();T2=e;var t=!0;try{t=wd(!0,e)}finally{t?Cc():(Id=!1,wd=null)}}else Id=!1}var Cc;typeof p2=="function"?Cc=function(){p2(p0)}:typeof MessageChannel<"u"?(h0=new MessageChannel,h2=h0.port2,h0.port1.onmessage=p0,Cc=function(){h2.postMessage(null)}):Cc=function(){y2(p0,0)};var h0,h2;function S0(e){wd=e,Id||(Id=!0,Cc())}function x0(e,t){Ac=y2(function(){e(Bt.unstable_now())},t)}Bt.unstable_IdlePriority=5;Bt.unstable_ImmediatePriority=1;Bt.unstable_LowPriority=4;Bt.unstable_NormalPriority=3;Bt.unstable_Profiling=null;Bt.unstable_UserBlockingPriority=2;Bt.unstable_cancelCallback=function(e){e.callback=null};Bt.unstable_continueExecution=function(){Ia||Cd||(Ia=!0,S0(T0))};Bt.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E2=0<e?Math.floor(1e3/e):5};Bt.unstable_getCurrentPriorityLevel=function(){return Yn};Bt.unstable_getFirstCallbackNode=function(){return fo(Wo)};Bt.unstable_next=function(e){switch(Yn){case 1:case 2:case 3:var t=3;break;default:t=Yn}var r=Yn;Yn=t;try{return e()}finally{Yn=r}};Bt.unstable_pauseExecution=function(){};Bt.unstable_requestPaint=function(){};Bt.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=Yn;Yn=e;try{return t()}finally{Yn=r}};Bt.unstable_scheduleCallback=function(e,t,r){var n=Bt.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=r+s,e={id:Jb++,callback:t,priorityLevel:e,startTime:r,expirationTime:s,sortIndex:-1},r>n?(e.sortIndex=r,y0(Wi,e),fo(Wo)===null&&e===fo(Wi)&&(Ic?(g2(Ac),Ac=-1):Ic=!0,x0(E0,r-n))):(e.sortIndex=s,y0(Wo,e),Ia||Cd||(Ia=!0,S0(T0))),e};Bt.unstable_shouldYield=S2;Bt.unstable_wrapCallback=function(e){var t=Yn;return function(){var r=Yn;Yn=t;try{return e.apply(this,arguments)}finally{Yn=r}}}});var v2=Qt((dO,b2)=>{"use strict";b2.exports=x2()});var k2=Qt((mO,w2)=>{"use strict";w2.exports=function(t){var r={},n=d0(),s=v2(),a=Object.assign;function f(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),y=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var ae=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Ae=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=Ae&&o[Ae]||o["@@iterator"],typeof o=="function"?o:null)}function j(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case g:return"Fragment";case y:return"Portal";case w:return"Profiler";case M:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case P:return(o.displayName||"Context")+".Consumer";case I:return(o._context.displayName||"Context")+".Provider";case S:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case N:return i=o.displayName||null,i!==null?i:j(o.type)||"Memo";case F:i=o._payload,o=o._init;try{return j(o(i))}catch{}}return null}function se(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(i);case 8:return i===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function oe(o){var i=o,u=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,i.flags&4098&&(u=i.return),o=i.return;while(o)}return i.tag===3?u:null}function $(o){if(oe(o)!==o)throw Error(f(188))}function A(o){var i=o.alternate;if(!i){if(i=oe(o),i===null)throw Error(f(188));return i!==o?null:o}for(var u=o,d=i;;){var m=u.return;if(m===null)break;var h=m.alternate;if(h===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===h.child){for(h=m.child;h;){if(h===u)return $(m),o;if(h===d)return $(m),i;h=h.sibling}throw Error(f(188))}if(u.return!==d.return)u=m,d=h;else{for(var T=!1,z=m.child;z;){if(z===u){T=!0,u=m,d=h;break}if(z===d){T=!0,d=m,u=h;break}z=z.sibling}if(!T){for(z=h.child;z;){if(z===u){T=!0,u=h,d=m;break}if(z===d){T=!0,d=h,u=m;break}z=z.sibling}if(!T)throw Error(f(189))}}if(u.alternate!==d)throw Error(f(190))}if(u.tag!==3)throw Error(f(188));return u.stateNode.current===u?o:i}function O(o){return o=A(o),o!==null?H(o):null}function H(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=H(o);if(i!==null)return i;o=o.sibling}return null}function le(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){if(o.tag!==4){var i=le(o);if(i!==null)return i}o=o.sibling}return null}var he=Array.isArray,Re=t.getPublicInstance,$e=t.getRootHostContext,Ke=t.getChildHostContext,ot=t.prepareForCommit,it=t.resetAfterCommit,pt=t.createInstance,ut=t.appendInitialChild,Nt=t.finalizeInitialChildren,tt=t.prepareUpdate,Rn=t.shouldSetTextContent,W=t.createTextInstance,X=t.scheduleTimeout,ye=t.cancelTimeout,U=t.noTimeout,J=t.isPrimaryRenderer,ve=t.supportsMutation,Tt=t.supportsPersistence,Dn=t.supportsHydration,Tl=t.getInstanceFromNode,za=t.preparePortalMount,Sl=t.getCurrentEventPriority,Ji=t.detachDeletedInstance,xl=t.supportsMicrotasks,Da=t.scheduleMicrotask,qo=t.supportsTestSelectors,$i=t.findFiberRoot,zt=t.getBoundingRect,Ua=t.getTextContent,Qo=t.isHiddenSubtree,La=t.matchAccessibilityRole,bl=t.setFocusIfFocusable,Fa=t.setupIntersectionObserver,Va=t.appendChild,vl=t.appendChildToContainer,Wa=t.commitTextUpdate,Yo=t.commitMount,wl=t.commitUpdate,Ki=t.insertBefore,kl=t.insertInContainerBefore,Cl=t.removeChild,Ga=t.removeChildFromContainer,Zi=t.resetTextContent,Il=t.hideInstance,Al=t.hideTextInstance,v=t.unhideInstance,_=t.unhideTextInstance,G=t.clearContainer,ge=t.cloneInstance,me=t.createContainerChildSet,we=t.appendChildToContainerChildSet,Ve=t.finalizeContainerChildren,Ft=t.replaceContainerChildren,un=t.cloneHiddenInstance,Vt=t.cloneHiddenTextInstance,Jr=t.canHydrateInstance,Jo=t.canHydrateTextInstance,bo=t.canHydrateSuspenseInstance,vo=t.isSuspenseInstancePending,Rl=t.isSuspenseInstanceFallback,rm=t.getSuspenseInstanceFallbackErrorDetails,Lc=t.registerSuspenseInstanceRetry,Ha=t.getNextHydratableSibling,om=t.getFirstHydratableChild,fn=t.getFirstHydratableChildWithinContainer,E=t.getFirstHydratableChildWithinSuspenseInstance,b=t.hydrateInstance,C=t.hydrateTextInstance,R=t.hydrateSuspenseInstance,D=t.getNextHydratableInstanceAfterSuspenseInstance,ee=t.commitHydratedContainer,Z=t.commitHydratedSuspenseInstance,de=t.clearSuspenseBoundary,Ce=t.clearSuspenseBoundaryFromContainer,Ue=t.shouldDeleteUnhydratedTailInstances,Ge=t.didNotMatchHydratedContainerTextInstance,ht=t.didNotMatchHydratedTextInstance,We;function Rt(o){if(We===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);We=i&&i[1]||""}return`
`+We+o}var Dt=!1;function $t(o,i){if(!o||Dt)return"";Dt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(fe){var d=fe}Reflect.construct(o,[],i)}else{try{i.call()}catch(fe){d=fe}o.call(i.prototype)}else{try{throw Error()}catch(fe){d=fe}o()}}catch(fe){if(fe&&d&&typeof fe.stack=="string"){for(var m=fe.stack.split(`
`),h=d.stack.split(`
`),T=m.length-1,z=h.length-1;1<=T&&0<=z&&m[T]!==h[z];)z--;for(;1<=T&&0<=z;T--,z--)if(m[T]!==h[z]){if(T!==1||z!==1)do if(T--,z--,0>z||m[T]!==h[z]){var Y=`
`+m[T].replace(" at new "," at ");return o.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",o.displayName)),Y}while(1<=T&&0<=z);break}}}finally{Dt=!1,Error.prepareStackTrace=u}return(o=o?o.displayName||o.name:"")?Rt(o):""}var Wt=Object.prototype.hasOwnProperty,Oe=[],en=-1;function tn(o){return{current:o}}function at(o){0>en||(o.current=Oe[en],Oe[en]=null,en--)}function nt(o,i){en++,Oe[en]=o.current,o.current=i}var nn={},It=tn(nn),Mt=tn(!1),Pn=nn;function Un(o,i){var u=o.type.contextTypes;if(!u)return nn;var d=o.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var m={},h;for(h in u)m[h]=i[h];return d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=m),m}function Gt(o){return o=o.childContextTypes,o!=null}function Nr(){at(Mt),at(It)}function wo(o,i,u){if(It.current!==nn)throw Error(f(168));nt(It,i),nt(Mt,u)}function Ht(o,i,u){var d=o.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in i))throw Error(f(108,se(o)||"Unknown",m));return a({},u,d)}function Mr(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||nn,Pn=It.current,nt(It,o),nt(Mt,Mt.current),!0}function ko(o,i,u){var d=o.stateNode;if(!d)throw Error(f(169));u?(o=Ht(o,i,Pn),d.__reactInternalMemoizedMergedChildContext=o,at(Mt),at(It),nt(It,o)):at(Mt),nt(Mt,u)}var dn=Math.clz32?Math.clz32:Zo,$o=Math.log,Ko=Math.LN2;function Zo(o){return o>>>=0,o===0?32:31-($o(o)/Ko|0)|0}var _r=64,Xi=4194304;function Ti(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ea(o,i){var u=o.pendingLanes;if(u===0)return 0;var d=0,m=o.suspendedLanes,h=o.pingedLanes,T=u&268435455;if(T!==0){var z=T&~m;z!==0?d=Ti(z):(h&=T,h!==0&&(d=Ti(h)))}else T=u&~m,T!==0?d=Ti(T):h!==0&&(d=Ti(h));if(d===0)return 0;if(i!==0&&i!==d&&!(i&m)&&(m=d&-d,h=i&-i,m>=h||m===16&&(h&4194240)!==0))return i;if(d&4&&(d|=u&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=d;0<i;)u=31-dn(i),m=1<<u,d|=o[u],i&=~m;return d}function Fc(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vc(o,i){for(var u=o.suspendedLanes,d=o.pingedLanes,m=o.expirationTimes,h=o.pendingLanes;0<h;){var T=31-dn(h),z=1<<T,Y=m[T];Y===-1?(!(z&u)||z&d)&&(m[T]=Fc(z,i)):Y<=i&&(o.expiredLanes|=z),h&=~z}}function Pl(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Wc(){var o=_r;return _r<<=1,!(_r&4194240)&&(_r=64),o}function Nl(o){for(var i=[],u=0;31>u;u++)i.push(o);return i}function ta(o,i,u){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-dn(i),o[i]=u}function im(o,i){var u=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var d=o.eventTimes;for(o=o.expirationTimes;0<u;){var m=31-dn(u),h=1<<m;i[m]=0,d[m]=-1,o[m]=-1,u&=~h}}function Ml(o,i){var u=o.entangledLanes|=i;for(o=o.entanglements;u;){var d=31-dn(u),m=1<<d;m&i|o[d]&i&&(o[d]|=i),u&=~m}}var dt=0;function Gc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var _l=s.unstable_scheduleCallback,Hc=s.unstable_cancelCallback,am=s.unstable_shouldYield,sm=s.unstable_requestPaint,xn=s.unstable_now,lm=s.unstable_ImmediatePriority,bT=s.unstable_UserBlockingPriority,cm=s.unstable_NormalPriority,vT=s.unstable_IdlePriority,jc=null,Co=null;function wT(o){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(jc,o,void 0,(o.current.flags&128)===128)}catch{}}function kT(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var $r=typeof Object.is=="function"?Object.is:kT,Xo=null,qc=!1,um=!1;function j0(o){Xo===null?Xo=[o]:Xo.push(o)}function CT(o){qc=!0,j0(o)}function Io(){if(!um&&Xo!==null){um=!0;var o=0,i=dt;try{var u=Xo;for(dt=1;o<u.length;o++){var d=u[o];do d=d(!0);while(d!==null)}Xo=null,qc=!1}catch(m){throw Xo!==null&&(Xo=Xo.slice(o+1)),_l(lm,Io),m}finally{dt=i,um=!1}}return null}var ja=[],qa=0,Qc=null,Yc=0,Or=[],Br=0,na=null,ei=1,ti="";function ra(o,i){ja[qa++]=Yc,ja[qa++]=Qc,Qc=o,Yc=i}function q0(o,i,u){Or[Br++]=ei,Or[Br++]=ti,Or[Br++]=na,na=o;var d=ei;o=ti;var m=32-dn(d)-1;d&=~(1<<m),u+=1;var h=32-dn(i)+m;if(30<h){var T=m-m%5;h=(d&(1<<T)-1).toString(32),d>>=T,m-=T,ei=1<<32-dn(i)+m|u<<m|d,ti=h+o}else ei=1<<h|u<<m|d,ti=o}function fm(o){o.return!==null&&(ra(o,1),q0(o,1,0))}function dm(o){for(;o===Qc;)Qc=ja[--qa],ja[qa]=null,Yc=ja[--qa],ja[qa]=null;for(;o===na;)na=Or[--Br],Or[Br]=null,ti=Or[--Br],Or[Br]=null,ei=Or[--Br],Or[Br]=null}var gr=null,zr=null,jt=!1,Ol=!1,Kr=null;function Q0(o,i){var u=Vr(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=o,i=o.deletions,i===null?(o.deletions=[u],o.flags|=16):i.push(u)}function Y0(o,i){switch(o.tag){case 5:return i=Jr(i,o.type,o.pendingProps),i!==null?(o.stateNode=i,gr=o,zr=om(i),!0):!1;case 6:return i=Jo(i,o.pendingProps),i!==null?(o.stateNode=i,gr=o,zr=null,!0):!1;case 13:if(i=bo(i),i!==null){var u=na!==null?{id:ei,overflow:ti}:null;return o.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Vr(18,null,null,0),u.stateNode=i,u.return=o,o.child=u,gr=o,zr=null,!0}return!1;default:return!1}}function mm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function pm(o){if(jt){var i=zr;if(i){var u=i;if(!Y0(o,i)){if(mm(o))throw Error(f(418));i=Ha(u);var d=gr;i&&Y0(o,i)?Q0(d,u):(o.flags=o.flags&-4097|2,jt=!1,gr=o)}}else{if(mm(o))throw Error(f(418));o.flags=o.flags&-4097|2,jt=!1,gr=o}}}function J0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;gr=o}function Jc(o){if(!Dn||o!==gr)return!1;if(!jt)return J0(o),jt=!0,!1;if(o.tag!==3&&(o.tag!==5||Ue(o.type)&&!Rn(o.type,o.memoizedProps))){var i=zr;if(i){if(mm(o))throw $0(),Error(f(418));for(;i;)Q0(o,i),i=Ha(i)}}if(J0(o),o.tag===13){if(!Dn)throw Error(f(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(f(317));zr=D(o)}else zr=gr?Ha(o.stateNode):null;return!0}function $0(){for(var o=zr;o;)o=Ha(o)}function Qa(){Dn&&(zr=gr=null,Ol=jt=!1)}function hm(o){Kr===null?Kr=[o]:Kr.push(o)}var IT=c.ReactCurrentBatchConfig;function $c(o,i){if($r(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var u=Object.keys(o),d=Object.keys(i);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!Wt.call(i,m)||!$r(o[m],i[m]))return!1}return!0}function AT(o){switch(o.tag){case 5:return Rt(o.type);case 16:return Rt("Lazy");case 13:return Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 2:case 15:return o=$t(o.type,!1),o;case 11:return o=$t(o.type.render,!1),o;case 1:return o=$t(o.type,!0),o;default:return""}}function Bl(o,i,u){if(o=u.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(f(309));var d=u.stateNode}if(!d)throw Error(f(147,o));var m=d,h=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===h?i.ref:(i=function(T){var z=m.refs;T===null?delete z[h]:z[h]=T},i._stringRef=h,i)}if(typeof o!="string")throw Error(f(284));if(!u._owner)throw Error(f(290,o))}return o}function Kc(o,i){throw o=Object.prototype.toString.call(i),Error(f(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function K0(o){var i=o._init;return i(o._payload)}function Z0(o){function i(q,L){if(o){var K=q.deletions;K===null?(q.deletions=[L],q.flags|=16):K.push(L)}}function u(q,L){if(!o)return null;for(;L!==null;)i(q,L),L=L.sibling;return null}function d(q,L){for(q=new Map;L!==null;)L.key!==null?q.set(L.key,L):q.set(L.index,L),L=L.sibling;return q}function m(q,L){return q=Ci(q,L),q.index=0,q.sibling=null,q}function h(q,L,K){return q.index=K,o?(K=q.alternate,K!==null?(K=K.index,K<L?(q.flags|=2,L):K):(q.flags|=2,L)):(q.flags|=1048576,L)}function T(q){return o&&q.alternate===null&&(q.flags|=2),q}function z(q,L,K,Se){return L===null||L.tag!==6?(L=up(K,q.mode,Se),L.return=q,L):(L=m(L,K),L.return=q,L)}function Y(q,L,K,Se){var ze=K.type;return ze===g?Ie(q,L,K.props.children,Se,K.key):L!==null&&(L.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===F&&K0(ze)===L.type)?(Se=m(L,K.props),Se.ref=Bl(q,L,K),Se.return=q,Se):(Se=Au(K.type,K.key,K.props,null,q.mode,Se),Se.ref=Bl(q,L,K),Se.return=q,Se)}function fe(q,L,K,Se){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=fp(K,q.mode,Se),L.return=q,L):(L=m(L,K.children||[]),L.return=q,L)}function Ie(q,L,K,Se,ze){return L===null||L.tag!==7?(L=ua(K,q.mode,Se,ze),L.return=q,L):(L=m(L,K),L.return=q,L)}function Qe(q,L,K){if(typeof L=="string"&&L!==""||typeof L=="number")return L=up(""+L,q.mode,K),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case l:return K=Au(L.type,L.key,L.props,null,q.mode,K),K.ref=Bl(q,null,L),K.return=q,K;case y:return L=fp(L,q.mode,K),L.return=q,L;case F:var Se=L._init;return Qe(q,Se(L._payload),K)}if(he(L)||ne(L))return L=ua(L,q.mode,K,null),L.return=q,L;Kc(q,L)}return null}function Te(q,L,K,Se){var ze=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ze!==null?null:z(q,L,""+K,Se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case l:return K.key===ze?Y(q,L,K,Se):null;case y:return K.key===ze?fe(q,L,K,Se):null;case F:return ze=K._init,Te(q,L,ze(K._payload),Se)}if(he(K)||ne(K))return ze!==null?null:Ie(q,L,K,Se,null);Kc(q,K)}return null}function Ut(q,L,K,Se,ze){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return q=q.get(K)||null,z(L,q,""+Se,ze);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return q=q.get(Se.key===null?K:Se.key)||null,Y(L,q,Se,ze);case y:return q=q.get(Se.key===null?K:Se.key)||null,fe(L,q,Se,ze);case F:var Xe=Se._init;return Ut(q,L,K,Xe(Se._payload),ze)}if(he(Se)||ne(Se))return q=q.get(K)||null,Ie(L,q,Se,ze,null);Kc(L,Se)}return null}function Pt(q,L,K,Se){for(var ze=null,Xe=null,Ye=L,St=L=0,wn=null;Ye!==null&&St<K.length;St++){Ye.index>St?(wn=Ye,Ye=null):wn=Ye.sibling;var xt=Te(q,Ye,K[St],Se);if(xt===null){Ye===null&&(Ye=wn);break}o&&Ye&&xt.alternate===null&&i(q,Ye),L=h(xt,L,St),Xe===null?ze=xt:Xe.sibling=xt,Xe=xt,Ye=wn}if(St===K.length)return u(q,Ye),jt&&ra(q,St),ze;if(Ye===null){for(;St<K.length;St++)Ye=Qe(q,K[St],Se),Ye!==null&&(L=h(Ye,L,St),Xe===null?ze=Ye:Xe.sibling=Ye,Xe=Ye);return jt&&ra(q,St),ze}for(Ye=d(q,Ye);St<K.length;St++)wn=Ut(Ye,q,St,K[St],Se),wn!==null&&(o&&wn.alternate!==null&&Ye.delete(wn.key===null?St:wn.key),L=h(wn,L,St),Xe===null?ze=wn:Xe.sibling=wn,Xe=wn);return o&&Ye.forEach(function(Ii){return i(q,Ii)}),jt&&ra(q,St),ze}function lr(q,L,K,Se){var ze=ne(K);if(typeof ze!="function")throw Error(f(150));if(K=ze.call(K),K==null)throw Error(f(151));for(var Xe=ze=null,Ye=L,St=L=0,wn=null,xt=K.next();Ye!==null&&!xt.done;St++,xt=K.next()){Ye.index>St?(wn=Ye,Ye=null):wn=Ye.sibling;var Ii=Te(q,Ye,xt.value,Se);if(Ii===null){Ye===null&&(Ye=wn);break}o&&Ye&&Ii.alternate===null&&i(q,Ye),L=h(Ii,L,St),Xe===null?ze=Ii:Xe.sibling=Ii,Xe=Ii,Ye=wn}if(xt.done)return u(q,Ye),jt&&ra(q,St),ze;if(Ye===null){for(;!xt.done;St++,xt=K.next())xt=Qe(q,xt.value,Se),xt!==null&&(L=h(xt,L,St),Xe===null?ze=xt:Xe.sibling=xt,Xe=xt);return jt&&ra(q,St),ze}for(Ye=d(q,Ye);!xt.done;St++,xt=K.next())xt=Ut(Ye,q,St,xt.value,Se),xt!==null&&(o&&xt.alternate!==null&&Ye.delete(xt.key===null?St:xt.key),L=h(xt,L,St),Xe===null?ze=xt:Xe.sibling=xt,Xe=xt);return o&&Ye.forEach(function(oS){return i(q,oS)}),jt&&ra(q,St),ze}function ii(q,L,K,Se){if(typeof K=="object"&&K!==null&&K.type===g&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case l:e:{for(var ze=K.key,Xe=L;Xe!==null;){if(Xe.key===ze){if(ze=K.type,ze===g){if(Xe.tag===7){u(q,Xe.sibling),L=m(Xe,K.props.children),L.return=q,q=L;break e}}else if(Xe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===F&&K0(ze)===Xe.type){u(q,Xe.sibling),L=m(Xe,K.props),L.ref=Bl(q,Xe,K),L.return=q,q=L;break e}u(q,Xe);break}else i(q,Xe);Xe=Xe.sibling}K.type===g?(L=ua(K.props.children,q.mode,Se,K.key),L.return=q,q=L):(Se=Au(K.type,K.key,K.props,null,q.mode,Se),Se.ref=Bl(q,L,K),Se.return=q,q=Se)}return T(q);case y:e:{for(Xe=K.key;L!==null;){if(L.key===Xe)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){u(q,L.sibling),L=m(L,K.children||[]),L.return=q,q=L;break e}else{u(q,L);break}else i(q,L);L=L.sibling}L=fp(K,q.mode,Se),L.return=q,q=L}return T(q);case F:return Xe=K._init,ii(q,L,Xe(K._payload),Se)}if(he(K))return Pt(q,L,K,Se);if(ne(K))return lr(q,L,K,Se);Kc(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,L!==null&&L.tag===6?(u(q,L.sibling),L=m(L,K),L.return=q,q=L):(u(q,L),L=up(K,q.mode,Se),L.return=q,q=L),T(q)):u(q,L)}return ii}var Ya=Z0(!0),X0=Z0(!1),Zc=tn(null),Xc=null,Ja=null,ym=null;function gm(){ym=Ja=Xc=null}function eh(o,i,u){J?(nt(Zc,i._currentValue),i._currentValue=u):(nt(Zc,i._currentValue2),i._currentValue2=u)}function Em(o){var i=Zc.current;at(Zc),J?o._currentValue=i:o._currentValue2=i}function Tm(o,i,u){for(;o!==null;){var d=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),o===u)break;o=o.return}}function $a(o,i){Xc=o,ym=Ja=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&i&&(ir=!0),o.firstContext=null)}function Dr(o){var i=J?o._currentValue:o._currentValue2;if(ym!==o)if(o={context:o,memoizedValue:i,next:null},Ja===null){if(Xc===null)throw Error(f(308));Ja=o,Xc.dependencies={lanes:0,firstContext:o}}else Ja=Ja.next=o;return i}var oa=null;function Sm(o){oa===null?oa=[o]:oa.push(o)}function th(o,i,u,d){var m=i.interleaved;return m===null?(u.next=u,Sm(i)):(u.next=m.next,m.next=u),i.interleaved=u,Ao(o,d)}function Ao(o,i){o.lanes|=i;var u=o.alternate;for(u!==null&&(u.lanes|=i),u=o,o=o.return;o!==null;)o.childLanes|=i,u=o.alternate,u!==null&&(u.childLanes|=i),u=o,o=o.return;return u.tag===3?u.stateNode:null}var Si=!1;function xm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ni(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function xi(o,i,u){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,st&2){var m=d.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),d.pending=i,Ao(o,u)}return m=d.interleaved,m===null?(i.next=i,Sm(d)):(i.next=m.next,m.next=i),d.interleaved=i,Ao(o,u)}function eu(o,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var d=i.lanes;d&=o.pendingLanes,u|=d,i.lanes=u,Ml(o,u)}}function rh(o,i){var u=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,h=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};h===null?m=h=T:h=h.next=T,u=u.next}while(u!==null);h===null?m=h=i:h=h.next=i}else m=h=i;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:h,shared:d.shared,effects:d.effects},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=i:o.next=i,u.lastBaseUpdate=i}function tu(o,i,u,d){var m=o.updateQueue;Si=!1;var h=m.firstBaseUpdate,T=m.lastBaseUpdate,z=m.shared.pending;if(z!==null){m.shared.pending=null;var Y=z,fe=Y.next;Y.next=null,T===null?h=fe:T.next=fe,T=Y;var Ie=o.alternate;Ie!==null&&(Ie=Ie.updateQueue,z=Ie.lastBaseUpdate,z!==T&&(z===null?Ie.firstBaseUpdate=fe:z.next=fe,Ie.lastBaseUpdate=Y))}if(h!==null){var Qe=m.baseState;T=0,Ie=fe=Y=null,z=h;do{var Te=z.lane,Ut=z.eventTime;if((d&Te)===Te){Ie!==null&&(Ie=Ie.next={eventTime:Ut,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Pt=o,lr=z;switch(Te=i,Ut=u,lr.tag){case 1:if(Pt=lr.payload,typeof Pt=="function"){Qe=Pt.call(Ut,Qe,Te);break e}Qe=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=lr.payload,Te=typeof Pt=="function"?Pt.call(Ut,Qe,Te):Pt,Te==null)break e;Qe=a({},Qe,Te);break e;case 2:Si=!0}}z.callback!==null&&z.lane!==0&&(o.flags|=64,Te=m.effects,Te===null?m.effects=[z]:Te.push(z))}else Ut={eventTime:Ut,lane:Te,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Ie===null?(fe=Ie=Ut,Y=Qe):Ie=Ie.next=Ut,T|=Te;if(z=z.next,z===null){if(z=m.shared.pending,z===null)break;Te=z,z=Te.next,Te.next=null,m.lastBaseUpdate=Te,m.shared.pending=null}}while(1);if(Ie===null&&(Y=Qe),m.baseState=Y,m.firstBaseUpdate=fe,m.lastBaseUpdate=Ie,i=m.shared.interleaved,i!==null){m=i;do T|=m.lane,m=m.next;while(m!==i)}else h===null&&(m.shared.lanes=0);aa|=T,o.lanes=T,o.memoizedState=Qe}}function oh(o,i,u){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var d=o[i],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(f(191,m));m.call(d)}}}var zl={},Ur=tn(zl),Dl=tn(zl),Ka=tn(zl);function Ro(o){if(o===zl)throw Error(f(174));return o}function bm(o,i){nt(Ka,i),nt(Dl,o),nt(Ur,zl),o=$e(i),at(Ur),nt(Ur,o)}function Za(){at(Ur),at(Dl),at(Ka)}function ih(o){var i=Ro(Ka.current),u=Ro(Ur.current);i=Ke(u,o.type,i),u!==i&&(nt(Dl,o),nt(Ur,i))}function vm(o){Dl.current===o&&(at(Ur),at(Dl))}var Kt=tn(0);function nu(o){for(var i=o;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||vo(u)||Rl(u)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var wm=[];function km(){for(var o=0;o<wm.length;o++){var i=wm[o];J?i._workInProgressVersionPrimary=null:i._workInProgressVersionSecondary=null}wm.length=0}var ru=c.ReactCurrentDispatcher,Cm=c.ReactCurrentBatchConfig,ia=0,Zt=null,mn=null,bn=null,ou=!1,Ul=!1,Ll=0,RT=0;function Ln(){throw Error(f(321))}function Im(o,i){if(i===null)return!1;for(var u=0;u<i.length&&u<o.length;u++)if(!$r(o[u],i[u]))return!1;return!0}function Am(o,i,u,d,m,h){if(ia=h,Zt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ru.current=o===null||o.memoizedState===null?_T:OT,o=u(d,m),Ul){h=0;do{if(Ul=!1,Ll=0,25<=h)throw Error(f(301));h+=1,bn=mn=null,i.updateQueue=null,ru.current=BT,o=u(d,m)}while(Ul)}if(ru.current=su,i=mn!==null&&mn.next!==null,ia=0,bn=mn=Zt=null,ou=!1,i)throw Error(f(300));return o}function Rm(){var o=Ll!==0;return Ll=0,o}function Po(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Zt.memoizedState=bn=o:bn=bn.next=o,bn}function Lr(){if(mn===null){var o=Zt.alternate;o=o!==null?o.memoizedState:null}else o=mn.next;var i=bn===null?Zt.memoizedState:bn.next;if(i!==null)bn=i,mn=o;else{if(o===null)throw Error(f(310));mn=o,o={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},bn===null?Zt.memoizedState=bn=o:bn=bn.next=o}return bn}function Fl(o,i){return typeof i=="function"?i(o):i}function Pm(o){var i=Lr(),u=i.queue;if(u===null)throw Error(f(311));u.lastRenderedReducer=o;var d=mn,m=d.baseQueue,h=u.pending;if(h!==null){if(m!==null){var T=m.next;m.next=h.next,h.next=T}d.baseQueue=m=h,u.pending=null}if(m!==null){h=m.next,d=d.baseState;var z=T=null,Y=null,fe=h;do{var Ie=fe.lane;if((ia&Ie)===Ie)Y!==null&&(Y=Y.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),d=fe.hasEagerState?fe.eagerState:o(d,fe.action);else{var Qe={lane:Ie,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};Y===null?(z=Y=Qe,T=d):Y=Y.next=Qe,Zt.lanes|=Ie,aa|=Ie}fe=fe.next}while(fe!==null&&fe!==h);Y===null?T=d:Y.next=z,$r(d,i.memoizedState)||(ir=!0),i.memoizedState=d,i.baseState=T,i.baseQueue=Y,u.lastRenderedState=d}if(o=u.interleaved,o!==null){m=o;do h=m.lane,Zt.lanes|=h,aa|=h,m=m.next;while(m!==o)}else m===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Nm(o){var i=Lr(),u=i.queue;if(u===null)throw Error(f(311));u.lastRenderedReducer=o;var d=u.dispatch,m=u.pending,h=i.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do h=o(h,T.action),T=T.next;while(T!==m);$r(h,i.memoizedState)||(ir=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),u.lastRenderedState=h}return[h,d]}function ah(){}function sh(o,i){var u=Zt,d=Lr(),m=i(),h=!$r(d.memoizedState,m);if(h&&(d.memoizedState=m,ir=!0),d=d.queue,Mm(uh.bind(null,u,d,o),[o]),d.getSnapshot!==i||h||bn!==null&&bn.memoizedState.tag&1){if(u.flags|=2048,Vl(9,ch.bind(null,u,d,m,i),void 0,null),vn===null)throw Error(f(349));ia&30||lh(u,i,m)}return m}function lh(o,i,u){o.flags|=16384,o={getSnapshot:i,value:u},i=Zt.updateQueue,i===null?(i={lastEffect:null,stores:null},Zt.updateQueue=i,i.stores=[o]):(u=i.stores,u===null?i.stores=[o]:u.push(o))}function ch(o,i,u,d){i.value=u,i.getSnapshot=d,fh(i)&&dh(o)}function uh(o,i,u){return u(function(){fh(i)&&dh(o)})}function fh(o){var i=o.getSnapshot;o=o.value;try{var u=i();return!$r(o,u)}catch{return!0}}function dh(o){var i=Ao(o,1);i!==null&&Fr(i,o,1,-1)}function mh(o){var i=Po();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:o},i.queue=o,o=o.dispatch=MT.bind(null,Zt,o),[i.memoizedState,o]}function Vl(o,i,u,d){return o={tag:o,create:i,destroy:u,deps:d,next:null},i=Zt.updateQueue,i===null?(i={lastEffect:null,stores:null},Zt.updateQueue=i,i.lastEffect=o.next=o):(u=i.lastEffect,u===null?i.lastEffect=o.next=o:(d=u.next,u.next=o,o.next=d,i.lastEffect=o)),o}function ph(){return Lr().memoizedState}function iu(o,i,u,d){var m=Po();Zt.flags|=o,m.memoizedState=Vl(1|i,u,void 0,d===void 0?null:d)}function au(o,i,u,d){var m=Lr();d=d===void 0?null:d;var h=void 0;if(mn!==null){var T=mn.memoizedState;if(h=T.destroy,d!==null&&Im(d,T.deps)){m.memoizedState=Vl(i,u,h,d);return}}Zt.flags|=o,m.memoizedState=Vl(1|i,u,h,d)}function hh(o,i){return iu(8390656,8,o,i)}function Mm(o,i){return au(2048,8,o,i)}function yh(o,i){return au(4,2,o,i)}function gh(o,i){return au(4,4,o,i)}function Eh(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function Th(o,i,u){return u=u!=null?u.concat([o]):null,au(4,4,Eh.bind(null,i,o),u)}function _m(){}function Sh(o,i){var u=Lr();i=i===void 0?null:i;var d=u.memoizedState;return d!==null&&i!==null&&Im(i,d[1])?d[0]:(u.memoizedState=[o,i],o)}function xh(o,i){var u=Lr();i=i===void 0?null:i;var d=u.memoizedState;return d!==null&&i!==null&&Im(i,d[1])?d[0]:(o=o(),u.memoizedState=[o,i],o)}function bh(o,i,u){return ia&21?($r(u,i)||(u=Wc(),Zt.lanes|=u,aa|=u,o.baseState=!0),i):(o.baseState&&(o.baseState=!1,ir=!0),o.memoizedState=u)}function PT(o,i){var u=dt;dt=u!==0&&4>u?u:4,o(!0);var d=Cm.transition;Cm.transition={};try{o(!1),i()}finally{dt=u,Cm.transition=d}}function vh(){return Lr().memoizedState}function NT(o,i,u){var d=wi(o);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},wh(o))kh(i,u);else if(u=th(o,i,u,d),u!==null){var m=Wn();Fr(u,o,d,m),Ch(u,i,d)}}function MT(o,i,u){var d=wi(o),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(wh(o))kh(i,m);else{var h=o.alternate;if(o.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var T=i.lastRenderedState,z=h(T,u);if(m.hasEagerState=!0,m.eagerState=z,$r(z,T)){var Y=i.interleaved;Y===null?(m.next=m,Sm(i)):(m.next=Y.next,Y.next=m),i.interleaved=m;return}}catch{}finally{}u=th(o,i,m,d),u!==null&&(m=Wn(),Fr(u,o,d,m),Ch(u,i,d))}}function wh(o){var i=o.alternate;return o===Zt||i!==null&&i===Zt}function kh(o,i){Ul=ou=!0;var u=o.pending;u===null?i.next=i:(i.next=u.next,u.next=i),o.pending=i}function Ch(o,i,u){if(u&4194240){var d=i.lanes;d&=o.pendingLanes,u|=d,i.lanes=u,Ml(o,u)}}var su={readContext:Dr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},_T={readContext:Dr,useCallback:function(o,i){return Po().memoizedState=[o,i===void 0?null:i],o},useContext:Dr,useEffect:hh,useImperativeHandle:function(o,i,u){return u=u!=null?u.concat([o]):null,iu(4194308,4,Eh.bind(null,i,o),u)},useLayoutEffect:function(o,i){return iu(4194308,4,o,i)},useInsertionEffect:function(o,i){return iu(4,2,o,i)},useMemo:function(o,i){var u=Po();return i=i===void 0?null:i,o=o(),u.memoizedState=[o,i],o},useReducer:function(o,i,u){var d=Po();return i=u!==void 0?u(i):i,d.memoizedState=d.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},d.queue=o,o=o.dispatch=NT.bind(null,Zt,o),[d.memoizedState,o]},useRef:function(o){var i=Po();return o={current:o},i.memoizedState=o},useState:mh,useDebugValue:_m,useDeferredValue:function(o){return Po().memoizedState=o},useTransition:function(){var o=mh(!1),i=o[0];return o=PT.bind(null,o[1]),Po().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,u){var d=Zt,m=Po();if(jt){if(u===void 0)throw Error(f(407));u=u()}else{if(u=i(),vn===null)throw Error(f(349));ia&30||lh(d,i,u)}m.memoizedState=u;var h={value:u,getSnapshot:i};return m.queue=h,hh(uh.bind(null,d,h,o),[o]),d.flags|=2048,Vl(9,ch.bind(null,d,h,u,i),void 0,null),u},useId:function(){var o=Po(),i=vn.identifierPrefix;if(jt){var u=ti,d=ei;u=(d&~(1<<32-dn(d)-1)).toString(32)+u,i=":"+i+"R"+u,u=Ll++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=RT++,i=":"+i+"r"+u.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},OT={readContext:Dr,useCallback:Sh,useContext:Dr,useEffect:Mm,useImperativeHandle:Th,useInsertionEffect:yh,useLayoutEffect:gh,useMemo:xh,useReducer:Pm,useRef:ph,useState:function(){return Pm(Fl)},useDebugValue:_m,useDeferredValue:function(o){var i=Lr();return bh(i,mn.memoizedState,o)},useTransition:function(){var o=Pm(Fl)[0],i=Lr().memoizedState;return[o,i]},useMutableSource:ah,useSyncExternalStore:sh,useId:vh,unstable_isNewReconciler:!1},BT={readContext:Dr,useCallback:Sh,useContext:Dr,useEffect:Mm,useImperativeHandle:Th,useInsertionEffect:yh,useLayoutEffect:gh,useMemo:xh,useReducer:Nm,useRef:ph,useState:function(){return Nm(Fl)},useDebugValue:_m,useDeferredValue:function(o){var i=Lr();return mn===null?i.memoizedState=o:bh(i,mn.memoizedState,o)},useTransition:function(){var o=Nm(Fl)[0],i=Lr().memoizedState;return[o,i]},useMutableSource:ah,useSyncExternalStore:sh,useId:vh,unstable_isNewReconciler:!1};function Zr(o,i){if(o&&o.defaultProps){i=a({},i),o=o.defaultProps;for(var u in o)i[u]===void 0&&(i[u]=o[u]);return i}return i}function Om(o,i,u,d){i=o.memoizedState,u=u(d,i),u=u==null?i:a({},i,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var lu={isMounted:function(o){return(o=o._reactInternals)?oe(o)===o:!1},enqueueSetState:function(o,i,u){o=o._reactInternals;var d=Wn(),m=wi(o),h=ni(d,m);h.payload=i,u!=null&&(h.callback=u),i=xi(o,h,m),i!==null&&(Fr(i,o,m,d),eu(i,o,m))},enqueueReplaceState:function(o,i,u){o=o._reactInternals;var d=Wn(),m=wi(o),h=ni(d,m);h.tag=1,h.payload=i,u!=null&&(h.callback=u),i=xi(o,h,m),i!==null&&(Fr(i,o,m,d),eu(i,o,m))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var u=Wn(),d=wi(o),m=ni(u,d);m.tag=2,i!=null&&(m.callback=i),i=xi(o,m,d),i!==null&&(Fr(i,o,d,u),eu(i,o,d))}};function Ih(o,i,u,d,m,h,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,h,T):i.prototype&&i.prototype.isPureReactComponent?!$c(u,d)||!$c(m,h):!0}function Ah(o,i,u){var d=!1,m=nn,h=i.contextType;return typeof h=="object"&&h!==null?h=Dr(h):(m=Gt(i)?Pn:It.current,d=i.contextTypes,h=(d=d!=null)?Un(o,m):nn),i=new i(u,h),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=lu,o.stateNode=i,i._reactInternals=o,d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=m,o.__reactInternalMemoizedMaskedChildContext=h),i}function Rh(o,i,u,d){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,d),i.state!==o&&lu.enqueueReplaceState(i,i.state,null)}function Bm(o,i,u,d){var m=o.stateNode;m.props=u,m.state=o.memoizedState,m.refs={},xm(o);var h=i.contextType;typeof h=="object"&&h!==null?m.context=Dr(h):(h=Gt(i)?Pn:It.current,m.context=Un(o,h)),m.state=o.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(Om(o,i,h,u),m.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&lu.enqueueReplaceState(m,m.state,null),tu(o,u,m,d),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308)}function Xa(o,i){try{var u="",d=i;do u+=AT(d),d=d.return;while(d);var m=u}catch(h){m=`
Error generating stack: `+h.message+`
`+h.stack}return{value:o,source:i,stack:m,digest:null}}function zm(o,i,u){return{value:o,source:null,stack:u??null,digest:i??null}}function Dm(o,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var zT=typeof WeakMap=="function"?WeakMap:Map;function Ph(o,i,u){u=ni(-1,u),u.tag=3,u.payload={element:null};var d=i.value;return u.callback=function(){bu||(bu=!0,rp=d),Dm(o,i)},u}function Nh(o,i,u){u=ni(-1,u),u.tag=3;var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=i.value;u.payload=function(){return d(m)},u.callback=function(){Dm(o,i)}}var h=o.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(u.callback=function(){Dm(o,i),typeof d!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),u}function Mh(o,i,u){var d=o.pingCache;if(d===null){d=o.pingCache=new zT;var m=new Set;d.set(i,m)}else m=d.get(i),m===void 0&&(m=new Set,d.set(i,m));m.has(u)||(m.add(u),o=$T.bind(null,o,i,u),i.then(o,o))}function _h(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function Oh(o,i,u,d,m){return o.mode&1?(o.flags|=65536,o.lanes=m,o):(o===i?o.flags|=65536:(o.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=ni(-1,1),i.tag=2,xi(u,i,1))),u.lanes|=1),o)}var DT=c.ReactCurrentOwner,ir=!1;function Jn(o,i,u,d){i.child=o===null?X0(i,null,u,d):Ya(i,o.child,u,d)}function Bh(o,i,u,d,m){u=u.render;var h=i.ref;return $a(i,m),d=Am(o,i,u,d,h,m),u=Rm(),o!==null&&!ir?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~m,ri(o,i,m)):(jt&&u&&fm(i),i.flags|=1,Jn(o,i,d,m),i.child)}function zh(o,i,u,d,m){if(o===null){var h=u.type;return typeof h=="function"&&!cp(h)&&h.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=h,Dh(o,i,h,d,m)):(o=Au(u.type,null,d,i,i.mode,m),o.ref=i.ref,o.return=i,i.child=o)}if(h=o.child,!(o.lanes&m)){var T=h.memoizedProps;if(u=u.compare,u=u!==null?u:$c,u(T,d)&&o.ref===i.ref)return ri(o,i,m)}return i.flags|=1,o=Ci(h,d),o.ref=i.ref,o.return=i,i.child=o}function Dh(o,i,u,d,m){if(o!==null){var h=o.memoizedProps;if($c(h,d)&&o.ref===i.ref)if(ir=!1,i.pendingProps=d=h,(o.lanes&m)!==0)o.flags&131072&&(ir=!0);else return i.lanes=o.lanes,ri(o,i,m)}return Um(o,i,u,d,m)}function Uh(o,i,u){var d=i.pendingProps,m=d.children,h=o!==null?o.memoizedState:null;if(d.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ts,Er),Er|=u;else{if(!(u&1073741824))return o=h!==null?h.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,nt(ts,Er),Er|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=h!==null?h.baseLanes:u,nt(ts,Er),Er|=d}else h!==null?(d=h.baseLanes|u,i.memoizedState=null):d=u,nt(ts,Er),Er|=d;return Jn(o,i,m,u),i.child}function Lh(o,i){var u=i.ref;(o===null&&u!==null||o!==null&&o.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Um(o,i,u,d,m){var h=Gt(u)?Pn:It.current;return h=Un(i,h),$a(i,m),u=Am(o,i,u,d,h,m),d=Rm(),o!==null&&!ir?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~m,ri(o,i,m)):(jt&&d&&fm(i),i.flags|=1,Jn(o,i,u,m),i.child)}function Fh(o,i,u,d,m){if(Gt(u)){var h=!0;Mr(i)}else h=!1;if($a(i,m),i.stateNode===null)uu(o,i),Ah(i,u,d),Bm(i,u,d,m),d=!0;else if(o===null){var T=i.stateNode,z=i.memoizedProps;T.props=z;var Y=T.context,fe=u.contextType;typeof fe=="object"&&fe!==null?fe=Dr(fe):(fe=Gt(u)?Pn:It.current,fe=Un(i,fe));var Ie=u.getDerivedStateFromProps,Qe=typeof Ie=="function"||typeof T.getSnapshotBeforeUpdate=="function";Qe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==d||Y!==fe)&&Rh(i,T,d,fe),Si=!1;var Te=i.memoizedState;T.state=Te,tu(i,d,T,m),Y=i.memoizedState,z!==d||Te!==Y||Mt.current||Si?(typeof Ie=="function"&&(Om(i,u,Ie,d),Y=i.memoizedState),(z=Si||Ih(i,u,z,d,Te,Y,fe))?(Qe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=Y),T.props=d,T.state=Y,T.context=fe,d=z):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{T=i.stateNode,nh(o,i),z=i.memoizedProps,fe=i.type===i.elementType?z:Zr(i.type,z),T.props=fe,Qe=i.pendingProps,Te=T.context,Y=u.contextType,typeof Y=="object"&&Y!==null?Y=Dr(Y):(Y=Gt(u)?Pn:It.current,Y=Un(i,Y));var Ut=u.getDerivedStateFromProps;(Ie=typeof Ut=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==Qe||Te!==Y)&&Rh(i,T,d,Y),Si=!1,Te=i.memoizedState,T.state=Te,tu(i,d,T,m);var Pt=i.memoizedState;z!==Qe||Te!==Pt||Mt.current||Si?(typeof Ut=="function"&&(Om(i,u,Ut,d),Pt=i.memoizedState),(fe=Si||Ih(i,u,fe,d,Te,Pt,Y)||!1)?(Ie||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,Pt,Y),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,Pt,Y)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||z===o.memoizedProps&&Te===o.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Te===o.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Pt),T.props=d,T.state=Pt,T.context=Y,d=fe):(typeof T.componentDidUpdate!="function"||z===o.memoizedProps&&Te===o.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Te===o.memoizedState||(i.flags|=1024),d=!1)}return Lm(o,i,u,d,h,m)}function Lm(o,i,u,d,m,h){Lh(o,i);var T=(i.flags&128)!==0;if(!d&&!T)return m&&ko(i,u,!1),ri(o,i,h);d=i.stateNode,DT.current=i;var z=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,o!==null&&T?(i.child=Ya(i,o.child,null,h),i.child=Ya(i,null,z,h)):Jn(o,i,z,h),i.memoizedState=d.state,m&&ko(i,u,!0),i.child}function Vh(o){var i=o.stateNode;i.pendingContext?wo(o,i.pendingContext,i.pendingContext!==i.context):i.context&&wo(o,i.context,!1),bm(o,i.containerInfo)}function Wh(o,i,u,d,m){return Qa(),hm(m),i.flags|=256,Jn(o,i,u,d),i.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function Vm(o){return{baseLanes:o,cachePool:null,transitions:null}}function Gh(o,i,u){var d=i.pendingProps,m=Kt.current,h=!1,T=(i.flags&128)!==0,z;if((z=T)||(z=o!==null&&o.memoizedState===null?!1:(m&2)!==0),z?(h=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&(m|=1),nt(Kt,m&1),o===null)return pm(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(i.mode&1?Rl(o)?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(T=d.children,o=d.fallback,h?(d=i.mode,h=i.child,T={mode:"hidden",children:T},!(d&1)&&h!==null?(h.childLanes=0,h.pendingProps=T):h=Ru(T,d,0,null),o=ua(o,d,u,null),h.return=i,o.return=i,h.sibling=o,i.child=h,i.child.memoizedState=Vm(u),i.memoizedState=Fm,o):Wm(i,T));if(m=o.memoizedState,m!==null&&(z=m.dehydrated,z!==null))return UT(o,i,T,d,z,m,u);if(h){h=d.fallback,T=i.mode,m=o.child,z=m.sibling;var Y={mode:"hidden",children:d.children};return!(T&1)&&i.child!==m?(d=i.child,d.childLanes=0,d.pendingProps=Y,i.deletions=null):(d=Ci(m,Y),d.subtreeFlags=m.subtreeFlags&14680064),z!==null?h=Ci(z,h):(h=ua(h,T,u,null),h.flags|=2),h.return=i,d.return=i,d.sibling=h,i.child=d,d=h,h=i.child,T=o.child.memoizedState,T=T===null?Vm(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},h.memoizedState=T,h.childLanes=o.childLanes&~u,i.memoizedState=Fm,d}return h=o.child,o=h.sibling,d=Ci(h,{mode:"visible",children:d.children}),!(i.mode&1)&&(d.lanes=u),d.return=i,d.sibling=null,o!==null&&(u=i.deletions,u===null?(i.deletions=[o],i.flags|=16):u.push(o)),i.child=d,i.memoizedState=null,d}function Wm(o,i){return i=Ru({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function cu(o,i,u,d){return d!==null&&hm(d),Ya(i,o.child,null,u),o=Wm(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function UT(o,i,u,d,m,h,T){if(u)return i.flags&256?(i.flags&=-257,d=zm(Error(f(422))),cu(o,i,T,d)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(h=d.fallback,m=i.mode,d=Ru({mode:"visible",children:d.children},m,0,null),h=ua(h,m,T,null),h.flags|=2,d.return=i,h.return=i,d.sibling=h,i.child=d,i.mode&1&&Ya(i,o.child,null,T),i.child.memoizedState=Vm(T),i.memoizedState=Fm,h);if(!(i.mode&1))return cu(o,i,T,null);if(Rl(m))return d=rm(m).digest,h=Error(f(419)),d=zm(h,d,void 0),cu(o,i,T,d);if(u=(T&o.childLanes)!==0,ir||u){if(d=vn,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|T)?0:m,m!==0&&m!==h.retryLane&&(h.retryLane=m,Ao(o,m),Fr(d,o,m,-1))}return lp(),d=zm(Error(f(421))),cu(o,i,T,d)}return vo(m)?(i.flags|=128,i.child=o.child,i=KT.bind(null,o),Lc(m,i),null):(o=h.treeContext,Dn&&(zr=E(m),gr=i,jt=!0,Kr=null,Ol=!1,o!==null&&(Or[Br++]=ei,Or[Br++]=ti,Or[Br++]=na,ei=o.id,ti=o.overflow,na=i)),i=Wm(i,d.children),i.flags|=4096,i)}function Hh(o,i,u){o.lanes|=i;var d=o.alternate;d!==null&&(d.lanes|=i),Tm(o.return,i,u)}function Gm(o,i,u,d,m){var h=o.memoizedState;h===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=d,h.tail=u,h.tailMode=m)}function jh(o,i,u){var d=i.pendingProps,m=d.revealOrder,h=d.tail;if(Jn(o,i,d.children,u),d=Kt.current,d&2)d=d&1|2,i.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Hh(o,u,i);else if(o.tag===19)Hh(o,u,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}if(nt(Kt,d),!(i.mode&1))i.memoizedState=null;else switch(m){case"forwards":for(u=i.child,m=null;u!==null;)o=u.alternate,o!==null&&nu(o)===null&&(m=u),u=u.sibling;u=m,u===null?(m=i.child,i.child=null):(m=u.sibling,u.sibling=null),Gm(i,!1,m,u,h);break;case"backwards":for(u=null,m=i.child,i.child=null;m!==null;){if(o=m.alternate,o!==null&&nu(o)===null){i.child=m;break}o=m.sibling,m.sibling=u,u=m,m=o}Gm(i,!0,u,null,h);break;case"together":Gm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function uu(o,i){!(i.mode&1)&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function ri(o,i,u){if(o!==null&&(i.dependencies=o.dependencies),aa|=i.lanes,!(u&i.childLanes))return null;if(o!==null&&i.child!==o.child)throw Error(f(153));if(i.child!==null){for(o=i.child,u=Ci(o,o.pendingProps),i.child=u,u.return=i;o.sibling!==null;)o=o.sibling,u=u.sibling=Ci(o,o.pendingProps),u.return=i;u.sibling=null}return i.child}function LT(o,i,u){switch(i.tag){case 3:Vh(i),Qa();break;case 5:ih(i);break;case 1:Gt(i.type)&&Mr(i);break;case 4:bm(i,i.stateNode.containerInfo);break;case 10:eh(i,i.type._context,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(nt(Kt,Kt.current&1),i.flags|=128,null):u&i.child.childLanes?Gh(o,i,u):(nt(Kt,Kt.current&1),o=ri(o,i,u),o!==null?o.sibling:null);nt(Kt,Kt.current&1);break;case 19:if(d=(u&i.childLanes)!==0,o.flags&128){if(d)return jh(o,i,u);i.flags|=128}var m=i.memoizedState;if(m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(Kt,Kt.current),d)break;return null;case 22:case 23:return i.lanes=0,Uh(o,i,u)}return ri(o,i,u)}function No(o){o.flags|=4}function qh(o,i){if(o!==null&&o.child===i.child)return!0;if(i.flags&16)return!1;for(o=i.child;o!==null;){if(o.flags&12854||o.subtreeFlags&12854)return!1;o=o.sibling}return!0}var Wl,Gl,fu,du;if(ve)Wl=function(o,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)ut(o,u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Gl=function(){},fu=function(o,i,u,d,m){if(o=o.memoizedProps,o!==d){var h=i.stateNode,T=Ro(Ur.current);u=tt(h,u,o,d,m,T),(i.updateQueue=u)&&No(i)}},du=function(o,i,u,d){u!==d&&No(i)};else if(Tt){Wl=function(o,i,u,d){for(var m=i.child;m!==null;){if(m.tag===5){var h=m.stateNode;u&&d&&(h=un(h,m.type,m.memoizedProps,m)),ut(o,h)}else if(m.tag===6)h=m.stateNode,u&&d&&(h=Vt(h,m.memoizedProps,m)),ut(o,h);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)h=m.child,h!==null&&(h.return=m),Wl(o,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===i)break;for(;m.sibling===null;){if(m.return===null||m.return===i)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};var Qh=function(o,i,u,d){for(var m=i.child;m!==null;){if(m.tag===5){var h=m.stateNode;u&&d&&(h=un(h,m.type,m.memoizedProps,m)),we(o,h)}else if(m.tag===6)h=m.stateNode,u&&d&&(h=Vt(h,m.memoizedProps,m)),we(o,h);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)h=m.child,h!==null&&(h.return=m),Qh(o,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===i)break;for(;m.sibling===null;){if(m.return===null||m.return===i)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};Gl=function(o,i){var u=i.stateNode;if(!qh(o,i)){o=u.containerInfo;var d=me(o);Qh(d,i,!1,!1),u.pendingChildren=d,No(i),Ve(o,d)}},fu=function(o,i,u,d,m){var h=o.stateNode,T=o.memoizedProps;if((o=qh(o,i))&&T===d)i.stateNode=h;else{var z=i.stateNode,Y=Ro(Ur.current),fe=null;T!==d&&(fe=tt(z,u,T,d,m,Y)),o&&fe===null?i.stateNode=h:(h=ge(h,fe,u,T,d,i,o,z),Nt(h,u,d,m,Y)&&No(i),i.stateNode=h,o?No(i):Wl(h,i,!1,!1))}},du=function(o,i,u,d){u!==d?(o=Ro(Ka.current),u=Ro(Ur.current),i.stateNode=W(d,o,u,i),No(i)):i.stateNode=o.stateNode}}else Gl=function(){},fu=function(){},du=function(){};function Hl(o,i){if(!jt)switch(o.tailMode){case"hidden":i=o.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function Fn(o){var i=o.alternate!==null&&o.alternate.child===o.child,u=0,d=0;if(i)for(var m=o.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=d,o.childLanes=u,i}function FT(o,i,u){var d=i.pendingProps;switch(dm(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(i),null;case 1:return Gt(i.type)&&Nr(),Fn(i),null;case 3:return u=i.stateNode,Za(),at(Mt),at(It),km(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(Jc(i)?No(i):o===null||o.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Kr!==null&&(ap(Kr),Kr=null))),Gl(o,i),Fn(i),null;case 5:vm(i),u=Ro(Ka.current);var m=i.type;if(o!==null&&i.stateNode!=null)fu(o,i,m,d,u),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(f(166));return Fn(i),null}if(o=Ro(Ur.current),Jc(i)){if(!Dn)throw Error(f(175));o=b(i.stateNode,i.type,i.memoizedProps,u,o,i,!Ol),i.updateQueue=o,o!==null&&No(i)}else{var h=pt(m,d,u,o,i);Wl(h,i,!1,!1),i.stateNode=h,Nt(h,m,d,u,o)&&No(i)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Fn(i),null;case 6:if(o&&i.stateNode!=null)du(o,i,o.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(f(166));if(o=Ro(Ka.current),u=Ro(Ur.current),Jc(i)){if(!Dn)throw Error(f(176));if(o=i.stateNode,u=i.memoizedProps,(d=C(o,u,i,!Ol))&&(m=gr,m!==null))switch(m.tag){case 3:Ge(m.stateNode.containerInfo,o,u,(m.mode&1)!==0);break;case 5:ht(m.type,m.memoizedProps,m.stateNode,o,u,(m.mode&1)!==0)}d&&No(i)}else i.stateNode=W(d,o,u,i)}return Fn(i),null;case 13:if(at(Kt),d=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(jt&&zr!==null&&i.mode&1&&!(i.flags&128))$0(),Qa(),i.flags|=98560,m=!1;else if(m=Jc(i),d!==null&&d.dehydrated!==null){if(o===null){if(!m)throw Error(f(318));if(!Dn)throw Error(f(344));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(f(317));R(m,i)}else Qa(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Fn(i),m=!1}else Kr!==null&&(ap(Kr),Kr=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=u,i):(u=d!==null,u!==(o!==null&&o.memoizedState!==null)&&u&&(i.child.flags|=8192,i.mode&1&&(o===null||Kt.current&1?pn===0&&(pn=3):lp())),i.updateQueue!==null&&(i.flags|=4),Fn(i),null);case 4:return Za(),Gl(o,i),o===null&&za(i.stateNode.containerInfo),Fn(i),null;case 10:return Em(i.type._context),Fn(i),null;case 17:return Gt(i.type)&&Nr(),Fn(i),null;case 19:if(at(Kt),m=i.memoizedState,m===null)return Fn(i),null;if(d=(i.flags&128)!==0,h=m.rendering,h===null)if(d)Hl(m,!1);else{if(pn!==0||o!==null&&o.flags&128)for(o=i.child;o!==null;){if(h=nu(o),h!==null){for(i.flags|=128,Hl(m,!1),o=h.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=u,u=i.child;u!==null;)d=u,m=o,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=m,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,m=h.dependencies,d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),u=u.sibling;return nt(Kt,Kt.current&1|2),i.child}o=o.sibling}m.tail!==null&&xn()>np&&(i.flags|=128,d=!0,Hl(m,!1),i.lanes=4194304)}else{if(!d)if(o=nu(h),o!==null){if(i.flags|=128,d=!0,o=o.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Hl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!h.alternate&&!jt)return Fn(i),null}else 2*xn()-m.renderingStartTime>np&&u!==1073741824&&(i.flags|=128,d=!0,Hl(m,!1),i.lanes=4194304);m.isBackwards?(h.sibling=i.child,i.child=h):(o=m.last,o!==null?o.sibling=h:i.child=h,m.last=h)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=xn(),i.sibling=null,o=Kt.current,nt(Kt,d?o&1|2:o&1),i):(Fn(i),null);case 22:case 23:return sp(),u=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==u&&(i.flags|=8192),u&&i.mode&1?Er&1073741824&&(Fn(i),ve&&i.subtreeFlags&6&&(i.flags|=8192)):Fn(i),null;case 24:return null;case 25:return null}throw Error(f(156,i.tag))}function VT(o,i){switch(dm(i),i.tag){case 1:return Gt(i.type)&&Nr(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return Za(),at(Mt),at(It),km(),o=i.flags,o&65536&&!(o&128)?(i.flags=o&-65537|128,i):null;case 5:return vm(i),null;case 13:if(at(Kt),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(f(340));Qa()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return at(Kt),null;case 4:return Za(),null;case 10:return Em(i.type._context),null;case 22:case 23:return sp(),null;case 24:return null;default:return null}}var mu=!1,Vn=!1,WT=typeof WeakSet=="function"?WeakSet:Set,ke=null;function es(o,i){var u=o.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){qt(o,i,d)}else u.current=null}function Hm(o,i,u){try{u()}catch(d){qt(o,i,d)}}var Yh=!1;function GT(o,i){for(ot(o.containerInfo),ke=i;ke!==null;)if(o=ke,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ke=i;else for(;ke!==null;){o=ke;try{var u=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var d=u.memoizedProps,m=u.memoizedState,h=o.stateNode,T=h.getSnapshotBeforeUpdate(o.elementType===o.type?d:Zr(o.type,d),m);h.__reactInternalSnapshotBeforeUpdate=T}break;case 3:ve&&G(o.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(f(163))}}catch(z){qt(o,o.return,z)}if(i=o.sibling,i!==null){i.return=o.return,ke=i;break}ke=o.return}return u=Yh,Yh=!1,u}function jl(o,i,u){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&o)===o){var h=m.destroy;m.destroy=void 0,h!==void 0&&Hm(i,u,h)}m=m.next}while(m!==d)}}function pu(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&o)===o){var d=u.create;u.destroy=d()}u=u.next}while(u!==i)}}function jm(o){var i=o.ref;if(i!==null){var u=o.stateNode;switch(o.tag){case 5:o=Re(u);break;default:o=u}typeof i=="function"?i(o):i.current=o}}function Jh(o){var i=o.alternate;i!==null&&(o.alternate=null,Jh(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&Ji(i)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function $h(o){return o.tag===5||o.tag===3||o.tag===4}function Kh(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||$h(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function qm(o,i,u){var d=o.tag;if(d===5||d===6)o=o.stateNode,i?kl(u,o,i):vl(u,o);else if(d!==4&&(o=o.child,o!==null))for(qm(o,i,u),o=o.sibling;o!==null;)qm(o,i,u),o=o.sibling}function Qm(o,i,u){var d=o.tag;if(d===5||d===6)o=o.stateNode,i?Ki(u,o,i):Va(u,o);else if(d!==4&&(o=o.child,o!==null))for(Qm(o,i,u),o=o.sibling;o!==null;)Qm(o,i,u),o=o.sibling}var Nn=null,Xr=!1;function Mo(o,i,u){for(u=u.child;u!==null;)Ym(o,i,u),u=u.sibling}function Ym(o,i,u){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(jc,u)}catch{}switch(u.tag){case 5:Vn||es(u,i);case 6:if(ve){var d=Nn,m=Xr;Nn=null,Mo(o,i,u),Nn=d,Xr=m,Nn!==null&&(Xr?Ga(Nn,u.stateNode):Cl(Nn,u.stateNode))}else Mo(o,i,u);break;case 18:ve&&Nn!==null&&(Xr?Ce(Nn,u.stateNode):de(Nn,u.stateNode));break;case 4:ve?(d=Nn,m=Xr,Nn=u.stateNode.containerInfo,Xr=!0,Mo(o,i,u),Nn=d,Xr=m):(Tt&&(d=u.stateNode.containerInfo,m=me(d),Ft(d,m)),Mo(o,i,u));break;case 0:case 11:case 14:case 15:if(!Vn&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var h=m,T=h.destroy;h=h.tag,T!==void 0&&(h&2||h&4)&&Hm(u,i,T),m=m.next}while(m!==d)}Mo(o,i,u);break;case 1:if(!Vn&&(es(u,i),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(z){qt(u,i,z)}Mo(o,i,u);break;case 21:Mo(o,i,u);break;case 22:u.mode&1?(Vn=(d=Vn)||u.memoizedState!==null,Mo(o,i,u),Vn=d):Mo(o,i,u);break;default:Mo(o,i,u)}}function Zh(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var u=o.stateNode;u===null&&(u=o.stateNode=new WT),i.forEach(function(d){var m=ZT.bind(null,o,d);u.has(d)||(u.add(d),d.then(m,m))})}}function eo(o,i){var u=i.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var h=o,T=i;if(ve){var z=T;e:for(;z!==null;){switch(z.tag){case 5:Nn=z.stateNode,Xr=!1;break e;case 3:Nn=z.stateNode.containerInfo,Xr=!0;break e;case 4:Nn=z.stateNode.containerInfo,Xr=!0;break e}z=z.return}if(Nn===null)throw Error(f(160));Ym(h,T,m),Nn=null,Xr=!1}else Ym(h,T,m);var Y=m.alternate;Y!==null&&(Y.return=null),m.return=null}catch(fe){qt(m,i,fe)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Xh(i,o),i=i.sibling}function Xh(o,i){var u=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(eo(i,o),_o(o),d&4){try{jl(3,o,o.return),pu(3,o)}catch(Te){qt(o,o.return,Te)}try{jl(5,o,o.return)}catch(Te){qt(o,o.return,Te)}}break;case 1:eo(i,o),_o(o),d&512&&u!==null&&es(u,u.return);break;case 5:if(eo(i,o),_o(o),d&512&&u!==null&&es(u,u.return),ve){if(o.flags&32){var m=o.stateNode;try{Zi(m)}catch(Te){qt(o,o.return,Te)}}if(d&4&&(m=o.stateNode,m!=null)){var h=o.memoizedProps;if(u=u!==null?u.memoizedProps:h,d=o.type,i=o.updateQueue,o.updateQueue=null,i!==null)try{wl(m,i,d,u,h,o)}catch(Te){qt(o,o.return,Te)}}}break;case 6:if(eo(i,o),_o(o),d&4&&ve){if(o.stateNode===null)throw Error(f(162));m=o.stateNode,h=o.memoizedProps,u=u!==null?u.memoizedProps:h;try{Wa(m,u,h)}catch(Te){qt(o,o.return,Te)}}break;case 3:if(eo(i,o),_o(o),d&4){if(ve&&Dn&&u!==null&&u.memoizedState.isDehydrated)try{ee(i.containerInfo)}catch(Te){qt(o,o.return,Te)}if(Tt){m=i.containerInfo,h=i.pendingChildren;try{Ft(m,h)}catch(Te){qt(o,o.return,Te)}}}break;case 4:if(eo(i,o),_o(o),d&4&&Tt){h=o.stateNode,m=h.containerInfo,h=h.pendingChildren;try{Ft(m,h)}catch(Te){qt(o,o.return,Te)}}break;case 13:eo(i,o),_o(o),m=o.child,m.flags&8192&&(h=m.memoizedState!==null,m.stateNode.isHidden=h,!h||m.alternate!==null&&m.alternate.memoizedState!==null||(tp=xn())),d&4&&Zh(o);break;case 22:var T=u!==null&&u.memoizedState!==null;if(o.mode&1?(Vn=(u=Vn)||T,eo(i,o),Vn=u):eo(i,o),_o(o),d&8192){if(u=o.memoizedState!==null,(o.stateNode.isHidden=u)&&!T&&o.mode&1)for(ke=o,d=o.child;d!==null;){for(i=ke=d;ke!==null;){T=ke;var z=T.child;switch(T.tag){case 0:case 11:case 14:case 15:jl(4,T,T.return);break;case 1:es(T,T.return);var Y=T.stateNode;if(typeof Y.componentWillUnmount=="function"){var fe=T,Ie=T.return;try{var Qe=fe;Y.props=Qe.memoizedProps,Y.state=Qe.memoizedState,Y.componentWillUnmount()}catch(Te){qt(fe,Ie,Te)}}break;case 5:es(T,T.return);break;case 22:if(T.memoizedState!==null){ny(i);continue}}z!==null?(z.return=T,ke=z):ny(i)}d=d.sibling}if(ve){e:if(d=null,ve)for(i=o;;){if(i.tag===5){if(d===null){d=i;try{m=i.stateNode,u?Il(m):v(i.stateNode,i.memoizedProps)}catch(Te){qt(o,o.return,Te)}}}else if(i.tag===6){if(d===null)try{h=i.stateNode,u?Al(h):_(h,i.memoizedProps)}catch(Te){qt(o,o.return,Te)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===o)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;d===i&&(d=null),i=i.return}d===i&&(d=null),i.sibling.return=i.return,i=i.sibling}}}break;case 19:eo(i,o),_o(o),d&4&&Zh(o);break;case 21:break;default:eo(i,o),_o(o)}}function _o(o){var i=o.flags;if(i&2){try{if(ve){e:{for(var u=o.return;u!==null;){if($h(u)){var d=u;break e}u=u.return}throw Error(f(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Zi(m),d.flags&=-33);var h=Kh(o);Qm(o,h,m);break;case 3:case 4:var T=d.stateNode.containerInfo,z=Kh(o);qm(o,z,T);break;default:throw Error(f(161))}}}catch(Y){qt(o,o.return,Y)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function HT(o,i,u){ke=o,ey(o,i,u)}function ey(o,i,u){for(var d=(o.mode&1)!==0;ke!==null;){var m=ke,h=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||mu;if(!T){var z=m.alternate,Y=z!==null&&z.memoizedState!==null||Vn;z=mu;var fe=Vn;if(mu=T,(Vn=Y)&&!fe)for(ke=m;ke!==null;)T=ke,Y=T.child,T.tag===22&&T.memoizedState!==null?ry(m):Y!==null?(Y.return=T,ke=Y):ry(m);for(;h!==null;)ke=h,ey(h,i,u),h=h.sibling;ke=m,mu=z,Vn=fe}ty(o,i,u)}else m.subtreeFlags&8772&&h!==null?(h.return=m,ke=h):ty(o,i,u)}}function ty(o){for(;ke!==null;){var i=ke;if(i.flags&8772){var u=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Vn||pu(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Vn)if(u===null)d.componentDidMount();else{var m=i.elementType===i.type?u.memoizedProps:Zr(i.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var h=i.updateQueue;h!==null&&oh(i,h,d);break;case 3:var T=i.updateQueue;if(T!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=Re(i.child.stateNode);break;case 1:u=i.child.stateNode}oh(i,T,u)}break;case 5:var z=i.stateNode;u===null&&i.flags&4&&Yo(z,i.type,i.memoizedProps,i);break;case 6:break;case 4:break;case 12:break;case 13:if(Dn&&i.memoizedState===null){var Y=i.alternate;if(Y!==null){var fe=Y.memoizedState;if(fe!==null){var Ie=fe.dehydrated;Ie!==null&&Z(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(f(163))}Vn||i.flags&512&&jm(i)}catch(Qe){qt(i,i.return,Qe)}}if(i===o){ke=null;break}if(u=i.sibling,u!==null){u.return=i.return,ke=u;break}ke=i.return}}function ny(o){for(;ke!==null;){var i=ke;if(i===o){ke=null;break}var u=i.sibling;if(u!==null){u.return=i.return,ke=u;break}ke=i.return}}function ry(o){for(;ke!==null;){var i=ke;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{pu(4,i)}catch(Y){qt(i,u,Y)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var m=i.return;try{d.componentDidMount()}catch(Y){qt(i,m,Y)}}var h=i.return;try{jm(i)}catch(Y){qt(i,h,Y)}break;case 5:var T=i.return;try{jm(i)}catch(Y){qt(i,T,Y)}}}catch(Y){qt(i,i.return,Y)}if(i===o){ke=null;break}var z=i.sibling;if(z!==null){z.return=i.return,ke=z;break}ke=i.return}}var hu=0,yu=1,gu=2,Eu=3,Tu=4;if(typeof Symbol=="function"&&Symbol.for){var ql=Symbol.for;hu=ql("selector.component"),yu=ql("selector.has_pseudo_class"),gu=ql("selector.role"),Eu=ql("selector.test_id"),Tu=ql("selector.text")}function Jm(o){var i=Tl(o);if(i!=null){if(typeof i.memoizedProps["data-testname"]!="string")throw Error(f(364));return i}if(o=$i(o),o===null)throw Error(f(362));return o.stateNode.current}function $m(o,i){switch(i.$$typeof){case hu:if(o.type===i.value)return!0;break;case yu:e:{i=i.value,o=[o,0];for(var u=0;u<o.length;){var d=o[u++],m=o[u++],h=i[m];if(d.tag!==5||!Qo(d)){for(;h!=null&&$m(d,h);)m++,h=i[m];if(m===i.length){i=!0;break e}else for(d=d.child;d!==null;)o.push(d,m),d=d.sibling}}i=!1}return i;case gu:if(o.tag===5&&La(o.stateNode,i.value))return!0;break;case Tu:if((o.tag===5||o.tag===6)&&(o=Ua(o),o!==null&&0<=o.indexOf(i.value)))return!0;break;case Eu:if(o.tag===5&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===i.value.toLowerCase()))return!0;break;default:throw Error(f(365))}return!1}function Km(o){switch(o.$$typeof){case hu:return"<"+(j(o.value)||"Unknown")+">";case yu:return":has("+(Km(o)||"")+")";case gu:return'[role="'+o.value+'"]';case Tu:return'"'+o.value+'"';case Eu:return'[data-testname="'+o.value+'"]';default:throw Error(f(365))}}function oy(o,i){var u=[];o=[o,0];for(var d=0;d<o.length;){var m=o[d++],h=o[d++],T=i[h];if(m.tag!==5||!Qo(m)){for(;T!=null&&$m(m,T);)h++,T=i[h];if(h===i.length)u.push(m);else for(m=m.child;m!==null;)o.push(m,h),m=m.sibling}}return u}function Zm(o,i){if(!qo)throw Error(f(363));o=Jm(o),o=oy(o,i),i=[],o=Array.from(o);for(var u=0;u<o.length;){var d=o[u++];if(d.tag===5)Qo(d)||i.push(d.stateNode);else for(d=d.child;d!==null;)o.push(d),d=d.sibling}return i}var jT=Math.ceil,Su=c.ReactCurrentDispatcher,Xm=c.ReactCurrentOwner,rn=c.ReactCurrentBatchConfig,st=0,vn=null,sn=null,Mn=0,Er=0,ts=tn(0),pn=0,Ql=null,aa=0,xu=0,ep=0,Yl=null,ar=null,tp=0,np=1/0,oi=null;function ns(){np=xn()+500}var bu=!1,rp=null,bi=null,vu=!1,vi=null,wu=0,Jl=0,op=null,ku=-1,Cu=0;function Wn(){return st&6?xn():ku!==-1?ku:ku=xn()}function wi(o){return o.mode&1?st&2&&Mn!==0?Mn&-Mn:IT.transition!==null?(Cu===0&&(Cu=Wc()),Cu):(o=dt,o!==0?o:Sl()):1}function Fr(o,i,u,d){if(50<Jl)throw Jl=0,op=null,Error(f(185));ta(o,u,d),(!(st&2)||o!==vn)&&(o===vn&&(!(st&2)&&(xu|=u),pn===4&&ki(o,Mn)),sr(o,d),u===1&&st===0&&!(i.mode&1)&&(ns(),qc&&Io()))}function sr(o,i){var u=o.callbackNode;Vc(o,i);var d=ea(o,o===vn?Mn:0);if(d===0)u!==null&&Hc(u),o.callbackNode=null,o.callbackPriority=0;else if(i=d&-d,o.callbackPriority!==i){if(u!=null&&Hc(u),i===1)o.tag===0?CT(ay.bind(null,o)):j0(ay.bind(null,o)),xl?Da(function(){!(st&6)&&Io()}):_l(lm,Io),u=null;else{switch(Gc(d)){case 1:u=lm;break;case 4:u=bT;break;case 16:u=cm;break;case 536870912:u=vT;break;default:u=cm}u=hy(u,iy.bind(null,o))}o.callbackPriority=i,o.callbackNode=u}}function iy(o,i){if(ku=-1,Cu=0,st&6)throw Error(f(327));var u=o.callbackNode;if(ca()&&o.callbackNode!==u)return null;var d=ea(o,o===vn?Mn:0);if(d===0)return null;if(d&30||d&o.expiredLanes||i)i=Iu(o,d);else{i=d;var m=st;st|=2;var h=cy();(vn!==o||Mn!==i)&&(oi=null,ns(),sa(o,i));do try{YT();break}catch(z){ly(o,z)}while(1);gm(),Su.current=h,st=m,sn!==null?i=0:(vn=null,Mn=0,i=pn)}if(i!==0){if(i===2&&(m=Pl(o),m!==0&&(d=m,i=ip(o,m))),i===1)throw u=Ql,sa(o,0),ki(o,d),sr(o,xn()),u;if(i===6)ki(o,d);else{if(m=o.current.alternate,!(d&30)&&!qT(m)&&(i=Iu(o,d),i===2&&(h=Pl(o),h!==0&&(d=h,i=ip(o,h))),i===1))throw u=Ql,sa(o,0),ki(o,d),sr(o,xn()),u;switch(o.finishedWork=m,o.finishedLanes=d,i){case 0:case 1:throw Error(f(345));case 2:la(o,ar,oi);break;case 3:if(ki(o,d),(d&130023424)===d&&(i=tp+500-xn(),10<i)){if(ea(o,0)!==0)break;if(m=o.suspendedLanes,(m&d)!==d){Wn(),o.pingedLanes|=o.suspendedLanes&m;break}o.timeoutHandle=X(la.bind(null,o,ar,oi),i);break}la(o,ar,oi);break;case 4:if(ki(o,d),(d&4194240)===d)break;for(i=o.eventTimes,m=-1;0<d;){var T=31-dn(d);h=1<<T,T=i[T],T>m&&(m=T),d&=~h}if(d=m,d=xn()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*jT(d/1960))-d,10<d){o.timeoutHandle=X(la.bind(null,o,ar,oi),d);break}la(o,ar,oi);break;case 5:la(o,ar,oi);break;default:throw Error(f(329))}}}return sr(o,xn()),o.callbackNode===u?iy.bind(null,o):null}function ip(o,i){var u=Yl;return o.current.memoizedState.isDehydrated&&(sa(o,i).flags|=256),o=Iu(o,i),o!==2&&(i=ar,ar=u,i!==null&&ap(i)),o}function ap(o){ar===null?ar=o:ar.push.apply(ar,o)}function qT(o){for(var i=o;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],h=m.getSnapshot;m=m.value;try{if(!$r(h(),m))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ki(o,i){for(i&=~ep,i&=~xu,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var u=31-dn(i),d=1<<u;o[u]=-1,i&=~d}}function ay(o){if(st&6)throw Error(f(327));ca();var i=ea(o,0);if(!(i&1))return sr(o,xn()),null;var u=Iu(o,i);if(o.tag!==0&&u===2){var d=Pl(o);d!==0&&(i=d,u=ip(o,d))}if(u===1)throw u=Ql,sa(o,0),ki(o,i),sr(o,xn()),u;if(u===6)throw Error(f(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,la(o,ar,oi),sr(o,xn()),null}function sy(o){vi!==null&&vi.tag===0&&!(st&6)&&ca();var i=st;st|=1;var u=rn.transition,d=dt;try{if(rn.transition=null,dt=1,o)return o()}finally{dt=d,rn.transition=u,st=i,!(st&6)&&Io()}}function sp(){Er=ts.current,at(ts)}function sa(o,i){o.finishedWork=null,o.finishedLanes=0;var u=o.timeoutHandle;if(u!==U&&(o.timeoutHandle=U,ye(u)),sn!==null)for(u=sn.return;u!==null;){var d=u;switch(dm(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Nr();break;case 3:Za(),at(Mt),at(It),km();break;case 5:vm(d);break;case 4:Za();break;case 13:at(Kt);break;case 19:at(Kt);break;case 10:Em(d.type._context);break;case 22:case 23:sp()}u=u.return}if(vn=o,sn=o=Ci(o.current,null),Mn=Er=i,pn=0,Ql=null,ep=xu=aa=0,ar=Yl=null,oa!==null){for(i=0;i<oa.length;i++)if(u=oa[i],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,h=u.pending;if(h!==null){var T=h.next;h.next=m,d.next=T}u.pending=d}oa=null}return o}function ly(o,i){do{var u=sn;try{if(gm(),ru.current=su,ou){for(var d=Zt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}ou=!1}if(ia=0,bn=mn=Zt=null,Ul=!1,Ll=0,Xm.current=null,u===null||u.return===null){pn=1,Ql=i,sn=null;break}e:{var h=o,T=u.return,z=u,Y=i;if(i=Mn,z.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var fe=Y,Ie=z,Qe=Ie.tag;if(!(Ie.mode&1)&&(Qe===0||Qe===11||Qe===15)){var Te=Ie.alternate;Te?(Ie.updateQueue=Te.updateQueue,Ie.memoizedState=Te.memoizedState,Ie.lanes=Te.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var Ut=_h(T);if(Ut!==null){Ut.flags&=-257,Oh(Ut,T,z,h,i),Ut.mode&1&&Mh(h,fe,i),i=Ut,Y=fe;var Pt=i.updateQueue;if(Pt===null){var lr=new Set;lr.add(Y),i.updateQueue=lr}else Pt.add(Y);break e}else{if(!(i&1)){Mh(h,fe,i),lp();break e}Y=Error(f(426))}}else if(jt&&z.mode&1){var ii=_h(T);if(ii!==null){!(ii.flags&65536)&&(ii.flags|=256),Oh(ii,T,z,h,i),hm(Xa(Y,z));break e}}h=Y=Xa(Y,z),pn!==4&&(pn=2),Yl===null?Yl=[h]:Yl.push(h),h=T;do{switch(h.tag){case 3:h.flags|=65536,i&=-i,h.lanes|=i;var q=Ph(h,Y,i);rh(h,q);break e;case 1:z=Y;var L=h.type,K=h.stateNode;if(!(h.flags&128)&&(typeof L.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(bi===null||!bi.has(K)))){h.flags|=65536,i&=-i,h.lanes|=i;var Se=Nh(h,z,i);rh(h,Se);break e}}h=h.return}while(h!==null)}fy(u)}catch(ze){i=ze,sn===u&&u!==null&&(sn=u=u.return);continue}break}while(1)}function cy(){var o=Su.current;return Su.current=su,o===null?su:o}function lp(){(pn===0||pn===3||pn===2)&&(pn=4),vn===null||!(aa&268435455)&&!(xu&268435455)||ki(vn,Mn)}function Iu(o,i){var u=st;st|=2;var d=cy();(vn!==o||Mn!==i)&&(oi=null,sa(o,i));do try{QT();break}catch(m){ly(o,m)}while(1);if(gm(),st=u,Su.current=d,sn!==null)throw Error(f(261));return vn=null,Mn=0,pn}function QT(){for(;sn!==null;)uy(sn)}function YT(){for(;sn!==null&&!am();)uy(sn)}function uy(o){var i=py(o.alternate,o,Er);o.memoizedProps=o.pendingProps,i===null?fy(o):sn=i,Xm.current=null}function fy(o){var i=o;do{var u=i.alternate;if(o=i.return,i.flags&32768){if(u=VT(u,i),u!==null){u.flags&=32767,sn=u;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{pn=6,sn=null;return}}else if(u=FT(u,i,Er),u!==null){sn=u;return}if(i=i.sibling,i!==null){sn=i;return}sn=i=o}while(i!==null);pn===0&&(pn=5)}function la(o,i,u){var d=dt,m=rn.transition;try{rn.transition=null,dt=1,JT(o,i,u,d)}finally{rn.transition=m,dt=d}return null}function JT(o,i,u,d){do ca();while(vi!==null);if(st&6)throw Error(f(327));u=o.finishedWork;var m=o.finishedLanes;if(u===null)return null;if(o.finishedWork=null,o.finishedLanes=0,u===o.current)throw Error(f(177));o.callbackNode=null,o.callbackPriority=0;var h=u.lanes|u.childLanes;if(im(o,h),o===vn&&(sn=vn=null,Mn=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||vu||(vu=!0,hy(cm,function(){return ca(),null})),h=(u.flags&15990)!==0,u.subtreeFlags&15990||h){h=rn.transition,rn.transition=null;var T=dt;dt=1;var z=st;st|=4,Xm.current=null,GT(o,u),Xh(u,o),it(o.containerInfo),o.current=u,HT(u,o,m),sm(),st=z,dt=T,rn.transition=h}else o.current=u;if(vu&&(vu=!1,vi=o,wu=m),h=o.pendingLanes,h===0&&(bi=null),wT(u.stateNode,d),sr(o,xn()),i!==null)for(d=o.onRecoverableError,u=0;u<i.length;u++)m=i[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(bu)throw bu=!1,o=rp,rp=null,o;return wu&1&&o.tag!==0&&ca(),h=o.pendingLanes,h&1?o===op?Jl++:(Jl=0,op=o):Jl=0,Io(),null}function ca(){if(vi!==null){var o=Gc(wu),i=rn.transition,u=dt;try{if(rn.transition=null,dt=16>o?16:o,vi===null)var d=!1;else{if(o=vi,vi=null,wu=0,st&6)throw Error(f(331));var m=st;for(st|=4,ke=o.current;ke!==null;){var h=ke,T=h.child;if(ke.flags&16){var z=h.deletions;if(z!==null){for(var Y=0;Y<z.length;Y++){var fe=z[Y];for(ke=fe;ke!==null;){var Ie=ke;switch(Ie.tag){case 0:case 11:case 15:jl(8,Ie,h)}var Qe=Ie.child;if(Qe!==null)Qe.return=Ie,ke=Qe;else for(;ke!==null;){Ie=ke;var Te=Ie.sibling,Ut=Ie.return;if(Jh(Ie),Ie===fe){ke=null;break}if(Te!==null){Te.return=Ut,ke=Te;break}ke=Ut}}}var Pt=h.alternate;if(Pt!==null){var lr=Pt.child;if(lr!==null){Pt.child=null;do{var ii=lr.sibling;lr.sibling=null,lr=ii}while(lr!==null)}}ke=h}}if(h.subtreeFlags&2064&&T!==null)T.return=h,ke=T;else e:for(;ke!==null;){if(h=ke,h.flags&2048)switch(h.tag){case 0:case 11:case 15:jl(9,h,h.return)}var q=h.sibling;if(q!==null){q.return=h.return,ke=q;break e}ke=h.return}}var L=o.current;for(ke=L;ke!==null;){T=ke;var K=T.child;if(T.subtreeFlags&2064&&K!==null)K.return=T,ke=K;else e:for(T=L;ke!==null;){if(z=ke,z.flags&2048)try{switch(z.tag){case 0:case 11:case 15:pu(9,z)}}catch(ze){qt(z,z.return,ze)}if(z===T){ke=null;break e}var Se=z.sibling;if(Se!==null){Se.return=z.return,ke=Se;break e}ke=z.return}}if(st=m,Io(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(jc,o)}catch{}d=!0}return d}finally{dt=u,rn.transition=i}}return!1}function dy(o,i,u){i=Xa(u,i),i=Ph(o,i,1),o=xi(o,i,1),i=Wn(),o!==null&&(ta(o,1,i),sr(o,i))}function qt(o,i,u){if(o.tag===3)dy(o,o,u);else for(;i!==null;){if(i.tag===3){dy(i,o,u);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(bi===null||!bi.has(d))){o=Xa(u,o),o=Nh(i,o,1),i=xi(i,o,1),o=Wn(),i!==null&&(ta(i,1,o),sr(i,o));break}}i=i.return}}function $T(o,i,u){var d=o.pingCache;d!==null&&d.delete(i),i=Wn(),o.pingedLanes|=o.suspendedLanes&u,vn===o&&(Mn&u)===u&&(pn===4||pn===3&&(Mn&130023424)===Mn&&500>xn()-tp?sa(o,0):ep|=u),sr(o,i)}function my(o,i){i===0&&(o.mode&1?(i=Xi,Xi<<=1,!(Xi&130023424)&&(Xi=4194304)):i=1);var u=Wn();o=Ao(o,i),o!==null&&(ta(o,i,u),sr(o,u))}function KT(o){var i=o.memoizedState,u=0;i!==null&&(u=i.retryLane),my(o,u)}function ZT(o,i){var u=0;switch(o.tag){case 13:var d=o.stateNode,m=o.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=o.stateNode;break;default:throw Error(f(314))}d!==null&&d.delete(i),my(o,u)}var py;py=function(o,i,u){if(o!==null)if(o.memoizedProps!==i.pendingProps||Mt.current)ir=!0;else{if(!(o.lanes&u)&&!(i.flags&128))return ir=!1,LT(o,i,u);ir=!!(o.flags&131072)}else ir=!1,jt&&i.flags&1048576&&q0(i,Yc,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;uu(o,i),o=i.pendingProps;var m=Un(i,It.current);$a(i,u),m=Am(null,i,d,o,m,u);var h=Rm();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Gt(d)?(h=!0,Mr(i)):h=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,xm(i),m.updater=lu,i.stateNode=m,m._reactInternals=i,Bm(i,d,o,u),i=Lm(null,i,d,!0,h,u)):(i.tag=0,jt&&h&&fm(i),Jn(null,i,m,u),i=i.child),i;case 16:d=i.elementType;e:{switch(uu(o,i),o=i.pendingProps,m=d._init,d=m(d._payload),i.type=d,m=i.tag=eS(d),o=Zr(d,o),m){case 0:i=Um(null,i,d,o,u);break e;case 1:i=Fh(null,i,d,o,u);break e;case 11:i=Bh(null,i,d,o,u);break e;case 14:i=zh(null,i,d,Zr(d.type,o),u);break e}throw Error(f(306,d,""))}return i;case 0:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Zr(d,m),Um(o,i,d,m,u);case 1:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Zr(d,m),Fh(o,i,d,m,u);case 3:e:{if(Vh(i),o===null)throw Error(f(387));d=i.pendingProps,h=i.memoizedState,m=h.element,nh(o,i),tu(i,d,null,u);var T=i.memoizedState;if(d=T.element,Dn&&h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){m=Xa(Error(f(423)),i),i=Wh(o,i,d,u,m);break e}else if(d!==m){m=Xa(Error(f(424)),i),i=Wh(o,i,d,u,m);break e}else for(Dn&&(zr=fn(i.stateNode.containerInfo),gr=i,jt=!0,Kr=null,Ol=!1),u=X0(i,null,d,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Qa(),d===m){i=ri(o,i,u);break e}Jn(o,i,d,u)}i=i.child}return i;case 5:return ih(i),o===null&&pm(i),d=i.type,m=i.pendingProps,h=o!==null?o.memoizedProps:null,T=m.children,Rn(d,m)?T=null:h!==null&&Rn(d,h)&&(i.flags|=32),Lh(o,i),Jn(o,i,T,u),i.child;case 6:return o===null&&pm(i),null;case 13:return Gh(o,i,u);case 4:return bm(i,i.stateNode.containerInfo),d=i.pendingProps,o===null?i.child=Ya(i,null,d,u):Jn(o,i,d,u),i.child;case 11:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Zr(d,m),Bh(o,i,d,m,u);case 7:return Jn(o,i,i.pendingProps,u),i.child;case 8:return Jn(o,i,i.pendingProps.children,u),i.child;case 12:return Jn(o,i,i.pendingProps.children,u),i.child;case 10:e:{if(d=i.type._context,m=i.pendingProps,h=i.memoizedProps,T=m.value,eh(i,d,T),h!==null)if($r(h.value,T)){if(h.children===m.children&&!Mt.current){i=ri(o,i,u);break e}}else for(h=i.child,h!==null&&(h.return=i);h!==null;){var z=h.dependencies;if(z!==null){T=h.child;for(var Y=z.firstContext;Y!==null;){if(Y.context===d){if(h.tag===1){Y=ni(-1,u&-u),Y.tag=2;var fe=h.updateQueue;if(fe!==null){fe=fe.shared;var Ie=fe.pending;Ie===null?Y.next=Y:(Y.next=Ie.next,Ie.next=Y),fe.pending=Y}}h.lanes|=u,Y=h.alternate,Y!==null&&(Y.lanes|=u),Tm(h.return,u,i),z.lanes|=u;break}Y=Y.next}}else if(h.tag===10)T=h.type===i.type?null:h.child;else if(h.tag===18){if(T=h.return,T===null)throw Error(f(341));T.lanes|=u,z=T.alternate,z!==null&&(z.lanes|=u),Tm(T,u,i),T=h.sibling}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===i){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}Jn(o,i,m.children,u),i=i.child}return i;case 9:return m=i.type,d=i.pendingProps.children,$a(i,u),m=Dr(m),d=d(m),i.flags|=1,Jn(o,i,d,u),i.child;case 14:return d=i.type,m=Zr(d,i.pendingProps),m=Zr(d.type,m),zh(o,i,d,m,u);case 15:return Dh(o,i,i.type,i.pendingProps,u);case 17:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Zr(d,m),uu(o,i),i.tag=1,Gt(d)?(o=!0,Mr(i)):o=!1,$a(i,u),Ah(i,d,m),Bm(i,d,m,u),Lm(null,i,d,!0,o,u);case 19:return jh(o,i,u);case 22:return Uh(o,i,u)}throw Error(f(156,i.tag))};function hy(o,i){return _l(o,i)}function XT(o,i,u,d){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(o,i,u,d){return new XT(o,i,u,d)}function cp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function eS(o){if(typeof o=="function")return cp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===S)return 11;if(o===N)return 14}return 2}function Ci(o,i){var u=o.alternate;return u===null?(u=Vr(o.tag,i,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=i,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&14680064,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,i=o.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u}function Au(o,i,u,d,m,h){var T=2;if(d=o,typeof o=="function")cp(o)&&(T=1);else if(typeof o=="string")T=5;else e:switch(o){case g:return ua(u.children,m,h,i);case M:T=8,m|=8;break;case w:return o=Vr(12,u,i,m|2),o.elementType=w,o.lanes=h,o;case x:return o=Vr(13,u,i,m),o.elementType=x,o.lanes=h,o;case k:return o=Vr(19,u,i,m),o.elementType=k,o.lanes=h,o;case ae:return Ru(u,m,h,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:T=10;break e;case P:T=9;break e;case S:T=11;break e;case N:T=14;break e;case F:T=16,d=null;break e}throw Error(f(130,o==null?o:typeof o,""))}return i=Vr(T,u,i,m),i.elementType=o,i.type=d,i.lanes=h,i}function ua(o,i,u,d){return o=Vr(7,o,d,i),o.lanes=u,o}function Ru(o,i,u,d){return o=Vr(22,o,d,i),o.elementType=ae,o.lanes=u,o.stateNode={isHidden:!1},o}function up(o,i,u){return o=Vr(6,o,null,i),o.lanes=u,o}function fp(o,i,u){return i=Vr(4,o.children!==null?o.children:[],o.key,i),i.lanes=u,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function tS(o,i,u,d,m){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=U,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=d,this.onRecoverableError=m,Dn&&(this.mutableSourceEagerHydrationData=null)}function yy(o,i,u,d,m,h,T,z,Y){return o=new tS(o,i,u,z,Y),i===1?(i=1,h===!0&&(i|=8)):i=0,h=Vr(3,null,null,i),o.current=h,h.stateNode=o,h.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},xm(h),o}function gy(o){if(!o)return nn;o=o._reactInternals;e:{if(oe(o)!==o||o.tag!==1)throw Error(f(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(f(171))}if(o.tag===1){var u=o.type;if(Gt(u))return Ht(o,u,i)}return i}function Ey(o){var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(f(188)):(o=Object.keys(o).join(","),Error(f(268,o)));return o=O(i),o===null?null:o.stateNode}function Ty(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<i?u:i}}function Pu(o,i){Ty(o,i),(o=o.alternate)&&Ty(o,i)}function nS(o){return o=O(o),o===null?null:o.stateNode}function rS(){return null}return r.attemptContinuousHydration=function(o){if(o.tag===13){var i=Ao(o,134217728);if(i!==null){var u=Wn();Fr(i,o,134217728,u)}Pu(o,134217728)}},r.attemptDiscreteHydration=function(o){if(o.tag===13){var i=Ao(o,1);if(i!==null){var u=Wn();Fr(i,o,1,u)}Pu(o,1)}},r.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var i=wi(o),u=Ao(o,i);if(u!==null){var d=Wn();Fr(u,o,i,d)}Pu(o,i)}},r.attemptSynchronousHydration=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var u=Ti(i.pendingLanes);u!==0&&(Ml(i,u|1),sr(i,xn()),!(st&6)&&(ns(),Io()))}break;case 13:sy(function(){var d=Ao(o,1);if(d!==null){var m=Wn();Fr(d,o,1,m)}}),Pu(o,1)}},r.batchedUpdates=function(o,i){var u=st;st|=1;try{return o(i)}finally{st=u,st===0&&(ns(),qc&&Io())}},r.createComponentSelector=function(o){return{$$typeof:hu,value:o}},r.createContainer=function(o,i,u,d,m,h,T){return yy(o,i,!1,null,u,d,m,h,T)},r.createHasPseudoClassSelector=function(o){return{$$typeof:yu,value:o}},r.createHydrationContainer=function(o,i,u,d,m,h,T,z,Y){return o=yy(u,d,!0,o,m,h,T,z,Y),o.context=gy(null),u=o.current,d=Wn(),m=wi(u),h=ni(d,m),h.callback=i??null,xi(u,h,m),o.current.lanes=m,ta(o,m,d),sr(o,d),o},r.createPortal=function(o,i,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y,key:d==null?null:""+d,children:o,containerInfo:i,implementation:u}},r.createRoleSelector=function(o){return{$$typeof:gu,value:o}},r.createTestNameSelector=function(o){return{$$typeof:Eu,value:o}},r.createTextSelector=function(o){return{$$typeof:Tu,value:o}},r.deferredUpdates=function(o){var i=dt,u=rn.transition;try{return rn.transition=null,dt=16,o()}finally{dt=i,rn.transition=u}},r.discreteUpdates=function(o,i,u,d,m){var h=dt,T=rn.transition;try{return rn.transition=null,dt=1,o(i,u,d,m)}finally{dt=h,rn.transition=T,st===0&&ns()}},r.findAllNodes=Zm,r.findBoundingRects=function(o,i){if(!qo)throw Error(f(363));i=Zm(o,i),o=[];for(var u=0;u<i.length;u++)o.push(zt(i[u]));for(i=o.length-1;0<i;i--){u=o[i];for(var d=u.x,m=d+u.width,h=u.y,T=h+u.height,z=i-1;0<=z;z--)if(i!==z){var Y=o[z],fe=Y.x,Ie=fe+Y.width,Qe=Y.y,Te=Qe+Y.height;if(d>=fe&&h>=Qe&&m<=Ie&&T<=Te){o.splice(i,1);break}else if(d!==fe||u.width!==Y.width||Te<h||Qe>T){if(!(h!==Qe||u.height!==Y.height||Ie<d||fe>m)){fe>d&&(Y.width+=fe-d,Y.x=d),Ie<m&&(Y.width=m-fe),o.splice(i,1);break}}else{Qe>h&&(Y.height+=Qe-h,Y.y=h),Te<T&&(Y.height=T-Qe),o.splice(i,1);break}}}return o},r.findHostInstance=Ey,r.findHostInstanceWithNoPortals=function(o){return o=A(o),o=o!==null?le(o):null,o===null?null:o.stateNode},r.findHostInstanceWithWarning=function(o){return Ey(o)},r.flushControlled=function(o){var i=st;st|=1;var u=rn.transition,d=dt;try{rn.transition=null,dt=1,o()}finally{dt=d,rn.transition=u,st=i,st===0&&(ns(),Io())}},r.flushPassiveEffects=ca,r.flushSync=sy,r.focusWithin=function(o,i){if(!qo)throw Error(f(363));for(o=Jm(o),i=oy(o,i),i=Array.from(i),o=0;o<i.length;){var u=i[o++];if(!Qo(u)){if(u.tag===5&&bl(u.stateNode))return!0;for(u=u.child;u!==null;)i.push(u),u=u.sibling}}return!1},r.getCurrentUpdatePriority=function(){return dt},r.getFindAllNodesFailureDescription=function(o,i){if(!qo)throw Error(f(363));var u=0,d=[];o=[Jm(o),0];for(var m=0;m<o.length;){var h=o[m++],T=o[m++],z=i[T];if((h.tag!==5||!Qo(h))&&($m(h,z)&&(d.push(Km(z)),T++,T>u&&(u=T)),T<i.length))for(h=h.child;h!==null;)o.push(h,T),h=h.sibling}if(u<i.length){for(o=[];u<i.length;u++)o.push(Km(i[u]));return`findAllNodes was able to match part of the selector:
  `+(d.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},r.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return Re(o.child.stateNode);default:return o.child.stateNode}},r.injectIntoDevTools=function(o){if(o={bundleType:o.bundleType,version:o.version,rendererPackageName:o.rendererPackageName,rendererConfig:o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:nS,findFiberByHostInstance:o.findFiberByHostInstance||rS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(i.isDisabled||!i.supportsFiber)o=!0;else{try{jc=i.inject(o),Co=i}catch{}o=!!i.checkDCE}}return o},r.isAlreadyRendering=function(){return!1},r.observeVisibleRects=function(o,i,u,d){if(!qo)throw Error(f(363));o=Zm(o,i);var m=Fa(o,u,d).disconnect;return{disconnect:function(){m()}}},r.registerMutableSourceForHydration=function(o,i){var u=i._getVersion;u=u(i._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[i,u]:o.mutableSourceEagerHydrationData.push(i,u)},r.runWithPriority=function(o,i){var u=dt;try{return dt=o,i()}finally{dt=u}},r.shouldError=function(){return null},r.shouldSuspend=function(){return!1},r.updateContainer=function(o,i,u,d){var m=i.current,h=Wn(),T=wi(m);return u=gy(u),i.context===null?i.context=u:i.pendingContext=u,i=ni(h,T),i.payload={element:o},d=d===void 0?null:d,d!==null&&(i.callback=d),o=xi(m,i,T),o!==null&&(Fr(o,m,T,h),eu(o,m,T)),T},r}});var I2=Qt((pO,C2)=>{"use strict";C2.exports=k2()});var lv={};uS(lv,{main:()=>em,onStart:()=>sv,onUpdate:()=>av,rendererTransport:()=>nm});module.exports=fS(lv);var Ai=.45454545454545453,Ri=2.2,xy=1e-6,$l=Math.PI/180,Kl=360/(Math.PI*2);var kt;(function(e){e.TwoPi=Math.PI*2;function t(ne,j,se=1401298e-51){let oe=ne-j;return-se<=oe&&oe<=se}e.withinEpsilon=t;function r(ne){let j=ne.toString(16);return ne<=15?("0"+j).toUpperCase():j.toUpperCase()}e.toHex=r;function n(ne){let j=+ne;return j===0||isNaN(j)?j:j>0?1:-1}e.sign=n;function s(ne,j=0,se=1){return Math.min(se,Math.max(j,ne))}e.clamp=s;function a(ne){return Math.log(ne)*Math.LOG2E}e.log2=a;function f(ne,j){return ne-Math.floor(ne/j)*j}e.repeat=f;function c(ne,j,se){return(ne-j)/(se-j)}e.normalize=c;function l(ne,j,se){return ne*(se-j)+j}e.denormalize=l;function y(ne,j){let se=f(j-ne,360);return se>180&&(se-=360),se}e.deltaAngle=y;function g(ne,j){let se=f(ne,j*2);return j-Math.abs(se-j)}e.pingPong=g;function M(ne,j,se){let oe=s(se);return oe=-2*oe*oe*oe+3*oe*oe,j*oe+ne*(1-oe)}e.smoothStep=M;function w(ne,j,se){let oe=0;return Math.abs(j-ne)<=se?oe=j:oe=ne+n(j-ne)*se,oe}e.moveTowards=w;function I(ne,j,se){let oe=y(ne,j),$=0;return-se<oe&&oe<se?$=j:$=w(ne,ne+oe,se),$}e.moveTowardsAngle=I;function P(ne,j,se){return ne+(j-ne)*se}e.lerp=P;function S(ne,j,se){let oe=f(j-ne,360);return oe>180&&(oe-=360),ne+oe*s(se)}e.lerpAngle=S;function x(ne,j,se){let oe=0;return ne!==j?oe=s((se-ne)/(j-ne)):oe=0,oe}e.inverseLerp=x;function k(ne,j,se,oe,$){let A=$*$,O=$*A,H=2*O-3*A+1,le=-2*O+3*A,he=O-2*A+$,Re=O-A;return ne*H+se*le+j*he+oe*Re}e.hermite=k;function N(ne,j){return ne===j?ne:Math.random()*(j-ne)+ne}e.randomRange=N;function F(ne,j,se){return(ne-j)/(se-j)}e.rangeToPercent=F;function ae(ne,j,se){return(se-j)*ne+j}e.percentToRange=ae;function Ae(ne){return ne-e.TwoPi*Math.floor((ne+Math.PI)/e.TwoPi)}e.normalizeRadians=Ae})(kt||(kt={}));var p;(function(e){function t(v){let _=Math.abs(v.x),G=Math.abs(v.y);if(_!==G)return!0;let ge=Math.abs(v.z);return _!==ge}e.isNonUniform=t;function r(v=0,_=0,G=0){return{x:v,y:_,z:G}}e.create=r;function n(v,_){return{x:v.x+_.x,y:v.y+_.y,z:v.z+_.z}}e.add=n;function s(v,_,G){G.x=v.x+_.x,G.y=v.y+_.y,G.z=v.z+_.z}e.addToRef=s;function a(v,_){return{x:v.x-_.x,y:v.y-_.y,z:v.z-_.z}}e.subtract=a;function f(v,_,G){G.x=v.x-_.x,G.y=v.y-_.y,G.z=v.z-_.z}e.subtractToRef=f;function c(v,_,G,ge,me){me.x=v.x-_,me.y=v.y-G,me.z=v.z-ge}e.subtractFromFloatsToRef=c;function l(v){return{x:-v.x,y:-v.y,z:-v.z}}e.negate=l;function y(v,_){_.x=v.x,_.y=v.y,_.z=v.z}e.copyFrom=y;function g(v,_,G,ge){ge.x=v,ge.y=_,ge.z=G}e.copyFromFloats=g;function M(v){return r(v.x,v.y,v.z)}e.clone=M;function w(v,_,G,ge){let me=$(v,G)-ge,we=$(_,G)-ge;return me/(me-we)}e.getClipFactor=w;function I(v,_,G){let ge=se(v),me=se(_),we=$(ge,me),Ve=r();return Ke(ge,me,Ve),$(Ve,G)>0?Math.acos(we):-Math.acos(we)}e.getAngleBetweenVectors=I;function P(v,_=0){return r(v[_],v[_+1],v[_+2])}e.fromArray=P;function S(v,_){return P(v,_)}e.fromFloatArray=S;function x(v,_,G){G.x=v[_],G.y=v[_+1],G.z=v[_+2]}e.fromArrayToRef=x;function k(v,_,G){return x(v,_,G)}e.fromFloatArrayToRef=k;function N(v){return Math.sqrt(v.x*v.x+v.y*v.y+v.z*v.z)}e.length=N;function F(v){return v.x*v.x+v.y*v.y+v.z*v.z}e.lengthSquared=F;function ae(v,_,G){G.x=v.x*_,G.y=v.y*_,G.z=v.z*_}e.scaleToRef=ae;function Ae(v,_){return r(v.x*_,v.y*_,v.z*_)}e.scale=Ae;function ne(v,_){let G=r(0,0,0);return j(v,_,G),G}e.normalizeFromLength=ne;function j(v,_,G){if(_===0||_===1){y(v,G);return}ae(v,1/_,G)}e.normalizeFromLengthToRef=j;function se(v){return ne(v,N(v))}e.normalize=se;function oe(v,_){j(v,N(v),_)}e.normalizeToRef=oe;function $(v,_){return v.x*_.x+v.y*_.y+v.z*_.z}e.dot=$;function A(v,_){let G=M(v);return O(v,_,G),G}e.applyMatrix4=A;function O(v,_,G){let{x:ge,y:me,z:we}=v,Ve=_._m,Ft=1/(Ve[3]*ge+Ve[7]*me+Ve[11]*we+Ve[15]);G.x=(Ve[0]*ge+Ve[4]*me+Ve[8]*we+Ve[12])*Ft,G.y=(Ve[1]*ge+Ve[5]*me+Ve[9]*we+Ve[13])*Ft,G.z=(Ve[2]*ge+Ve[6]*me+Ve[10]*we+Ve[14])*Ft}e.applyMatrix4ToRef=O;function H(v,_){let G=r();return le(v,_,G),G}e.rotate=H;function le(v,_,G){let{x:ge,y:me,z:we}=v,{x:Ve,y:Ft,z:un,w:Vt}=_,Jr=Vt*ge+Ft*we-un*me,Jo=Vt*me+un*ge-Ve*we,bo=Vt*we+Ve*me-Ft*ge,vo=-Ve*ge-Ft*me-un*we;G.x=Jr*Vt+vo*-Ve+Jo*-un-bo*-Ft,G.y=Jo*Vt+vo*-Ft+bo*-Ve-Jr*-un,G.z=bo*Vt+vo*-un+Jr*-Ft-Jo*-Ve}e.rotateToRef=le;function he(v,_,G){let ge=r(0,0,0);return Re(v,_,G,ge),ge}e.lerp=he;function Re(v,_,G,ge){ge.x=v.x+(_.x-v.x)*G,ge.y=v.y+(_.y-v.y)*G,ge.z=v.z+(_.z-v.z)*G}e.lerpToRef=Re;function $e(v,_){let G=Yo();return Ke(v,_,G),G}e.cross=$e;function Ke(v,_,G){G.x=v.y*_.z-v.z*_.y,G.y=v.z*_.x-v.x*_.z,G.z=v.x*_.y-v.y*_.x}e.crossToRef=Ke;function ot(v,_){let G=Yo();return it(v,_,G),G}e.transformCoordinates=ot;function it(v,_,G){return pt(v.x,v.y,v.z,_,G)}e.transformCoordinatesToRef=it;function pt(v,_,G,ge,me){let we=ge._m,Ve=v*we[0]+_*we[4]+G*we[8]+we[12],Ft=v*we[1]+_*we[5]+G*we[9]+we[13],un=v*we[2]+_*we[6]+G*we[10]+we[14],Vt=1/(v*we[3]+_*we[7]+G*we[11]+we[15]);me.x=Ve*Vt,me.y=Ft*Vt,me.z=un*Vt}e.transformCoordinatesFromFloatsToRef=pt;function ut(v,_){let G=Yo();return Nt(v,_,G),G}e.transformNormal=ut;function Nt(v,_,G){tt(v.x,v.y,v.z,_,G)}e.transformNormalToRef=Nt;function tt(v,_,G,ge,me){let we=ge._m;me.x=v*we[0]+_*we[4]+G*we[8],me.y=v*we[1]+_*we[5]+G*we[9],me.z=v*we[2]+_*we[6]+G*we[10]}e.transformNormalFromFloatsToRef=tt;function Rn(v,_,G,ge,me){let we=me*me,Ve=me*we,Ft=.5*(2*_.x+(-v.x+G.x)*me+(2*v.x-5*_.x+4*G.x-ge.x)*we+(-v.x+3*_.x-3*G.x+ge.x)*Ve),un=.5*(2*_.y+(-v.y+G.y)*me+(2*v.y-5*_.y+4*G.y-ge.y)*we+(-v.y+3*_.y-3*G.y+ge.y)*Ve),Vt=.5*(2*_.z+(-v.z+G.z)*me+(2*v.z-5*_.z+4*G.z-ge.z)*we+(-v.z+3*_.z-3*G.z+ge.z)*Ve);return r(Ft,un,Vt)}e.catmullRom=Rn;function W(v,_,G){let ge=r();return X(v,_,G,ge),ge}e.clamp=W;function X(v,_,G,ge){let me=v.x;me=me>G.x?G.x:me,me=me<_.x?_.x:me;let we=v.y;we=we>G.y?G.y:we,we=we<_.y?_.y:we;let Ve=v.z;Ve=Ve>G.z?G.z:Ve,Ve=Ve<_.z?_.z:Ve,g(me,we,Ve,ge)}e.clampToRef=X;function ye(v,_,G,ge,me){let we=me*me,Ve=me*we,Ft=2*Ve-3*we+1,un=-2*Ve+3*we,Vt=Ve-2*we+me,Jr=Ve-we,Jo=v.x*Ft+G.x*un+_.x*Vt+ge.x*Jr,bo=v.y*Ft+G.y*un+_.y*Vt+ge.y*Jr,vo=v.z*Ft+G.z*un+_.z*Vt+ge.z*Jr;return r(Jo,bo,vo)}e.hermite=ye;function U(v,_){let G=r();return Va(_,v.x,v.y,v.z,G),G}e.minimize=U;function J(v,_){let G=r();return Fa(v,_.x,_.y,_.z,G),G}e.maximize=J;function ve(v,_){return Math.sqrt(Tt(v,_))}e.distance=ve;function Tt(v,_){let G=v.x-_.x,ge=v.y-_.y,me=v.z-_.z;return G*G+ge*ge+me*me}e.distanceSquared=Tt;function Dn(v,_){let G=n(v,_);return ae(G,.5,G),G}e.center=Dn;function Tl(v,_,G){let ge=Yo();return za(v,_,G,ge),ge}e.rotationFromAxis=Tl;function za(v,_,G,ge){let me=V.create();V.fromAxisToRotationQuaternionToRef(v,_,G,me),y(V.toEulerAngles(me),ge)}e.rotationFromAxisToRef=za;function Sl(v){return`(${v.x}, ${v.y}, ${v.z})`}e.toString=Sl;function Ji(v){let _=v.x||0;return _=_*397^(v.y||0),_=_*397^(v.z||0),_}e.getHashCode=Ji;function xl(v,_){return v.x===_.x&&v.y===_.y&&v.z===_.z}e.equals=xl;function Da(v,_,G=xy){return kt.withinEpsilon(v.x,_.x,G)&&kt.withinEpsilon(v.y,_.y,G)&&kt.withinEpsilon(v.z,_.z,G)}e.equalsWithEpsilon=Da;function qo(v,_,G,ge){return v.x===_&&v.y===G&&v.z===ge}e.equalsToFloats=qo;function $i(v,_){let G=r();return zt(v,_,G),G}e.multiply=$i;function zt(v,_,G){G.x=v.x*_.x,G.y=v.y*_.y,G.z=v.z*_.z}e.multiplyToRef=zt;function Ua(v,_,G,ge,me){me.x=v.x*_,me.y=v.y*G,me.z=v.z*ge}e.multiplyByFloatsToRef=Ua;function Qo(v,_,G,ge){let me=r();return Ua(v,_,G,ge,me),me}e.multiplyByFloats=Qo;function La(v,_){return{x:v.x/_.x,y:v.y/_.y,z:v.z/_.z}}e.divide=La;function bl(v,_,G){G.x=v.x/_.x,G.y=v.y/_.y,G.z=v.z/_.z}e.divideToRef=bl;function Fa(v,_,G,ge,me){_>v.x?me.x=_:me.x=v.x,G>v.y?me.y=G:me.y=v.y,ge>v.z?me.z=ge:me.z=v.z}e.maximizeInPlaceFromFloatsToRef=Fa;function Va(v,_,G,ge,me){_<v.x?me.x=_:me.x=v.x,G<v.y?me.y=G:me.y=v.y,ge<v.z?me.z=ge:me.z=v.z}e.minimizeInPlaceFromFloatsToRef=Va;function vl(v){return r(Math.floor(v.x),Math.floor(v.y),Math.floor(v.z))}e.floor=vl;function Wa(v){return r(v.x-Math.floor(v.x),v.y-Math.floor(v.y),v.z-Math.floor(v.z))}e.fract=Wa;function Yo(){return r(0,0,0)}e.Zero=Yo;function wl(){return r(1,1,1)}e.One=wl;function Ki(){return r(0,1,0)}e.Up=Ki;function kl(){return r(0,-1,0)}e.Down=kl;function Cl(){return r(0,0,1)}e.Forward=Cl;function Ga(){return r(0,0,-1)}e.Backward=Ga;function Zi(){return r(1,0,0)}e.Right=Zi;function Il(){return r(-1,0,0)}e.Left=Il;function Al(){return r(Math.random(),Math.random(),Math.random())}e.Random=Al})(p||(p={}));var Mu;(function(e){function t(S,x,k,N){return{normal:p.create(S,x,k),d:N}}e.create=t;function r(S){return t(S[0],S[1],S[2],S[3])}e.fromArray=r;function n(S,x,k){return t(0,0,0,0)}e.fromPoints=n;function s(S,x){let k=t(0,0,0,0);return k.normal=p.normalize(x),k.d=-(x.x*S.x+x.y*S.y+x.z*S.z),k}e.romPositionAndNormal=s;function a(S,x,k){let N=-(x.x*S.x+x.y*S.y+x.z*S.z);return p.dot(k,x)+N}e.signedDistanceToPlaneFromPositionAndNormal=a;function f(S){return[S.normal.x,S.normal.y,S.normal.z,S.d]}e.asArray=f;function c(S){return t(S.normal.x,S.normal.y,S.normal.z,S.d)}e.clone=c;function l(S){return 0}e.getHashCode=l;function y(S){let x=t(0,0,0,0),k=Math.sqrt(S.normal.x*S.normal.x+S.normal.y*S.normal.y+S.normal.z*S.normal.z),N=0;return k!==0&&(N=1/k),x.normal.x=S.normal.x*N,x.normal.y=S.normal.y*N,x.normal.z=S.normal.z*N,x.d*=N,S}e.normalize=y;function g(S,x){let k=to.create();to.transposeToRef(x,k);let N=k._m,F=S.normal.x,ae=S.normal.y,Ae=S.normal.z,ne=S.d,j=F*N[0]+ae*N[1]+Ae*N[2]+ne*N[3],se=F*N[4]+ae*N[5]+Ae*N[6]+ne*N[7],oe=F*N[8]+ae*N[9]+Ae*N[10]+ne*N[11],$=F*N[12]+ae*N[13]+Ae*N[14]+ne*N[15];return t(j,se,oe,$)}e.transform=g;function M(S,x){return S.normal.x*x.x+S.normal.y*x.y+S.normal.z*x.z+S.d}e.dotCoordinate=M;function w(S,x,k){let N=x.x-S.x,F=x.y-S.y,ae=x.z-S.z,Ae=k.x-S.x,ne=k.y-S.y,j=k.z-S.z,se=F*j-ae*ne,oe=ae*Ae-N*j,$=N*ne-F*Ae,A=Math.sqrt(se*se+oe*oe+$*$),O;A!==0?O=1/A:O=0;let H=p.create(se*O,oe*O,$*O);return{normal:H,d:-(H.x*S.x+H.y*S.y+H.z*S.z)}}e.copyFromPoints=w;function I(S,x,k){return p.dot(S.normal,x)<=k}e.isFrontFacingTo=I;function P(S,x){return p.dot(x,S.normal)+S.d}e.signedDistanceTo=P})(Mu||(Mu={}));var to;(function(e){function t(E){return E._m}e.m=t;let r=0,n={};function s(){return n}e.IdentityReadonly=s;function a(){let E={updateFlag:0,isIdentity:!1,isIdentity3x2:!0,_isIdentityDirty:!0,_isIdentity3x2Dirty:!0,_m:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};return fn(E,!1),E}e.create=a;function f(E,b=0){let C=a();return c(E,b,C),C}e.fromArray=f;function c(E,b,C){for(let R=0;R<16;R++)C._m[R]=E[R+b];zt(C)}e.fromArrayToRef=c;function l(E,b,C,R){for(let D=0;D<16;D++)R._m[D]=E[D+b]*C;zt(R)}e.fromFloatArrayToRefScaled=l;function y(E,b,C,R,D,ee,Z,de,Ce,Ue,Ge,ht,We,Rt,Dt,$t,Wt){let Oe=Wt._m;Oe[0]=E,Oe[1]=b,Oe[2]=C,Oe[3]=R,Oe[4]=D,Oe[5]=ee,Oe[6]=Z,Oe[7]=de,Oe[8]=Ce,Oe[9]=Ue,Oe[10]=Ge,Oe[11]=ht,Oe[12]=We,Oe[13]=Rt,Oe[14]=Dt,Oe[15]=$t,zt(Wt)}e.fromValuesToRef=y;function g(E,b,C,R,D,ee,Z,de,Ce,Ue,Ge,ht,We,Rt,Dt,$t){let Wt=a(),Oe=Wt._m;return Oe[0]=E,Oe[1]=b,Oe[2]=C,Oe[3]=R,Oe[4]=D,Oe[5]=ee,Oe[6]=Z,Oe[7]=de,Oe[8]=Ce,Oe[9]=Ue,Oe[10]=Ge,Oe[11]=ht,Oe[12]=We,Oe[13]=Rt,Oe[14]=Dt,Oe[15]=$t,zt(Wt),Wt}e.fromValues=g;function M(E,b,C){let R=a();return w(E,b,C,R),R}e.compose=M;function w(E,b,C,R){let D=[a(),a(),a()];A(E.x,E.y,E.z,D[1]),$i(b,D[0]),me(D[1],D[0],R),Zi(R,C)}e.composeToRef=w;function I(){let E=g(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return fn(E,!0),E}e.Identity=I;function P(E){y(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,E),fn(E,!0)}e.IdentityToRef=P;function S(){let E=g(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return fn(E,!1),E}e.Zero=S;function x(E){let b=a();return k(E,b),b}e.RotationX=x;function k(E,b){let C=Math.sin(E),R=Math.cos(E);y(1,0,0,0,0,R,C,0,0,-C,R,0,0,0,0,1,b),fn(b,R===1&&C===0)}e.rotationXToRef=k;function N(E){let b=a();return F(E,b),b}e.rotationY=N;function F(E,b){let C=Math.sin(E),R=Math.cos(E);y(R,0,-C,0,0,1,0,0,C,0,R,0,0,0,0,1,b),fn(b,R===1&&C===0)}e.rotationYToRef=F;function ae(E){let b=a();return Ae(E,b),b}e.rotationZ=ae;function Ae(E,b){let C=Math.sin(E),R=Math.cos(E);y(R,C,0,0,-C,R,0,0,0,0,1,0,0,0,0,1,b),fn(b,R===1&&C===0)}e.rotationZToRef=Ae;function ne(E,b){let C=a();return j(E,b,C),C}e.rotationAxis=ne;function j(E,b,C){let R=Math.sin(-b),D=Math.cos(-b),ee=1-D,Z=p.normalize(E),de=C._m;de[0]=Z.x*Z.x*ee+D,de[1]=Z.x*Z.y*ee-Z.z*R,de[2]=Z.x*Z.z*ee+Z.y*R,de[3]=0,de[4]=Z.y*Z.x*ee+Z.z*R,de[5]=Z.y*Z.y*ee+D,de[6]=Z.y*Z.z*ee-Z.x*R,de[7]=0,de[8]=Z.z*Z.x*ee-Z.y*R,de[9]=Z.z*Z.y*ee+Z.x*R,de[10]=Z.z*Z.z*ee+D,de[11]=0,de[12]=0,de[13]=0,de[14]=0,de[15]=1,zt(C)}e.rotationAxisToRef=j;function se(E,b,C){let R=a();return oe(E,b,C,R),R}e.rotationYawPitchRoll=se;function oe(E,b,C,R){let D=V.Zero();V.fromRotationYawPitchRollToRef(E,b,C,D),$i(D,R)}e.rotationYawPitchRollToRef=oe;function $(E,b,C){let R=a();return A(E,b,C,R),R}e.scaling=$;function A(E,b,C,R){y(E,0,0,0,0,b,0,0,0,0,C,0,0,0,0,1,R),fn(R,E===1&&b===1&&C===1)}e.scalingToRef=A;function O(E,b,C){let R=a();return H(E,b,C,R),R}e.translation=O;function H(E,b,C,R){y(1,0,0,0,0,1,0,0,0,0,1,0,E,b,C,1,R),fn(R,E===0&&b===0&&C===0)}e.translationToRef=H;function le(E,b,C){let R=a();return he(E,b,C,R),R}e.lerp=le;function he(E,b,C,R){for(let D=0;D<16;D++)R._m[D]=E._m[D]*(1-C)+b._m[D]*C;zt(R)}e.lerpToRef=he;function Re(E,b,C){let R=a();return $e(E,b,C,R),R}e.decomposeLerp=Re;function $e(E,b,C,R){let D=p.Zero(),ee=V.Zero(),Z=p.Zero();Vt(E,D,ee,Z);let de=p.Zero(),Ce=V.Zero(),Ue=p.Zero();Vt(b,de,Ce,Ue);let Ge=p.Zero();p.lerpToRef(D,de,C,Ge);let ht=V.Zero();V.slerpToRef(ee,Ce,C,ht);let We=p.Zero();p.lerpToRef(Z,Ue,C,We),w(Ge,ht,We,R)}e.decomposeLerpToRef=$e;function Ke(E,b,C){let R=a();return ot(E,b,C,R),R}e.LookAtLH=Ke;function ot(E,b,C,R){let D=p.Zero(),ee=p.Zero(),Z=p.Zero();p.subtractToRef(b,E,Z),p.normalizeToRef(Z,Z),p.crossToRef(C,Z,D);let de=p.lengthSquared(D);de===0?D.x=1:p.normalizeFromLengthToRef(D,Math.sqrt(de),D),p.crossToRef(Z,D,ee),p.normalizeToRef(ee,ee);let Ce=-p.dot(D,E),Ue=-p.dot(ee,E),Ge=-p.dot(Z,E);y(D.x,ee.x,Z.x,0,D.y,ee.y,Z.y,0,D.z,ee.z,Z.z,0,Ce,Ue,Ge,1,R)}e.lookAtLHToRef=ot;function it(E,b,C){let R=a();return pt(E,b,C,R),R}e.lookAtRH=it;function pt(E,b,C,R){let D=p.Zero(),ee=p.Zero(),Z=p.Zero();p.subtractToRef(E,b,Z),p.normalizeToRef(Z,Z),p.crossToRef(C,Z,D);let de=p.lengthSquared(D);de===0?D.x=1:p.normalizeFromLengthToRef(D,Math.sqrt(de),D),p.crossToRef(Z,D,ee),p.normalizeToRef(ee,ee);let Ce=-p.dot(D,E),Ue=-p.dot(ee,E),Ge=-p.dot(Z,E);y(D.x,ee.x,Z.x,0,D.y,ee.y,Z.y,0,D.z,ee.z,Z.z,0,Ce,Ue,Ge,1,R)}e.lookAtRHToRef=pt;function ut(E,b,C,R){let D=a();return Nt(E,b,C,R,D),D}e.orthoLH=ut;function Nt(E,b,C,R,D){let ee=C,Z=R,de=2/E,Ce=2/b,Ue=2/(Z-ee),Ge=-(Z+ee)/(Z-ee);y(de,0,0,0,0,Ce,0,0,0,0,Ue,0,0,0,Ge,1,D),fn(D,de===1&&Ce===1&&Ue===1&&Ge===0)}e.orthoLHToRef=Nt;function tt(E,b,C,R,D,ee){let Z=a();return Rn(E,b,C,R,D,ee,Z),Z}e.OrthoOffCenterLH=tt;function Rn(E,b,C,R,D,ee,Z){let de=D,Ce=ee,Ue=2/(b-E),Ge=2/(R-C),ht=2/(Ce-de),We=-(Ce+de)/(Ce-de),Rt=(E+b)/(E-b),Dt=(R+C)/(C-R);y(Ue,0,0,0,0,Ge,0,0,0,0,ht,0,Rt,Dt,We,1,Z),zt(Z)}e.orthoOffCenterLHToRef=Rn;function W(E,b,C,R,D,ee){let Z=a();return X(E,b,C,R,D,ee,Z),Z}e.orthoOffCenterRH=W;function X(E,b,C,R,D,ee,Z){Rn(E,b,C,R,D,ee,Z),Z._m[10]*=-1}e.orthoOffCenterRHToRef=X;function ye(E,b,C,R){let D=a(),ee=C,Z=R,de=2*ee/E,Ce=2*ee/b,Ue=(Z+ee)/(Z-ee),Ge=-2*Z*ee/(Z-ee);return y(de,0,0,0,0,Ce,0,0,0,0,Ue,1,0,0,Ge,0,D),fn(D,!1),D}e.perspectiveLH=ye;function U(E,b,C,R){let D=a();return J(E,b,C,R,D),D}e.perspectiveFovLH=U;function J(E,b,C,R,D,ee=!0){let Z=C,de=R,Ce=1/Math.tan(E*.5),Ue=ee?Ce/b:Ce,Ge=ee?Ce:Ce*b,ht=(de+Z)/(de-Z),We=-2*de*Z/(de-Z);y(Ue,0,0,0,0,Ge,0,0,0,0,ht,1,0,0,We,0,D),fn(D,!1)}e.perspectiveFovLHToRef=J;function ve(E,b,C,R){let D=a();return Tt(E,b,C,R,D),D}e.PerspectiveFovRH=ve;function Tt(E,b,C,R,D,ee=!0){let Z=C,de=R,Ce=1/Math.tan(E*.5),Ue=ee?Ce/b:Ce,Ge=ee?Ce:Ce*b,ht=-(de+Z)/(de-Z),We=-2*de*Z/(de-Z);y(Ue,0,0,0,0,Ge,0,0,0,0,ht,-1,0,0,We,0,D),fn(D,!1)}e.perspectiveFovRHToRef=Tt;function Dn(E,b,C,R,D=!1){let ee=D?-1:1,Z=Math.tan(E.upDegrees*Math.PI/180),de=Math.tan(E.downDegrees*Math.PI/180),Ce=Math.tan(E.leftDegrees*Math.PI/180),Ue=Math.tan(E.rightDegrees*Math.PI/180),Ge=2/(Ce+Ue),ht=2/(Z+de),We=R._m;We[0]=Ge,We[1]=We[2]=We[3]=We[4]=0,We[5]=ht,We[6]=We[7]=0,We[8]=(Ce-Ue)*Ge*.5,We[9]=-((Z-de)*ht*.5),We[10]=-C/(b-C),We[11]=1*ee,We[12]=We[13]=We[15]=0,We[14]=-(2*C*b)/(C-b),zt(R)}e.perspectiveFovWebVRToRef=Dn;function Tl(E){return[E._m[0],E._m[1],E._m[4],E._m[5]]}e.GetAsMatrix2x2=Tl;function za(E){return[E._m[0],E._m[1],E._m[2],E._m[4],E._m[5],E._m[6],E._m[8],E._m[9],E._m[10]]}e.GetAsMatrix3x3=za;function Sl(E){let b=a();return Ji(E,b),b}e.transpose=Sl;function Ji(E,b){let C=b._m,R=E._m;C[0]=R[0],C[1]=R[4],C[2]=R[8],C[3]=R[12],C[4]=R[1],C[5]=R[5],C[6]=R[9],C[7]=R[13],C[8]=R[2],C[9]=R[6],C[10]=R[10],C[11]=R[14],C[12]=R[3],C[13]=R[7],C[14]=R[11],C[15]=R[15],fn(b,E.isIdentity,E._isIdentityDirty)}e.transposeToRef=Ji;function xl(E){let b=a();return Da(E,b),b}e.reflection=xl;function Da(E,b){let C=Mu.normalize(E),R=C.normal.x,D=C.normal.y,ee=C.normal.z,Z=-2*R,de=-2*D,Ce=-2*ee;y(Z*R+1,de*R,Ce*R,0,Z*D,de*D+1,Ce*D,0,Z*ee,de*ee,Ce*ee+1,0,Z*C.d,de*C.d,Ce*C.d,1,b)}e.reflectionToRef=Da;function qo(E,b,C,R){y(E.x,E.y,E.z,0,b.x,b.y,b.z,0,C.x,C.y,C.z,0,0,0,0,1,R)}e.fromXYZAxesToRef=qo;function $i(E,b){let C=E.x*E.x,R=E.y*E.y,D=E.z*E.z,ee=E.x*E.y,Z=E.z*E.w,de=E.z*E.x,Ce=E.y*E.w,Ue=E.y*E.z,Ge=E.x*E.w;b._m[0]=1-2*(R+D),b._m[1]=2*(ee+Z),b._m[2]=2*(de-Ce),b._m[3]=0,b._m[4]=2*(ee-Z),b._m[5]=1-2*(D+C),b._m[6]=2*(Ue+Ge),b._m[7]=0,b._m[8]=2*(de+Ce),b._m[9]=2*(Ue-Ge),b._m[10]=1-2*(R+C),b._m[11]=0,b._m[12]=0,b._m[13]=0,b._m[14]=0,b._m[15]=1,zt(b)}e.fromQuaternionToRef=$i;function zt(E){E.updateFlag=r++,E.isIdentity=!1,E.isIdentity3x2=!1,E._isIdentityDirty=!0,E._isIdentity3x2Dirty=!0}function Ua(E){if(E._isIdentityDirty){E._isIdentityDirty=!1;let b=E._m;E.isIdentity=b[0]===1&&b[1]===0&&b[2]===0&&b[3]===0&&b[4]===0&&b[5]===1&&b[6]===0&&b[7]===0&&b[8]===0&&b[9]===0&&b[10]===1&&b[11]===0&&b[12]===0&&b[13]===0&&b[14]===0&&b[15]===1}return E.isIdentity}e.isIdentityUpdate=Ua;function Qo(E){return E._isIdentity3x2Dirty&&(E._isIdentity3x2Dirty=!1,E._m[0]!==1||E._m[5]!==1||E._m[15]!==1||E._m[1]!==0||E._m[2]!==0||E._m[3]!==0||E._m[4]!==0||E._m[6]!==0||E._m[7]!==0||E._m[8]!==0||E._m[9]!==0||E._m[10]!==0||E._m[11]!==0||E._m[12]!==0||E._m[13]!==0||E._m[14]!==0?E.isIdentity3x2=!1:E.isIdentity3x2=!0),E.isIdentity3x2}e.isIdentityAs3x2Update=Qo;function La(E){if(E.isIdentity===!0)return 1;let b=E._m,C=b[0],R=b[1],D=b[2],ee=b[3],Z=b[4],de=b[5],Ce=b[6],Ue=b[7],Ge=b[8],ht=b[9],We=b[10],Rt=b[11],Dt=b[12],$t=b[13],Wt=b[14],Oe=b[15],en=We*Oe-Wt*Rt,tn=ht*Oe-$t*Rt,at=ht*Wt-$t*We,nt=Ge*Oe-Dt*Rt,nn=Ge*Wt-We*Dt,It=Ge*$t-Dt*ht,Mt=+(de*en-Ce*tn+Ue*at),Pn=-(Z*en-Ce*nt+Ue*nn),Un=+(Z*tn-de*nt+Ue*It),Gt=-(Z*at-de*nn+Ce*It);return C*Mt+R*Pn+D*Un+ee*Gt}e.determinant=La;function bl(E){return E._m}e.toArray=bl;function Fa(E){return E._m}e.asArray=Fa;function Va(E){y(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,E),fn(E,!1)}e.reset=Va;function vl(E,b){let C=a();return Wa(E,b,C),C}e.add=vl;function Wa(E,b,C){for(let R=0;R<16;R++)C._m[R]=E._m[R]+b._m[R];zt(C)}e.addToRef=Wa;function Yo(E,b){for(let C=0;C<16;C++)E._m[C]+=b._m[C];zt(E)}e.addToSelf=Yo;function wl(E){let b=a();return Ki(E,b),b}e.invert=wl;function Ki(E,b){if(E.isIdentity===!0){G(E,b);return}let C=E._m,R=C[0],D=C[1],ee=C[2],Z=C[3],de=C[4],Ce=C[5],Ue=C[6],Ge=C[7],ht=C[8],We=C[9],Rt=C[10],Dt=C[11],$t=C[12],Wt=C[13],Oe=C[14],en=C[15],tn=Rt*en-Oe*Dt,at=We*en-Wt*Dt,nt=We*Oe-Wt*Rt,nn=ht*en-$t*Dt,It=ht*Oe-Rt*$t,Mt=ht*Wt-$t*We,Pn=+(Ce*tn-Ue*at+Ge*nt),Un=-(de*tn-Ue*nn+Ge*It),Gt=+(de*at-Ce*nn+Ge*Mt),Nr=-(de*nt-Ce*It+Ue*Mt),wo=R*Pn+D*Un+ee*Gt+Z*Nr;if(wo===0){G(E,b);return}let Ht=1/wo,Mr=Ue*en-Oe*Ge,ko=Ce*en-Wt*Ge,dn=Ce*Oe-Wt*Ue,$o=de*en-$t*Ge,Ko=de*Oe-$t*Ue,Zo=de*Wt-$t*Ce,_r=Ue*Dt-Rt*Ge,Xi=Ce*Dt-We*Ge,Ti=Ce*Rt-We*Ue,ea=de*Dt-ht*Ge,Fc=de*Rt-ht*Ue,Vc=de*We-ht*Ce,Pl=-(D*tn-ee*at+Z*nt),Wc=+(R*tn-ee*nn+Z*It),Nl=-(R*at-D*nn+Z*Mt),ta=+(R*nt-D*It+ee*Mt),im=+(D*Mr-ee*ko+Z*dn),Ml=-(R*Mr-ee*$o+Z*Ko),dt=+(R*ko-D*$o+Z*Zo),Gc=-(R*dn-D*Ko+ee*Zo),_l=-(D*_r-ee*Xi+Z*Ti),Hc=+(R*_r-ee*ea+Z*Fc),am=-(R*Xi-D*ea+Z*Vc),sm=+(R*Ti-D*Fc+ee*Vc);y(Pn*Ht,Pl*Ht,im*Ht,_l*Ht,Un*Ht,Wc*Ht,Ml*Ht,Hc*Ht,Gt*Ht,Nl*Ht,dt*Ht,am*Ht,Nr*Ht,ta*Ht,Gc*Ht,sm*Ht,b)}e.invertToRef=Ki;function kl(E,b,C){E._m[b]+=C,zt(E)}e.addAtIndex=kl;function Cl(E,b,C){return E._m[b]*=C,zt(E),E}e.multiplyAtIndex=Cl;function Ga(E,b,C,R){E._m[12]=b,E._m[13]=C,E._m[14]=R,zt(E)}e.setTranslationFromFloats=Ga;function Zi(E,b){Ga(E,b.x,b.y,b.z)}e.setTranslation=Zi;function Il(E){return p.create(E._m[12],E._m[13],E._m[14])}e.getTranslation=Il;function Al(E,b){b.x=E._m[12],b.y=E._m[13],b.z=E._m[14]}e.getTranslationToRef=Al;function v(E){let b=E._m;return y(1,0,0,0,0,1,0,0,0,0,1,0,b[12],b[13],b[14],b[15],E),fn(E,b[12]===0&&b[13]===0&&b[14]===0&&b[15]===1),E}e.removeRotationAndScaling=v;function _(E,b){let C=a();return me(E,b,C),C}e.multiply=_;function G(E,b){ge(E,b._m),fn(b,E.isIdentity,E._isIdentityDirty,E.isIdentity3x2,E._isIdentity3x2Dirty)}e.copy=G;function ge(E,b,C=0){for(let R=0;R<16;R++)b[C+R]=E._m[R]}e.copyToArray=ge;function me(E,b,C){if(E.isIdentity){G(b,C);return}if(b.isIdentity){G(E,C);return}we(E,b,C._m,0),zt(C)}e.multiplyToRef=me;function we(E,b,C,R){let D=E._m,ee=b._m,Z=D[0],de=D[1],Ce=D[2],Ue=D[3],Ge=D[4],ht=D[5],We=D[6],Rt=D[7],Dt=D[8],$t=D[9],Wt=D[10],Oe=D[11],en=D[12],tn=D[13],at=D[14],nt=D[15],nn=ee[0],It=ee[1],Mt=ee[2],Pn=ee[3],Un=ee[4],Gt=ee[5],Nr=ee[6],wo=ee[7],Ht=ee[8],Mr=ee[9],ko=ee[10],dn=ee[11],$o=ee[12],Ko=ee[13],Zo=ee[14],_r=ee[15];C[R]=Z*nn+de*Un+Ce*Ht+Ue*$o,C[R+1]=Z*It+de*Gt+Ce*Mr+Ue*Ko,C[R+2]=Z*Mt+de*Nr+Ce*ko+Ue*Zo,C[R+3]=Z*Pn+de*wo+Ce*dn+Ue*_r,C[R+4]=Ge*nn+ht*Un+We*Ht+Rt*$o,C[R+5]=Ge*It+ht*Gt+We*Mr+Rt*Ko,C[R+6]=Ge*Mt+ht*Nr+We*ko+Rt*Zo,C[R+7]=Ge*Pn+ht*wo+We*dn+Rt*_r,C[R+8]=Dt*nn+$t*Un+Wt*Ht+Oe*$o,C[R+9]=Dt*It+$t*Gt+Wt*Mr+Oe*Ko,C[R+10]=Dt*Mt+$t*Nr+Wt*ko+Oe*Zo,C[R+11]=Dt*Pn+$t*wo+Wt*dn+Oe*_r,C[R+12]=en*nn+tn*Un+at*Ht+nt*$o,C[R+13]=en*It+tn*Gt+at*Mr+nt*Ko,C[R+14]=en*Mt+tn*Nr+at*ko+nt*Zo,C[R+15]=en*Pn+tn*wo+at*dn+nt*_r}e.multiplyToArray=we;function Ve(E,b){let C=b;if(!C)return!1;if((E.isIdentity||C.isIdentity)&&!E._isIdentityDirty&&!C._isIdentityDirty)return E.isIdentity&&C.isIdentity;let R=E._m,D=C._m;return R[0]===D[0]&&R[1]===D[1]&&R[2]===D[2]&&R[3]===D[3]&&R[4]===D[4]&&R[5]===D[5]&&R[6]===D[6]&&R[7]===D[7]&&R[8]===D[8]&&R[9]===D[9]&&R[10]===D[10]&&R[11]===D[11]&&R[12]===D[12]&&R[13]===D[13]&&R[14]===D[14]&&R[15]===D[15]}e.equals=Ve;function Ft(E){let b=a();return G(E,b),b}e.clone=Ft;function un(E){let b=E._m[0]||0;for(let C=1;C<16;C++)b=b*397^(E._m[C]||0);return b}e.getHashCode=un;function Vt(E,b,C,R){if(E.isIdentity)return R&&(R.x=0,R.y=0,R.z=0),b&&(b.x=1,b.y=1,b.z=1),C&&(C.w=1,C.x=0,C.y=0,C.z=0),!0;let D=E._m;R&&(R.x=D[12],R.y=D[13],R.z=D[14]);let ee=b||p.Zero();if(ee.x=Math.sqrt(D[0]*D[0]+D[1]*D[1]+D[2]*D[2]),ee.y=Math.sqrt(D[4]*D[4]+D[5]*D[5]+D[6]*D[6]),ee.z=Math.sqrt(D[8]*D[8]+D[9]*D[9]+D[10]*D[10]),La(E)<=0&&(ee.y*=-1),ee.x===0||ee.y===0||ee.z===0)return C&&(C.w=1,C.x=0,C.y=0,C.z=0),!1;if(C){let Z=1/ee.x,de=1/ee.y,Ce=1/ee.z,Ue=a();y(D[0]*Z,D[1]*Z,D[2]*Z,0,D[4]*de,D[5]*de,D[6]*de,0,D[8]*Ce,D[9]*Ce,D[10]*Ce,0,0,0,0,1,Ue),V.fromRotationMatrixToRef(Ue,C)}return!0}e.decompose=Vt;function Jr(E,b,C,R,D,ee){if(b<0||b>3)return;let Z=b*4;E._m[Z+0]=C,E._m[Z+1]=R,E._m[Z+2]=D,E._m[Z+3]=ee,zt(E)}e.setRowFromFloats=Jr;function Jo(E,b){let C=a();return bo(E,b,C),C}e.scale=Jo;function bo(E,b,C){for(let R=0;R<16;R++)C._m[R]=E._m[R]*b;zt(C)}e.scaleToRef=bo;function vo(E,b,C){for(let R=0;R<16;R++)C._m[R]+=E._m[R]*b;zt(C)}e.scaleAndAddToRef=vo;function Rl(E,b){let C=a();Ki(E,C),Ji(C,b);let R=b._m;y(R[0],R[1],R[2],0,R[4],R[5],R[6],0,R[8],R[9],R[10],0,0,0,0,1,b)}e.normalMatrixToRef=Rl;function rm(E){let b=a();return Lc(E,b),b}e.getRotationMatrix=rm;function Lc(E,b){let C=p.Zero();if(!Vt(E,C)){b=I();return}let R=E._m,D=1/C.x,ee=1/C.y,Z=1/C.z;y(R[0]*D,R[1]*D,R[2]*D,0,R[4]*ee,R[5]*ee,R[6]*ee,0,R[8]*Z,R[9]*Z,R[10]*Z,0,0,0,0,1,b)}e.getRotationMatrixToRef=Lc;function Ha(E){E._m[2]*=-1,E._m[6]*=-1,E._m[8]*=-1,E._m[9]*=-1,E._m[14]*=-1,zt(E)}e.toggleModelMatrixHandInPlace=Ha;function om(E){E._m[8]*=-1,E._m[9]*=-1,E._m[10]*=-1,E._m[11]*=-1,zt(E)}e.toggleProjectionMatrixHandInPlace=om;function fn(E,b,C=!1,R=!1,D=!0){E.updateFlag=r++,E.isIdentity=b,E.isIdentity3x2=b||R,E._isIdentityDirty=E.isIdentity?!1:C,E._isIdentity3x2Dirty=E.isIdentity3x2?!1:D}})(to||(to={}));var V;(function(e){function t(A=0,O=0,H=0,le=1){return{x:A,y:O,z:H,w:le}}e.create=t;function r(A,O){return{x:A.x+O.x,y:A.y+O.y,z:A.z+O.z,w:A.w+O.w}}e.add=r;function n(A,O,H){let le=O*.5,he=A*.5,Re=H*.5,$e=Math.cos(le),Ke=Math.cos(he),ot=Math.cos(Re),it=Math.sin(le),pt=Math.sin(he),ut=Math.sin(Re);return t(Ke*it*ot+pt*$e*ut,pt*$e*ot-Ke*it*ut,Ke*$e*ut-pt*it*ot,Ke*$e*ot+pt*it*ut)}e.fromRotationYawPitchRoll=n;function s(A,O,H){return n(O*$l,A*$l,H*$l)}e.fromEulerDegrees=s;function a(A){return Math.sqrt(f(A))}e.length=a;function f(A){return A.x*A.x+A.y*A.y+A.z*A.z+A.w*A.w}e.lengthSquared=f;function c(A,O){return A.x*O.x+A.y*O.y+A.z*O.z+A.w*O.w}e.dot=c;function l(A,O){let H=c(A,O);return Math.acos(Math.min(Math.abs(H),1))*2*Kl}e.angle=l;function y(A,O,H){let le=l(A,O);if(le===0)return O;let he=Math.min(1,H/le);return k(A,O,he)}e.rotateTowards=y;function g(A,O={x:0,y:1,z:0}){let H=p.normalize(A),le=p.normalize(p.cross(O,H)),he=p.cross(H,le),Re=le.x,$e=le.y,Ke=le.z,ot=he.x,it=he.y,pt=he.z,ut=H.x,Nt=H.y,tt=H.z,Rn=Re+it+tt,W=t();if(Rn>0){let U=Math.sqrt(Rn+1);return W.w=U*.5,U=.5/U,W.x=(pt-Nt)*U,W.y=(ut-Ke)*U,W.z=($e-ot)*U,W}if(Re>=it&&Re>=tt){let U=Math.sqrt(1+Re-it-tt),J=.5/U;return W.x=.5*U,W.y=($e+ot)*J,W.z=(Ke+ut)*J,W.w=(pt-Nt)*J,W}if(it>tt){let U=Math.sqrt(1+it-Re-tt),J=.5/U;return W.x=(ot+$e)*J,W.y=.5*U,W.z=(Nt+pt)*J,W.w=(ut-Ke)*J,W}let X=Math.sqrt(1+tt-Re-it),ye=.5/X;return W.x=(ut+Ke)*ye,W.y=(Nt+pt)*ye,W.z=.5*X,W.w=($e-ot)*ye,W}e.lookRotation=g;function M(A){let O=1/a(A);return t(A.x*O,A.y*O,A.z*O,A.w*O)}e.normalize=M;function w(A,O,H=p.Up()){let le=p.normalize(A),he=p.normalize(O),Re=p.cross(le,he),$e=Math.sqrt(p.lengthSquared(le)*p.lengthSquared(he))+p.dot(le,he);return p.lengthSquared(Re)<1e-4?Math.abs($e)<1e-4?M(t(H.x,H.y,H.z,0)):I():M(t(Re.x,Re.y,Re.z,$e))}e.fromToRotation=w;function I(){return t(0,0,0,1)}e.Identity=I;function P(A){let O=p.create(),H=A.x*A.x+A.y*A.y+A.z*A.z+A.w*A.w,le=A.x*A.w-A.y*A.z;return le>.4995*H?(O.x=Math.PI/2,O.y=2*Math.atan2(A.y,A.x),O.z=0):le<-.4995*H?(O.x=-Math.PI/2,O.y=-2*Math.atan2(A.y,A.x),O.z=0):(O.x=Math.asin(2*(A.w*A.x-A.y*A.z)),O.y=Math.atan2(2*A.w*A.y+2*A.z*A.x,1-2*(A.x*A.x+A.y*A.y)),O.z=Math.atan2(2*A.w*A.z+2*A.x*A.y,1-2*(A.z*A.z+A.x*A.x))),O.x*=Kl,O.y*=Kl,O.z*=Kl,O.x=kt.repeat(O.x,360),O.y=kt.repeat(O.y,360),O.z=kt.repeat(O.z,360),O}e.toEulerAngles=P;function S(A,O,H,le){let he=O*.5,Re=A*.5,$e=H*.5,Ke=Math.cos(he),ot=Math.cos(Re),it=Math.cos($e),pt=Math.sin(he),ut=Math.sin(Re),Nt=Math.sin($e);le.x=ot*pt*it+ut*Ke*Nt,le.y=ut*Ke*it-ot*pt*Nt,le.z=ot*Ke*Nt-ut*pt*it,le.w=ot*Ke*it+ut*pt*Nt}e.fromRotationYawPitchRollToRef=S;function x(A,O){let H=A._m,le=H[0],he=H[4],Re=H[8],$e=H[1],Ke=H[5],ot=H[9],it=H[2],pt=H[6],ut=H[10],Nt=le+Ke+ut,tt;Nt>0?(tt=.5/Math.sqrt(Nt+1),O.w=.25/tt,O.x=(pt-ot)*tt,O.y=(Re-it)*tt,O.z=($e-he)*tt):le>Ke&&le>ut?(tt=2*Math.sqrt(1+le-Ke-ut),O.w=(pt-ot)/tt,O.x=.25*tt,O.y=(he+$e)/tt,O.z=(Re+it)/tt):Ke>ut?(tt=2*Math.sqrt(1+Ke-le-ut),O.w=(Re-it)/tt,O.x=(he+$e)/tt,O.y=.25*tt,O.z=(ot+pt)/tt):(tt=2*Math.sqrt(1+ut-le-Ke),O.w=($e-he)/tt,O.x=(Re+it)/tt,O.y=(ot+pt)/tt,O.z=.25*tt)}e.fromRotationMatrixToRef=x;function k(A,O,H){let le=e.Identity();return e.slerpToRef(A,O,H,le),le}e.slerp=k;function N(A,O,H,le){let he,Re,$e=A.x*O.x+A.y*O.y+A.z*O.z+A.w*O.w,Ke=!1;if($e<0&&(Ke=!0,$e=-$e),$e>.999999)Re=1-H,he=Ke?-H:H;else{let ot=Math.acos($e),it=1/Math.sin(ot);Re=Math.sin((1-H)*ot)*it,he=Ke?-Math.sin(H*ot)*it:Math.sin(H*ot)*it}le.x=Re*A.x+he*O.x,le.y=Re*A.y+he*O.y,le.z=Re*A.z+he*O.z,le.w=Re*A.w+he*O.w}e.slerpToRef=N;function F(A,O){let H=t(0,0,0,1);return ae(A,O,H),H}e.multiply=F;function ae(A,O,H){H.x=A.x*O.w+A.y*O.z-A.z*O.y+A.w*O.x,H.y=-A.x*O.z+A.y*O.w+A.z*O.x+A.w*O.y,H.z=A.x*O.y-A.y*O.x+A.z*O.w+A.w*O.z,H.w=-A.x*O.x-A.y*O.y-A.z*O.z+A.w*O.w}e.multiplyToRef=ae;function Ae(A,O){if(p.lengthSquared(O)===0)return e.Identity();let H=I(),le=A*$l;le*=.5;let he=p.normalize(O);return p.scaleToRef(he,Math.sin(le),he),H.x=he.x,H.y=he.y,H.z=he.z,H.w=Math.cos(le),M(H)}e.fromAngleAxis=Ae;function ne(A,O,H){let le=e.create(0,0,0,0);return j(A,O,H,le),le}e.fromAxisToRotationQuaternion=ne;function j(A,O,H,le){let he=to.create();to.fromXYZAxesToRef(p.normalize(A),p.normalize(O),p.normalize(H),he),e.fromRotationMatrixToRef(he,le)}e.fromAxisToRotationQuaternionToRef=j;function se(){return t(0,0,0,0)}e.Zero=se;function oe(A,O,H=p.Up()){let le=e.Identity();return $(A,O,H,le),le}e.fromLookAt=oe;function $(A,O,H=p.Up(),le){let he=to.Identity();to.lookAtLHToRef(A,O,H,he),to.invertToRef(he,he),e.fromRotationMatrixToRef(he,le)}e.fromLookAtToRef=$})(V||(V={}));var xe;(function(e){function t(W=0,X=0,ye=0,U=1){return{r:W,g:X,b:ye,a:U}}e.create=t;function r(W){if(W.substring(0,1)!=="#"||W.length!==7&&W.length!==9)return t(0,0,0,1);let X=parseInt(W.substring(1,3),16),ye=parseInt(W.substring(3,5),16),U=parseInt(W.substring(5,7),16),J=W.substring(7,9),ve=J?parseInt(J,16):255;return e.fromInts(X,ye,U,ve)}e.fromHexString=r;function n(W,X,ye){let U=t(0,0,0,0);return e.lerpToRef(W,X,ye,U),U}e.lerp=n;function s(W,X,ye,U){U.r=W.r+(X.r-W.r)*ye,U.g=W.g+(X.g-W.g)*ye,U.b=W.b+(X.b-W.b)*ye,U.a=W.a+(X.a-W.a)*ye}e.lerpToRef=s;function a(){return t(1,0,0,1)}e.Red=a;function f(){return t(0,1,0,1)}e.Green=f;function c(){return t(0,0,1,1)}e.Blue=c;function l(){return t(0,0,0,1)}e.Black=l;function y(){return t(1,1,1,1)}e.White=y;function g(){return t(.5,0,.5,1)}e.Purple=g;function M(){return t(1,0,1,1)}e.Magenta=M;function w(){return t(1,1,0,1)}e.Yellow=w;function I(){return t(.5,.5,.5,1)}e.Gray=I;function P(){return t(0,1,1,1)}e.Teal=P;function S(){return t(0,0,0,0)}e.Clear=S;function x(W,X=1){return t(W.r,W.g,W.b,X)}e.fromColor3=x;function k(W,X=0){return t(W[X],W[X+1],W[X+2],W[X+3])}e.fromArray=k;function N(W,X,ye,U){return t(W/255,X/255,ye/255,U/255)}e.fromInts=N;function F(W,X){if(W.length===X*3){let ye=[];for(let U=0;U<W.length;U+=3){let J=U/3*4;ye[J]=W[U],ye[J+1]=W[U+1],ye[J+2]=W[U+2],ye[J+3]=1}return ye}return W}e.checkColors4=F;function ae(W,X,ye){ye.r=W.r+X.r,ye.g=W.g+X.g,ye.b=W.b+X.b,ye.a=W.a+X.a}e.addToRef=ae;function Ae(W,X,ye=0){X[ye]=W.r,X[ye+1]=W.g,X[ye+2]=W.b,X[ye+3]=W.a}e.toArray=Ae;function ne(W,X){let ye=S();return ae(W,X,ye),ye}e.add=ne;function j(W,X){let ye=S();return se(W,X,ye),ye}e.subtract=j;function se(W,X,ye){ye.r=W.r-X.r,ye.g=W.g-X.g,ye.b=W.b-X.b,ye.a=W.a-X.a}e.subtractToRef=se;function oe(W,X){return t(W.r*X,W.g*X,W.b*X,W.a*X)}e.scale=oe;function $(W,X,ye){ye.r=W.r*X,ye.g=W.g*X,ye.b=W.b*X,ye.a=W.a*X}e.scaleToRef=$;function A(W,X,ye){ye.r+=W.r*X,ye.g+=W.g*X,ye.b+=W.b*X,ye.a+=W.a*X}e.scaleAndAddToRef=A;function O(W,X=0,ye=1,U){U.r=kt.clamp(W.r,X,ye),U.g=kt.clamp(W.g,X,ye),U.b=kt.clamp(W.b,X,ye),U.a=kt.clamp(W.a,X,ye)}e.clampToRef=O;function H(W,X){return t(W.r*X.r,W.g*X.g,W.b*X.b,W.a*X.a)}e.multiply=H;function le(W,X,ye){ye.r=W.r*X.r,ye.g=W.g*X.g,ye.b=W.b*X.b,ye.a=W.a*X.a}e.multiplyToRef=le;function he(W){return"{R: "+W.r+" G:"+W.g+" B:"+W.b+" A:"+W.a+"}"}e.toString=he;function Re(W){let X=W.r||0;return X=X*397^(W.g||0),X=X*397^(W.b||0),X=X*397^(W.a||0),X}e.getHashCode=Re;function $e(W){return t(W.r,W.g,W.b,W.a)}e.clone=$e;function Ke(W,X){X.r=W.r,X.g=W.g,X.b=W.b,X.a=W.a}e.copyFrom=Ke;function ot(W,X,ye,U,J){J.r=W,J.g=X,J.b=ye,J.a=U}e.copyFromFloats=ot;function it(W,X,ye,U,J){J.r=W,J.g=X,J.b=ye,J.a=U}e.set=it;function pt(W){let X=W.r*255|0,ye=W.g*255|0,U=W.b*255|0,J=W.a*255|0;return"#"+kt.toHex(X)+kt.toHex(ye)+kt.toHex(U)+kt.toHex(J)}e.toHexString=pt;function ut(W){let X=t();return Nt(W,X),X}e.toLinearSpace=ut;function Nt(W,X){X.r=Math.pow(W.r,Ri),X.g=Math.pow(W.g,Ri),X.b=Math.pow(W.b,Ri),X.a=W.a}e.toLinearSpaceToRef=Nt;function tt(W){let X=t();return Rn(W,X),X}e.toGammaSpace=tt;function Rn(W,X){X.r=Math.pow(W.r,Ai),X.g=Math.pow(W.g,Ai),X.b=Math.pow(W.b,Ai),X.a=W.a}e.toGammaSpaceToRef=Rn})(xe||(xe={}));var rt;(function(e){function t(U=0,J=0,ve=0){return{r:U,g:J,b:ve}}e.create=t;function r(U){if(U.substring(0,1)!=="#"||U.length!==7)return t(0,0,0);let J=parseInt(U.substring(1,3),16),ve=parseInt(U.substring(3,5),16),Tt=parseInt(U.substring(5,7),16);return s(J,ve,Tt)}e.fromHexString=r;function n(U,J=0){return t(U[J],U[J+1],U[J+2])}e.fromArray=n;function s(U,J,ve){return t(U/255,J/255,ve/255)}e.fromInts=s;function a(U,J,ve){let Tt=t(0,0,0);return e.lerpToRef(U,J,ve,Tt),Tt}e.lerp=a;function f(U,J,ve,Tt){Tt.r=U.r+(J.r-U.r)*ve,Tt.g=U.g+(J.g-U.g)*ve,Tt.b=U.b+(J.b-U.b)*ve}e.lerpToRef=f;function c(){return t(1,0,0)}e.Red=c;function l(){return t(0,1,0)}e.Green=l;function y(){return t(0,0,1)}e.Blue=y;function g(){return t(0,0,0)}e.Black=g;function M(){return t(1,1,1)}e.White=M;function w(){return t(.5,0,.5)}e.Purple=w;function I(){return t(1,0,1)}e.Magenta=I;function P(){return t(1,1,0)}e.Yellow=P;function S(){return t(.5,.5,.5)}e.Gray=S;function x(){return t(0,1,1)}e.Teal=x;function k(){return t(Math.random(),Math.random(),Math.random())}e.Random=k;function N(U){return"{R: "+U.r+" G:"+U.g+" B:"+U.b+"}"}e.toString=N;function F(U){let J=U.r||0;return J=J*397^(U.g||0),J=J*397^(U.b||0),J}e.getHashCode=F;function ae(U,J,ve=0){J[ve]=U.r,J[ve+1]=U.g,J[ve+2]=U.b}e.toArray=ae;function Ae(U,J=1){return xe.create(U.r,U.g,U.b,J)}e.toColor4=Ae;function ne(U){let J=new Array;return ae(U,J,0),J}e.asArray=ne;function j(U){return U.r*.3+U.g*.59+U.b*.11}e.toLuminance=j;function se(U,J){return t(U.r*J.r,U.g*J.g,U.b*J.b)}e.multiply=se;function oe(U,J,ve){ve.r=U.r*J.r,ve.g=U.g*J.g,ve.b=U.b*J.b}e.multiplyToRef=oe;function $(U,J){return J&&U.r===J.r&&U.g===J.g&&U.b===J.b}e.equals=$;function A(U,J,ve,Tt){return U.r===J&&U.g===ve&&U.b===Tt}e.equalsFloats=A;function O(U,J){return t(U.r*J,U.g*J,U.b*J)}e.scale=O;function H(U,J,ve){ve.r=U.r*J,ve.g=U.g*J,ve.b=U.b*J}e.scaleToRef=H;function le(U,J,ve){ve.r+=U.r*J,ve.g+=U.g*J,ve.b+=U.b*J}e.scaleAndAddToRef=le;function he(U,J=0,ve=1,Tt){Tt.r=kt.clamp(U.r,J,ve),Tt.g=kt.clamp(U.g,J,ve),Tt.b=kt.clamp(U.b,J,ve)}e.clampToRef=he;function Re(U,J=0,ve=1){let Tt=e.Black();return he(U,J,ve,Tt),Tt}e.clamp=Re;function $e(U,J){return t(U.r+J.r,U.g+J.g,U.b+J.b)}e.add=$e;function Ke(U,J,ve){ve.r=U.r+J.r,ve.g=U.g+J.g,ve.b=U.b+J.b}e.addToRef=Ke;function ot(U,J){return t(U.r-J.r,U.g-J.g,U.b-J.b)}e.subtract=ot;function it(U,J,ve){ve.r=U.r-J.r,ve.g=U.g-J.g,ve.b=U.b-J.b}e.subtractToRef=it;function pt(U){return t(U.r,U.g,U.b)}e.clone=pt;function ut(U,J){J.r=U.r,J.g=U.g,J.b=U.b}e.copyFrom=ut;function Nt(U,J,ve,Tt){U.r=J,U.g=ve,U.b=Tt}e.set=Nt;function tt(U){let J=U.r*255|0,ve=U.g*255|0,Tt=U.b*255|0;return"#"+kt.toHex(J)+kt.toHex(ve)+kt.toHex(Tt)}e.toHexString=tt;function Rn(U){let J=t();return W(U,J),J}e.toLinearSpace=Rn;function W(U,J){J.r=Math.pow(U.r,Ri),J.g=Math.pow(U.g,Ri),J.b=Math.pow(U.b,Ri)}e.toLinearSpaceToRef=W;function X(U){let J=t();return ye(U,J),J}e.toGammaSpace=X;function ye(U,J){J.r=Math.pow(U.r,Ai),J.g=Math.pow(U.g,Ai),J.b=Math.pow(U.b,Ai)}e.toGammaSpaceToRef=ye})(rt||(rt={}));var ma=_e(Le());function xS(){return{states:[]}}var os;(function(e){function t(n,s=ma.default.Writer.create()){for(let a of n.states)Uu.encode(a,s.uint32(10).fork()).ldelim();return s}e.encode=t;function r(n,s){let a=n instanceof ma.default.Reader?n:ma.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=xS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.states.push(Uu.decode(a,a.uint32()));continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(os||(os={}));function bS(){return{clip:"",playing:void 0,weight:void 0,speed:void 0,loop:void 0,shouldReset:void 0}}var Uu;(function(e){function t(n,s=ma.default.Writer.create()){return n.clip!==""&&s.uint32(18).string(n.clip),n.playing!==void 0&&s.uint32(24).bool(n.playing),n.weight!==void 0&&s.uint32(37).float(n.weight),n.speed!==void 0&&s.uint32(45).float(n.speed),n.loop!==void 0&&s.uint32(48).bool(n.loop),n.shouldReset!==void 0&&s.uint32(56).bool(n.shouldReset),s}e.encode=t;function r(n,s){let a=n instanceof ma.default.Reader?n:ma.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=bS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 2:if(l!==18)break;c.clip=a.string();continue;case 3:if(l!==24)break;c.playing=a.bool();continue;case 4:if(l!==37)break;c.weight=a.float();continue;case 5:if(l!==45)break;c.speed=a.float();continue;case 6:if(l!==48)break;c.loop=a.bool();continue;case 7:if(l!==56)break;c.shouldReset=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Uu||(Uu={}));var gg={COMPONENT_ID:1042,serialize(e,t){let r=os.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return os.decode(e.buffer(),e.remainingBytes())},create(){return os.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"}};var Lu=_e(Le());function vS(){return{state:0,timestamp:0}}var is;(function(e){function t(n,s=Lu.default.Writer.create()){return n.state!==0&&s.uint32(8).int32(n.state),n.timestamp!==0&&s.uint32(16).uint32(n.timestamp),s}e.encode=t;function r(n,s){let a=n instanceof Lu.default.Reader?n:Lu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=vS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.state=a.int32();continue;case 2:if(l!==16)break;c.timestamp=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(is||(is={}));var Eg={COMPONENT_ID:1105,serialize(e,t){let r=is.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return is.decode(e.buffer(),e.remainingBytes())},create(){return is.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioEvent"}};var Fu=_e(Le());function wS(){return{playing:void 0,volume:void 0,loop:void 0,pitch:void 0,audioClipUrl:"",currentTime:void 0,global:void 0}}var as;(function(e){function t(n,s=Fu.default.Writer.create()){return n.playing!==void 0&&s.uint32(8).bool(n.playing),n.volume!==void 0&&s.uint32(21).float(n.volume),n.loop!==void 0&&s.uint32(24).bool(n.loop),n.pitch!==void 0&&s.uint32(37).float(n.pitch),n.audioClipUrl!==""&&s.uint32(42).string(n.audioClipUrl),n.currentTime!==void 0&&s.uint32(53).float(n.currentTime),n.global!==void 0&&s.uint32(56).bool(n.global),s}e.encode=t;function r(n,s){let a=n instanceof Fu.default.Reader?n:Fu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=wS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.playing=a.bool();continue;case 2:if(l!==21)break;c.volume=a.float();continue;case 3:if(l!==24)break;c.loop=a.bool();continue;case 4:if(l!==37)break;c.pitch=a.float();continue;case 5:if(l!==42)break;c.audioClipUrl=a.string();continue;case 6:if(l!==53)break;c.currentTime=a.float();continue;case 7:if(l!==56)break;c.global=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(as||(as={}));var Tg={COMPONENT_ID:1020,serialize(e,t){let r=as.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return as.decode(e.buffer(),e.remainingBytes())},create(){return as.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioSource"}};var Vu=_e(Le());function kS(){return{playing:void 0,volume:void 0,url:""}}var ss;(function(e){function t(n,s=Vu.default.Writer.create()){return n.playing!==void 0&&s.uint32(8).bool(n.playing),n.volume!==void 0&&s.uint32(21).float(n.volume),n.url!==""&&s.uint32(26).string(n.url),s}e.encode=t;function r(n,s){let a=n instanceof Vu.default.Reader?n:Vu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=kS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.playing=a.bool();continue;case 2:if(l!==21)break;c.volume=a.float();continue;case 3:if(l!==26)break;c.url=a.string();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ss||(ss={}));var Sg={COMPONENT_ID:1021,serialize(e,t){let r=ss.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ss.decode(e.buffer(),e.remainingBytes())},create(){return ss.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioStream"}};var Wu=_e(Le());var xg;(function(e){e[e.AAPT_POSITION=0]="AAPT_POSITION",e[e.AAPT_NAME_TAG=1]="AAPT_NAME_TAG",e[e.AAPT_HEAD=4]="AAPT_HEAD",e[e.AAPT_NECK=5]="AAPT_NECK",e[e.AAPT_SPINE=6]="AAPT_SPINE",e[e.AAPT_SPINE1=7]="AAPT_SPINE1",e[e.AAPT_SPINE2=8]="AAPT_SPINE2",e[e.AAPT_HIP=9]="AAPT_HIP",e[e.AAPT_LEFT_SHOULDER=10]="AAPT_LEFT_SHOULDER",e[e.AAPT_LEFT_ARM=11]="AAPT_LEFT_ARM",e[e.AAPT_LEFT_FOREARM=12]="AAPT_LEFT_FOREARM",e[e.AAPT_LEFT_HAND=2]="AAPT_LEFT_HAND",e[e.AAPT_LEFT_HAND_INDEX=13]="AAPT_LEFT_HAND_INDEX",e[e.AAPT_RIGHT_SHOULDER=14]="AAPT_RIGHT_SHOULDER",e[e.AAPT_RIGHT_ARM=15]="AAPT_RIGHT_ARM",e[e.AAPT_RIGHT_FOREARM=16]="AAPT_RIGHT_FOREARM",e[e.AAPT_RIGHT_HAND=3]="AAPT_RIGHT_HAND",e[e.AAPT_RIGHT_HAND_INDEX=17]="AAPT_RIGHT_HAND_INDEX",e[e.AAPT_LEFT_UP_LEG=18]="AAPT_LEFT_UP_LEG",e[e.AAPT_LEFT_LEG=19]="AAPT_LEFT_LEG",e[e.AAPT_LEFT_FOOT=20]="AAPT_LEFT_FOOT",e[e.AAPT_LEFT_TOE_BASE=21]="AAPT_LEFT_TOE_BASE",e[e.AAPT_RIGHT_UP_LEG=22]="AAPT_RIGHT_UP_LEG",e[e.AAPT_RIGHT_LEG=23]="AAPT_RIGHT_LEG",e[e.AAPT_RIGHT_FOOT=24]="AAPT_RIGHT_FOOT",e[e.AAPT_RIGHT_TOE_BASE=25]="AAPT_RIGHT_TOE_BASE"})(xg||(xg={}));function CS(){return{avatarId:void 0,anchorPointId:0}}var ls;(function(e){function t(n,s=Wu.default.Writer.create()){return n.avatarId!==void 0&&s.uint32(10).string(n.avatarId),n.anchorPointId!==0&&s.uint32(16).int32(n.anchorPointId),s}e.encode=t;function r(n,s){let a=n instanceof Wu.default.Reader?n:Wu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=CS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.avatarId=a.string();continue;case 2:if(l!==16)break;c.anchorPointId=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ls||(ls={}));var bg={COMPONENT_ID:1073,serialize(e,t){let r=ls.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ls.decode(e.buffer(),e.remainingBytes())},create(){return ls.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarAttach"}};var Gu=_e(Le());var pa=_e(Le());function IS(){return{r:0,g:0,b:0}}var At;(function(e){function t(n,s=pa.default.Writer.create()){return n.r!==0&&s.uint32(13).float(n.r),n.g!==0&&s.uint32(21).float(n.g),n.b!==0&&s.uint32(29).float(n.b),s}e.encode=t;function r(n,s){let a=n instanceof pa.default.Reader?n:pa.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=IS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.r=a.float();continue;case 2:if(l!==21)break;c.g=a.float();continue;case 3:if(l!==29)break;c.b=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(At||(At={}));function AS(){return{r:0,g:0,b:0,a:0}}var Yt;(function(e){function t(n,s=pa.default.Writer.create()){return n.r!==0&&s.uint32(13).float(n.r),n.g!==0&&s.uint32(21).float(n.g),n.b!==0&&s.uint32(29).float(n.b),n.a!==0&&s.uint32(37).float(n.a),s}e.encode=t;function r(n,s){let a=n instanceof pa.default.Reader?n:pa.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=AS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.r=a.float();continue;case 2:if(l!==21)break;c.g=a.float();continue;case 3:if(l!==29)break;c.b=a.float();continue;case 4:if(l!==37)break;c.a=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Yt||(Yt={}));function RS(){return{skinColor:void 0,eyesColor:void 0,hairColor:void 0,bodyShapeUrn:"",name:""}}var cs;(function(e){function t(n,s=Gu.default.Writer.create()){return n.skinColor!==void 0&&At.encode(n.skinColor,s.uint32(10).fork()).ldelim(),n.eyesColor!==void 0&&At.encode(n.eyesColor,s.uint32(18).fork()).ldelim(),n.hairColor!==void 0&&At.encode(n.hairColor,s.uint32(26).fork()).ldelim(),n.bodyShapeUrn!==""&&s.uint32(34).string(n.bodyShapeUrn),n.name!==""&&s.uint32(42).string(n.name),s}e.encode=t;function r(n,s){let a=n instanceof Gu.default.Reader?n:Gu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=RS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.skinColor=At.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.eyesColor=At.decode(a,a.uint32());continue;case 3:if(l!==26)break;c.hairColor=At.decode(a,a.uint32());continue;case 4:if(l!==34)break;c.bodyShapeUrn=a.string();continue;case 5:if(l!==42)break;c.name=a.string();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(cs||(cs={}));var vg={COMPONENT_ID:1087,serialize(e,t){let r=cs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return cs.decode(e.buffer(),e.remainingBytes())},create(){return cs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarBase"}};var Hu=_e(Le());function PS(){return{emoteUrn:"",loop:!1,timestamp:0}}var us;(function(e){function t(n,s=Hu.default.Writer.create()){return n.emoteUrn!==""&&s.uint32(10).string(n.emoteUrn),n.loop===!0&&s.uint32(16).bool(n.loop),n.timestamp!==0&&s.uint32(24).uint32(n.timestamp),s}e.encode=t;function r(n,s){let a=n instanceof Hu.default.Reader?n:Hu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=PS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.emoteUrn=a.string();continue;case 2:if(l!==16)break;c.loop=a.bool();continue;case 3:if(l!==24)break;c.timestamp=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(us||(us={}));var wg={COMPONENT_ID:1088,serialize(e,t){let r=us.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return us.decode(e.buffer(),e.remainingBytes())},create(){return us.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEmoteCommand"}};var ju=_e(Le());function NS(){return{wearableUrns:[],emoteUrns:[]}}var fs;(function(e){function t(n,s=ju.default.Writer.create()){for(let a of n.wearableUrns)s.uint32(10).string(a);for(let a of n.emoteUrns)s.uint32(18).string(a);return s}e.encode=t;function r(n,s){let a=n instanceof ju.default.Reader?n:ju.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=NS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.wearableUrns.push(a.string());continue;case 2:if(l!==18)break;c.emoteUrns.push(a.string());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(fs||(fs={}));var kg={COMPONENT_ID:1091,serialize(e,t){let r=fs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return fs.decode(e.buffer(),e.remainingBytes())},create(){return fs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEquippedData"}};var qu=_e(Le());var Tr=_e(Le());function MS(){return{x:0,y:0,z:0}}var Cg;(function(e){function t(n,s=Tr.default.Writer.create()){return n.x!==0&&s.uint32(13).float(n.x),n.y!==0&&s.uint32(21).float(n.y),n.z!==0&&s.uint32(29).float(n.z),s}e.encode=t;function r(n,s){let a=n instanceof Tr.default.Reader?n:Tr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=MS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.x=a.float();continue;case 2:if(l!==21)break;c.y=a.float();continue;case 3:if(l!==29)break;c.z=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Cg||(Cg={}));function _S(){return{x:0,y:0,z:0}}var et;(function(e){function t(n,s=Tr.default.Writer.create()){return n.x!==0&&s.uint32(13).float(n.x),n.y!==0&&s.uint32(21).float(n.y),n.z!==0&&s.uint32(29).float(n.z),s}e.encode=t;function r(n,s){let a=n instanceof Tr.default.Reader?n:Tr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=_S();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.x=a.float();continue;case 2:if(l!==21)break;c.y=a.float();continue;case 3:if(l!==29)break;c.z=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(et||(et={}));function OS(){return{x:0,y:0}}var Ig;(function(e){function t(n,s=Tr.default.Writer.create()){return n.x!==0&&s.uint32(13).float(n.x),n.y!==0&&s.uint32(21).float(n.y),s}e.encode=t;function r(n,s){let a=n instanceof Tr.default.Reader?n:Tr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=OS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.x=a.float();continue;case 2:if(l!==21)break;c.y=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ig||(Ig={}));function BS(){return{x:0,y:0,z:0,w:0}}var ha;(function(e){function t(n,s=Tr.default.Writer.create()){return n.x!==0&&s.uint32(13).float(n.x),n.y!==0&&s.uint32(21).float(n.y),n.z!==0&&s.uint32(29).float(n.z),n.w!==0&&s.uint32(37).float(n.w),s}e.encode=t;function r(n,s){let a=n instanceof Tr.default.Reader?n:Tr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=BS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.x=a.float();continue;case 2:if(l!==21)break;c.y=a.float();continue;case 3:if(l!==29)break;c.z=a.float();continue;case 4:if(l!==37)break;c.w=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ha||(ha={}));var Ag;(function(e){e[e.AMT_HIDE_AVATARS=0]="AMT_HIDE_AVATARS",e[e.AMT_DISABLE_PASSPORTS=1]="AMT_DISABLE_PASSPORTS"})(Ag||(Ag={}));function zS(){return{area:void 0,excludeIds:[],modifiers:[]}}var ds;(function(e){function t(n,s=qu.default.Writer.create()){n.area!==void 0&&et.encode(n.area,s.uint32(10).fork()).ldelim();for(let a of n.excludeIds)s.uint32(18).string(a);s.uint32(26).fork();for(let a of n.modifiers)s.int32(a);return s.ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof qu.default.Reader?n:qu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=zS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.area=et.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.excludeIds.push(a.string());continue;case 3:if(l===24){c.modifiers.push(a.int32());continue}if(l===26){let y=a.uint32()+a.pos;for(;a.pos<y;)c.modifiers.push(a.int32());continue}break}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ds||(ds={}));var Rg={COMPONENT_ID:1070,serialize(e,t){let r=ds.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ds.decode(e.buffer(),e.remainingBytes())},create(){return ds.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarModifierArea"}};var Gr=null;try{Gr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function _t(e,t,r){this.low=e|0,this.high=t|0,this.unsigned=!!r}_t.prototype.__isLong__;Object.defineProperty(_t.prototype,"__isLong__",{value:!0});function Gn(e){return(e&&e.__isLong__)===!0}function Pg(e){var t=Math.clz32(e&-e);return e?31-t:t}_t.isLong=Gn;var Ng={},Mg={};function ya(e,t){var r,n,s;return t?(e>>>=0,(s=0<=e&&e<256)&&(n=Mg[e],n)?n:(r=bt(e,0,!0),s&&(Mg[e]=r),r)):(e|=0,(s=-128<=e&&e<128)&&(n=Ng[e],n)?n:(r=bt(e,e<0?-1:0,!1),s&&(Ng[e]=r),r))}_t.fromInt=ya;function Hr(e,t){if(isNaN(e))return t?ai:io;if(t){if(e<0)return ai;if(e>=zg)return Lg}else{if(e<=-Og)return ur;if(e+1>=Og)return Ug}return e<0?Hr(-e,t).neg():bt(e%ps|0,e/ps|0,t)}_t.fromNumber=Hr;function bt(e,t,r){return new _t(e,t,r)}_t.fromBits=bt;var Qu=Math.pow;function Cp(e,t,r){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(r=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?ai:io;if(r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return Cp(e.substring(1),t,r).neg();for(var s=Hr(Qu(r,8)),a=io,f=0;f<e.length;f+=8){var c=Math.min(8,e.length-f),l=parseInt(e.substring(f,f+c),r);if(c<8){var y=Hr(Qu(r,c));a=a.mul(y).add(Hr(l))}else a=a.mul(s),a=a.add(Hr(l))}return a.unsigned=t,a}_t.fromString=Cp;function ao(e,t){return typeof e=="number"?Hr(e,t):typeof e=="string"?Cp(e,t):bt(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}_t.fromValue=ao;var _g=65536,DS=1<<24,ps=_g*_g,zg=ps*ps,Og=zg/2,Bg=ya(DS),io=ya(0);_t.ZERO=io;var ai=ya(0,!0);_t.UZERO=ai;var ms=ya(1);_t.ONE=ms;var Dg=ya(1,!0);_t.UONE=Dg;var kp=ya(-1);_t.NEG_ONE=kp;var Ug=bt(-1,2147483647,!1);_t.MAX_VALUE=Ug;var Lg=bt(-1,-1,!0);_t.MAX_UNSIGNED_VALUE=Lg;var ur=bt(0,-2147483648,!1);_t.MIN_VALUE=ur;var ue=_t.prototype;ue.toInt=function(){return this.unsigned?this.low>>>0:this.low};ue.toNumber=function(){return this.unsigned?(this.high>>>0)*ps+(this.low>>>0):this.high*ps+(this.low>>>0)};ue.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ur)){var r=Hr(t),n=this.div(r),s=n.mul(r).sub(this);return n.toString(t)+s.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=Hr(Qu(t,6),this.unsigned),f=this,c="";;){var l=f.div(a),y=f.sub(l.mul(a)).toInt()>>>0,g=y.toString(t);if(f=l,f.isZero())return g+c;for(;g.length<6;)g="0"+g;c=""+g+c}};ue.getHighBits=function(){return this.high};ue.getHighBitsUnsigned=function(){return this.high>>>0};ue.getLowBits=function(){return this.low};ue.getLowBitsUnsigned=function(){return this.low>>>0};ue.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ur)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,r=31;r>0&&!(t&1<<r);r--);return this.high!=0?r+33:r+1};ue.isZero=function(){return this.high===0&&this.low===0};ue.eqz=ue.isZero;ue.isNegative=function(){return!this.unsigned&&this.high<0};ue.isPositive=function(){return this.unsigned||this.high>=0};ue.isOdd=function(){return(this.low&1)===1};ue.isEven=function(){return(this.low&1)===0};ue.equals=function(t){return Gn(t)||(t=ao(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};ue.eq=ue.equals;ue.notEquals=function(t){return!this.eq(t)};ue.neq=ue.notEquals;ue.ne=ue.notEquals;ue.lessThan=function(t){return this.comp(t)<0};ue.lt=ue.lessThan;ue.lessThanOrEqual=function(t){return this.comp(t)<=0};ue.lte=ue.lessThanOrEqual;ue.le=ue.lessThanOrEqual;ue.greaterThan=function(t){return this.comp(t)>0};ue.gt=ue.greaterThan;ue.greaterThanOrEqual=function(t){return this.comp(t)>=0};ue.gte=ue.greaterThanOrEqual;ue.ge=ue.greaterThanOrEqual;ue.compare=function(t){if(Gn(t)||(t=ao(t)),this.eq(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};ue.comp=ue.compare;ue.negate=function(){return!this.unsigned&&this.eq(ur)?ur:this.not().add(ms)};ue.neg=ue.negate;ue.add=function(t){Gn(t)||(t=ao(t));var r=this.high>>>16,n=this.high&65535,s=this.low>>>16,a=this.low&65535,f=t.high>>>16,c=t.high&65535,l=t.low>>>16,y=t.low&65535,g=0,M=0,w=0,I=0;return I+=a+y,w+=I>>>16,I&=65535,w+=s+l,M+=w>>>16,w&=65535,M+=n+c,g+=M>>>16,M&=65535,g+=r+f,g&=65535,bt(w<<16|I,g<<16|M,this.unsigned)};ue.subtract=function(t){return Gn(t)||(t=ao(t)),this.add(t.neg())};ue.sub=ue.subtract;ue.multiply=function(t){if(this.isZero())return this;if(Gn(t)||(t=ao(t)),Gr){var r=Gr.mul(this.low,this.high,t.low,t.high);return bt(r,Gr.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?ai:io;if(this.eq(ur))return t.isOdd()?ur:io;if(t.eq(ur))return this.isOdd()?ur:io;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Bg)&&t.lt(Bg))return Hr(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,s=this.high&65535,a=this.low>>>16,f=this.low&65535,c=t.high>>>16,l=t.high&65535,y=t.low>>>16,g=t.low&65535,M=0,w=0,I=0,P=0;return P+=f*g,I+=P>>>16,P&=65535,I+=a*g,w+=I>>>16,I&=65535,I+=f*y,w+=I>>>16,I&=65535,w+=s*g,M+=w>>>16,w&=65535,w+=a*y,M+=w>>>16,w&=65535,w+=f*l,M+=w>>>16,w&=65535,M+=n*g+s*y+a*l+f*c,M&=65535,bt(I<<16|P,M<<16|w,this.unsigned)};ue.mul=ue.multiply;ue.divide=function(t){if(Gn(t)||(t=ao(t)),t.isZero())throw Error("division by zero");if(Gr){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var r=(this.unsigned?Gr.div_u:Gr.div_s)(this.low,this.high,t.low,t.high);return bt(r,Gr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ai:io;var n,s,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ai;if(t.gt(this.shru(1)))return Dg;a=ai}else{if(this.eq(ur)){if(t.eq(ms)||t.eq(kp))return ur;if(t.eq(ur))return ms;var f=this.shr(1);return n=f.div(t).shl(1),n.eq(io)?t.isNegative()?ms:kp:(s=this.sub(t.mul(n)),a=n.add(s.div(t)),a)}else if(t.eq(ur))return this.unsigned?ai:io;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=io}for(s=this;s.gte(t);){n=Math.max(1,Math.floor(s.toNumber()/t.toNumber()));for(var c=Math.ceil(Math.log(n)/Math.LN2),l=c<=48?1:Qu(2,c-48),y=Hr(n),g=y.mul(t);g.isNegative()||g.gt(s);)n-=l,y=Hr(n,this.unsigned),g=y.mul(t);y.isZero()&&(y=ms),a=a.add(y),s=s.sub(g)}return a};ue.div=ue.divide;ue.modulo=function(t){if(Gn(t)||(t=ao(t)),Gr){var r=(this.unsigned?Gr.rem_u:Gr.rem_s)(this.low,this.high,t.low,t.high);return bt(r,Gr.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};ue.mod=ue.modulo;ue.rem=ue.modulo;ue.not=function(){return bt(~this.low,~this.high,this.unsigned)};ue.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};ue.clz=ue.countLeadingZeros;ue.countTrailingZeros=function(){return this.low?Pg(this.low):Pg(this.high)+32};ue.ctz=ue.countTrailingZeros;ue.and=function(t){return Gn(t)||(t=ao(t)),bt(this.low&t.low,this.high&t.high,this.unsigned)};ue.or=function(t){return Gn(t)||(t=ao(t)),bt(this.low|t.low,this.high|t.high,this.unsigned)};ue.xor=function(t){return Gn(t)||(t=ao(t)),bt(this.low^t.low,this.high^t.high,this.unsigned)};ue.shiftLeft=function(t){return Gn(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?bt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):bt(0,this.low<<t-32,this.unsigned)};ue.shl=ue.shiftLeft;ue.shiftRight=function(t){return Gn(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?bt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):bt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};ue.shr=ue.shiftRight;ue.shiftRightUnsigned=function(t){return Gn(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?bt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?bt(this.high,0,this.unsigned):bt(this.high>>>t-32,0,this.unsigned)};ue.shru=ue.shiftRightUnsigned;ue.shr_u=ue.shiftRightUnsigned;ue.rotateLeft=function(t){var r;return Gn(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?bt(this.high,this.low,this.unsigned):t<32?(r=32-t,bt(this.low<<t|this.high>>>r,this.high<<t|this.low>>>r,this.unsigned)):(t-=32,r=32-t,bt(this.high<<t|this.low>>>r,this.low<<t|this.high>>>r,this.unsigned))};ue.rotl=ue.rotateLeft;ue.rotateRight=function(t){var r;return Gn(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?bt(this.high,this.low,this.unsigned):t<32?(r=32-t,bt(this.high<<r|this.low>>>t,this.low<<r|this.high>>>t,this.unsigned)):(t-=32,r=32-t,bt(this.low<<r|this.high>>>t,this.high<<r|this.low>>>t,this.unsigned))};ue.rotr=ue.rotateRight;ue.toSigned=function(){return this.unsigned?bt(this.low,this.high,!1):this};ue.toUnsigned=function(){return this.unsigned?this:bt(this.low,this.high,!0)};ue.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};ue.toBytesLE=function(){var t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};ue.toBytesBE=function(){var t=this.high,r=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};_t.fromBytes=function(t,r,n){return n?_t.fromBytesLE(t,r):_t.fromBytesBE(t,r)};_t.fromBytesLE=function(t,r){return new _t(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)};_t.fromBytesBE=function(t,r){return new _t(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)};var Ip=_t;var ga=_e(Le());function US(){return{id:"",name:void 0,bodyShape:void 0,skinColor:void 0,hairColor:void 0,eyeColor:void 0,expressionTriggerId:void 0,expressionTriggerTimestamp:void 0,talking:void 0,wearables:[],emotes:[]}}var hs;(function(e){function t(n,s=ga.default.Writer.create()){n.id!==""&&s.uint32(10).string(n.id),n.name!==void 0&&s.uint32(18).string(n.name),n.bodyShape!==void 0&&s.uint32(26).string(n.bodyShape),n.skinColor!==void 0&&At.encode(n.skinColor,s.uint32(34).fork()).ldelim(),n.hairColor!==void 0&&At.encode(n.hairColor,s.uint32(42).fork()).ldelim(),n.eyeColor!==void 0&&At.encode(n.eyeColor,s.uint32(50).fork()).ldelim(),n.expressionTriggerId!==void 0&&s.uint32(58).string(n.expressionTriggerId),n.expressionTriggerTimestamp!==void 0&&s.uint32(64).int64(n.expressionTriggerTimestamp),n.talking!==void 0&&s.uint32(72).bool(n.talking);for(let a of n.wearables)s.uint32(82).string(a);for(let a of n.emotes)s.uint32(90).string(a);return s}e.encode=t;function r(n,s){let a=n instanceof ga.default.Reader?n:ga.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=US();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.id=a.string();continue;case 2:if(l!==18)break;c.name=a.string();continue;case 3:if(l!==26)break;c.bodyShape=a.string();continue;case 4:if(l!==34)break;c.skinColor=At.decode(a,a.uint32());continue;case 5:if(l!==42)break;c.hairColor=At.decode(a,a.uint32());continue;case 6:if(l!==50)break;c.eyeColor=At.decode(a,a.uint32());continue;case 7:if(l!==58)break;c.expressionTriggerId=a.string();continue;case 8:if(l!==64)break;c.expressionTriggerTimestamp=FS(a.int64());continue;case 9:if(l!==72)break;c.talking=a.bool();continue;case 10:if(l!==82)break;c.wearables.push(a.string());continue;case 11:if(l!==90)break;c.emotes.push(a.string());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(hs||(hs={}));var LS=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function FS(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new LS.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}ga.default.util.Long!==Ip&&(ga.default.util.Long=Ip,ga.default.configure());var Fg={COMPONENT_ID:1080,serialize(e,t){let r=hs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return hs.decode(e.buffer(),e.remainingBytes())},create(){return hs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarShape"}};var Yu=_e(Le());var Vg;(function(e){e[e.BM_NONE=0]="BM_NONE",e[e.BM_X=1]="BM_X",e[e.BM_Y=2]="BM_Y",e[e.BM_Z=4]="BM_Z",e[e.BM_ALL=7]="BM_ALL"})(Vg||(Vg={}));function VS(){return{billboardMode:void 0}}var ys;(function(e){function t(n,s=Yu.default.Writer.create()){return n.billboardMode!==void 0&&s.uint32(8).int32(n.billboardMode),s}e.encode=t;function r(n,s){let a=n instanceof Yu.default.Reader?n:Yu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=VS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.billboardMode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ys||(ys={}));var Wg={COMPONENT_ID:1090,serialize(e,t){let r=ys.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ys.decode(e.buffer(),e.remainingBytes())},create(){return ys.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBBillboard"}};var Ju=_e(Le());function WS(){return{mode:0}}var gs;(function(e){function t(n,s=Ju.default.Writer.create()){return n.mode!==0&&s.uint32(8).int32(n.mode),s}e.encode=t;function r(n,s){let a=n instanceof Ju.default.Reader?n:Ju.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=WS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.mode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(gs||(gs={}));var Gg={COMPONENT_ID:1072,serialize(e,t){let r=gs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return gs.decode(e.buffer(),e.remainingBytes())},create(){return gs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraMode"}};var $u=_e(Le());function GS(){return{area:void 0,mode:0}}var Es;(function(e){function t(n,s=$u.default.Writer.create()){return n.area!==void 0&&et.encode(n.area,s.uint32(10).fork()).ldelim(),n.mode!==0&&s.uint32(16).int32(n.mode),s}e.encode=t;function r(n,s){let a=n instanceof $u.default.Reader?n:$u.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=GS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.area=et.decode(a,a.uint32());continue;case 2:if(l!==16)break;c.mode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Es||(Es={}));var Hg={COMPONENT_ID:1071,serialize(e,t){let r=Es.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Es.decode(e.buffer(),e.remainingBytes())},create(){return Es.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraModeArea"}};var Ku=_e(Le());function HS(){return{frameNumber:0,totalRuntime:0,tickNumber:0}}var Ts;(function(e){function t(n,s=Ku.default.Writer.create()){return n.frameNumber!==0&&s.uint32(8).uint32(n.frameNumber),n.totalRuntime!==0&&s.uint32(21).float(n.totalRuntime),n.tickNumber!==0&&s.uint32(24).uint32(n.tickNumber),s}e.encode=t;function r(n,s){let a=n instanceof Ku.default.Reader?n:Ku.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=HS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.frameNumber=a.uint32();continue;case 2:if(l!==21)break;c.totalRuntime=a.float();continue;case 3:if(l!==24)break;c.tickNumber=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ts||(Ts={}));var jg={COMPONENT_ID:1048,serialize(e,t){let r=Ts.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ts.decode(e.buffer(),e.remainingBytes())},create(){return Ts.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBEngineInfo"}};var Zu=_e(Le());function jS(){return{src:"",visibleMeshesCollisionMask:void 0,invisibleMeshesCollisionMask:void 0}}var Ss;(function(e){function t(n,s=Zu.default.Writer.create()){return n.src!==""&&s.uint32(10).string(n.src),n.visibleMeshesCollisionMask!==void 0&&s.uint32(32).uint32(n.visibleMeshesCollisionMask),n.invisibleMeshesCollisionMask!==void 0&&s.uint32(40).uint32(n.invisibleMeshesCollisionMask),s}e.encode=t;function r(n,s){let a=n instanceof Zu.default.Reader?n:Zu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=jS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.src=a.string();continue;case 4:if(l!==32)break;c.visibleMeshesCollisionMask=a.uint32();continue;case 5:if(l!==40)break;c.invisibleMeshesCollisionMask=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ss||(Ss={}));var qg={COMPONENT_ID:1041,serialize(e,t){let r=Ss.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ss.decode(e.buffer(),e.remainingBytes())},create(){return Ss.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"}};var Xu=_e(Le());function qS(){return{currentState:0}}var xs;(function(e){function t(n,s=Xu.default.Writer.create()){return n.currentState!==0&&s.uint32(8).int32(n.currentState),s}e.encode=t;function r(n,s){let a=n instanceof Xu.default.Reader?n:Xu.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=qS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.currentState=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(xs||(xs={}));var Qg={COMPONENT_ID:1049,serialize(e,t){let r=xs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return xs.decode(e.buffer(),e.remainingBytes())},create(){return xs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainerLoadingState"}};var Ea=_e(Le());function QS(){return{mode:void 0}}var bs;(function(e){function t(n,s=Ea.default.Writer.create()){switch(n.mode?.$case){case"standard":ef.encode(n.mode.standard,s.uint32(10).fork()).ldelim();break}return s}e.encode=t;function r(n,s){let a=n instanceof Ea.default.Reader?n:Ea.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=QS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.mode={$case:"standard",standard:ef.decode(a,a.uint32())};continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(bs||(bs={}));function YS(){return{disableAll:void 0,disableWalk:void 0,disableJog:void 0,disableRun:void 0,disableJump:void 0,disableEmote:void 0}}var ef;(function(e){function t(n,s=Ea.default.Writer.create()){return n.disableAll!==void 0&&s.uint32(8).bool(n.disableAll),n.disableWalk!==void 0&&s.uint32(16).bool(n.disableWalk),n.disableJog!==void 0&&s.uint32(24).bool(n.disableJog),n.disableRun!==void 0&&s.uint32(32).bool(n.disableRun),n.disableJump!==void 0&&s.uint32(40).bool(n.disableJump),n.disableEmote!==void 0&&s.uint32(48).bool(n.disableEmote),s}e.encode=t;function r(n,s){let a=n instanceof Ea.default.Reader?n:Ea.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=YS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.disableAll=a.bool();continue;case 2:if(l!==16)break;c.disableWalk=a.bool();continue;case 3:if(l!==24)break;c.disableJog=a.bool();continue;case 4:if(l!==32)break;c.disableRun=a.bool();continue;case 5:if(l!==40)break;c.disableJump=a.bool();continue;case 6:if(l!==48)break;c.disableEmote=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ef||(ef={}));var Yg={COMPONENT_ID:1078,serialize(e,t){let r=bs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return bs.decode(e.buffer(),e.remainingBytes())},create(){return bs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBInputModifier"}};var Bo=_e(Le());var Sr=_e(Le());var tc;(function(e){e[e.TWM_REPEAT=0]="TWM_REPEAT",e[e.TWM_CLAMP=1]="TWM_CLAMP",e[e.TWM_MIRROR=2]="TWM_MIRROR"})(tc||(tc={}));var nc;(function(e){e[e.TFM_POINT=0]="TFM_POINT",e[e.TFM_BILINEAR=1]="TFM_BILINEAR",e[e.TFM_TRILINEAR=2]="TFM_TRILINEAR"})(nc||(nc={}));function JS(){return{src:"",wrapMode:void 0,filterMode:void 0}}var tf;(function(e){function t(n,s=Sr.default.Writer.create()){return n.src!==""&&s.uint32(10).string(n.src),n.wrapMode!==void 0&&s.uint32(16).int32(n.wrapMode),n.filterMode!==void 0&&s.uint32(24).int32(n.filterMode),s}e.encode=t;function r(n,s){let a=n instanceof Sr.default.Reader?n:Sr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=JS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.src=a.string();continue;case 2:if(l!==16)break;c.wrapMode=a.int32();continue;case 3:if(l!==24)break;c.filterMode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(tf||(tf={}));function $S(){return{userId:"",wrapMode:void 0,filterMode:void 0}}var nf;(function(e){function t(n,s=Sr.default.Writer.create()){return n.userId!==""&&s.uint32(10).string(n.userId),n.wrapMode!==void 0&&s.uint32(16).int32(n.wrapMode),n.filterMode!==void 0&&s.uint32(24).int32(n.filterMode),s}e.encode=t;function r(n,s){let a=n instanceof Sr.default.Reader?n:Sr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=$S();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.userId=a.string();continue;case 2:if(l!==16)break;c.wrapMode=a.int32();continue;case 3:if(l!==24)break;c.filterMode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(nf||(nf={}));function KS(){return{videoPlayerEntity:0,wrapMode:void 0,filterMode:void 0}}var rf;(function(e){function t(n,s=Sr.default.Writer.create()){return n.videoPlayerEntity!==0&&s.uint32(8).uint32(n.videoPlayerEntity),n.wrapMode!==void 0&&s.uint32(16).int32(n.wrapMode),n.filterMode!==void 0&&s.uint32(24).int32(n.filterMode),s}e.encode=t;function r(n,s){let a=n instanceof Sr.default.Reader?n:Sr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=KS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.videoPlayerEntity=a.uint32();continue;case 2:if(l!==16)break;c.wrapMode=a.int32();continue;case 3:if(l!==24)break;c.filterMode=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(rf||(rf={}));function ZS(){return{tex:void 0}}var Hn;(function(e){function t(n,s=Sr.default.Writer.create()){switch(n.tex?.$case){case"texture":tf.encode(n.tex.texture,s.uint32(10).fork()).ldelim();break;case"avatarTexture":nf.encode(n.tex.avatarTexture,s.uint32(18).fork()).ldelim();break;case"videoTexture":rf.encode(n.tex.videoTexture,s.uint32(26).fork()).ldelim();break}return s}e.encode=t;function r(n,s){let a=n instanceof Sr.default.Reader?n:Sr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ZS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.tex={$case:"texture",texture:tf.decode(a,a.uint32())};continue;case 2:if(l!==18)break;c.tex={$case:"avatarTexture",avatarTexture:nf.decode(a,a.uint32())};continue;case 3:if(l!==26)break;c.tex={$case:"videoTexture",videoTexture:rf.decode(a,a.uint32())};continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Hn||(Hn={}));var Jg;(function(e){e[e.MTM_OPAQUE=0]="MTM_OPAQUE",e[e.MTM_ALPHA_TEST=1]="MTM_ALPHA_TEST",e[e.MTM_ALPHA_BLEND=2]="MTM_ALPHA_BLEND",e[e.MTM_ALPHA_TEST_AND_ALPHA_BLEND=3]="MTM_ALPHA_TEST_AND_ALPHA_BLEND",e[e.MTM_AUTO=4]="MTM_AUTO"})(Jg||(Jg={}));function XS(){return{material:void 0}}var vs;(function(e){function t(n,s=Bo.default.Writer.create()){switch(n.material?.$case){case"unlit":of.encode(n.material.unlit,s.uint32(10).fork()).ldelim();break;case"pbr":af.encode(n.material.pbr,s.uint32(18).fork()).ldelim();break}return s}e.encode=t;function r(n,s){let a=n instanceof Bo.default.Reader?n:Bo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=XS();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.material={$case:"unlit",unlit:of.decode(a,a.uint32())};continue;case 2:if(l!==18)break;c.material={$case:"pbr",pbr:af.decode(a,a.uint32())};continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(vs||(vs={}));function ex(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,diffuseColor:void 0}}var of;(function(e){function t(n,s=Bo.default.Writer.create()){return n.texture!==void 0&&Hn.encode(n.texture,s.uint32(10).fork()).ldelim(),n.alphaTest!==void 0&&s.uint32(21).float(n.alphaTest),n.castShadows!==void 0&&s.uint32(24).bool(n.castShadows),n.diffuseColor!==void 0&&Yt.encode(n.diffuseColor,s.uint32(34).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof Bo.default.Reader?n:Bo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ex();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.texture=Hn.decode(a,a.uint32());continue;case 2:if(l!==21)break;c.alphaTest=a.float();continue;case 3:if(l!==24)break;c.castShadows=a.bool();continue;case 4:if(l!==34)break;c.diffuseColor=Yt.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(of||(of={}));function tx(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,alphaTexture:void 0,emissiveTexture:void 0,bumpTexture:void 0,albedoColor:void 0,emissiveColor:void 0,reflectivityColor:void 0,transparencyMode:void 0,metallic:void 0,roughness:void 0,specularIntensity:void 0,emissiveIntensity:void 0,directIntensity:void 0}}var af;(function(e){function t(n,s=Bo.default.Writer.create()){return n.texture!==void 0&&Hn.encode(n.texture,s.uint32(10).fork()).ldelim(),n.alphaTest!==void 0&&s.uint32(21).float(n.alphaTest),n.castShadows!==void 0&&s.uint32(24).bool(n.castShadows),n.alphaTexture!==void 0&&Hn.encode(n.alphaTexture,s.uint32(34).fork()).ldelim(),n.emissiveTexture!==void 0&&Hn.encode(n.emissiveTexture,s.uint32(42).fork()).ldelim(),n.bumpTexture!==void 0&&Hn.encode(n.bumpTexture,s.uint32(50).fork()).ldelim(),n.albedoColor!==void 0&&Yt.encode(n.albedoColor,s.uint32(58).fork()).ldelim(),n.emissiveColor!==void 0&&At.encode(n.emissiveColor,s.uint32(66).fork()).ldelim(),n.reflectivityColor!==void 0&&At.encode(n.reflectivityColor,s.uint32(74).fork()).ldelim(),n.transparencyMode!==void 0&&s.uint32(80).int32(n.transparencyMode),n.metallic!==void 0&&s.uint32(93).float(n.metallic),n.roughness!==void 0&&s.uint32(101).float(n.roughness),n.specularIntensity!==void 0&&s.uint32(117).float(n.specularIntensity),n.emissiveIntensity!==void 0&&s.uint32(125).float(n.emissiveIntensity),n.directIntensity!==void 0&&s.uint32(133).float(n.directIntensity),s}e.encode=t;function r(n,s){let a=n instanceof Bo.default.Reader?n:Bo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=tx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.texture=Hn.decode(a,a.uint32());continue;case 2:if(l!==21)break;c.alphaTest=a.float();continue;case 3:if(l!==24)break;c.castShadows=a.bool();continue;case 4:if(l!==34)break;c.alphaTexture=Hn.decode(a,a.uint32());continue;case 5:if(l!==42)break;c.emissiveTexture=Hn.decode(a,a.uint32());continue;case 6:if(l!==50)break;c.bumpTexture=Hn.decode(a,a.uint32());continue;case 7:if(l!==58)break;c.albedoColor=Yt.decode(a,a.uint32());continue;case 8:if(l!==66)break;c.emissiveColor=At.decode(a,a.uint32());continue;case 9:if(l!==74)break;c.reflectivityColor=At.decode(a,a.uint32());continue;case 10:if(l!==80)break;c.transparencyMode=a.int32();continue;case 11:if(l!==93)break;c.metallic=a.float();continue;case 12:if(l!==101)break;c.roughness=a.float();continue;case 14:if(l!==117)break;c.specularIntensity=a.float();continue;case 15:if(l!==125)break;c.emissiveIntensity=a.float();continue;case 16:if(l!==133)break;c.directIntensity=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(af||(af={}));var $g={COMPONENT_ID:1017,serialize(e,t){let r=vs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return vs.decode(e.buffer(),e.remainingBytes())},create(){return vs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"}};var jn=_e(Le());var qn;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(qn||(qn={}));function nx(){return{collisionMask:void 0,mesh:void 0}}var ws;(function(e){function t(n,s=jn.default.Writer.create()){switch(n.collisionMask!==void 0&&s.uint32(8).uint32(n.collisionMask),n.mesh?.$case){case"box":sf.encode(n.mesh.box,s.uint32(18).fork()).ldelim();break;case"sphere":uf.encode(n.mesh.sphere,s.uint32(26).fork()).ldelim();break;case"cylinder":lf.encode(n.mesh.cylinder,s.uint32(34).fork()).ldelim();break;case"plane":cf.encode(n.mesh.plane,s.uint32(42).fork()).ldelim();break}return s}e.encode=t;function r(n,s){let a=n instanceof jn.default.Reader?n:jn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=nx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.collisionMask=a.uint32();continue;case 2:if(l!==18)break;c.mesh={$case:"box",box:sf.decode(a,a.uint32())};continue;case 3:if(l!==26)break;c.mesh={$case:"sphere",sphere:uf.decode(a,a.uint32())};continue;case 4:if(l!==34)break;c.mesh={$case:"cylinder",cylinder:lf.decode(a,a.uint32())};continue;case 5:if(l!==42)break;c.mesh={$case:"plane",plane:cf.decode(a,a.uint32())};continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ws||(ws={}));function rx(){return{}}var sf;(function(e){function t(n,s=jn.default.Writer.create()){return s}e.encode=t;function r(n,s){let a=n instanceof jn.default.Reader?n:jn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=rx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(sf||(sf={}));function ox(){return{radiusTop:void 0,radiusBottom:void 0}}var lf;(function(e){function t(n,s=jn.default.Writer.create()){return n.radiusTop!==void 0&&s.uint32(13).float(n.radiusTop),n.radiusBottom!==void 0&&s.uint32(21).float(n.radiusBottom),s}e.encode=t;function r(n,s){let a=n instanceof jn.default.Reader?n:jn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ox();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.radiusTop=a.float();continue;case 2:if(l!==21)break;c.radiusBottom=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(lf||(lf={}));function ix(){return{}}var cf;(function(e){function t(n,s=jn.default.Writer.create()){return s}e.encode=t;function r(n,s){let a=n instanceof jn.default.Reader?n:jn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ix();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(cf||(cf={}));function ax(){return{}}var uf;(function(e){function t(n,s=jn.default.Writer.create()){return s}e.encode=t;function r(n,s){let a=n instanceof jn.default.Reader?n:jn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ax();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(uf||(uf={}));var Kg={COMPONENT_ID:1019,serialize(e,t){let r=ws.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ws.decode(e.buffer(),e.remainingBytes())},create(){return ws.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"}};var Qn=_e(Le());function sx(){return{mesh:void 0}}var ks;(function(e){function t(n,s=Qn.default.Writer.create()){switch(n.mesh?.$case){case"box":ff.encode(n.mesh.box,s.uint32(10).fork()).ldelim();break;case"sphere":pf.encode(n.mesh.sphere,s.uint32(18).fork()).ldelim();break;case"cylinder":df.encode(n.mesh.cylinder,s.uint32(26).fork()).ldelim();break;case"plane":mf.encode(n.mesh.plane,s.uint32(34).fork()).ldelim();break}return s}e.encode=t;function r(n,s){let a=n instanceof Qn.default.Reader?n:Qn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=sx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.mesh={$case:"box",box:ff.decode(a,a.uint32())};continue;case 2:if(l!==18)break;c.mesh={$case:"sphere",sphere:pf.decode(a,a.uint32())};continue;case 3:if(l!==26)break;c.mesh={$case:"cylinder",cylinder:df.decode(a,a.uint32())};continue;case 4:if(l!==34)break;c.mesh={$case:"plane",plane:mf.decode(a,a.uint32())};continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ks||(ks={}));function lx(){return{uvs:[]}}var ff;(function(e){function t(n,s=Qn.default.Writer.create()){s.uint32(10).fork();for(let a of n.uvs)s.float(a);return s.ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof Qn.default.Reader?n:Qn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=lx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l===13){c.uvs.push(a.float());continue}if(l===10){let y=a.uint32()+a.pos;for(;a.pos<y;)c.uvs.push(a.float());continue}break}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(ff||(ff={}));function cx(){return{radiusTop:void 0,radiusBottom:void 0}}var df;(function(e){function t(n,s=Qn.default.Writer.create()){return n.radiusTop!==void 0&&s.uint32(13).float(n.radiusTop),n.radiusBottom!==void 0&&s.uint32(21).float(n.radiusBottom),s}e.encode=t;function r(n,s){let a=n instanceof Qn.default.Reader?n:Qn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=cx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.radiusTop=a.float();continue;case 2:if(l!==21)break;c.radiusBottom=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(df||(df={}));function ux(){return{uvs:[]}}var mf;(function(e){function t(n,s=Qn.default.Writer.create()){s.uint32(10).fork();for(let a of n.uvs)s.float(a);return s.ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof Qn.default.Reader?n:Qn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=ux();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l===13){c.uvs.push(a.float());continue}if(l===10){let y=a.uint32()+a.pos;for(;a.pos<y;)c.uvs.push(a.float());continue}break}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(mf||(mf={}));function fx(){return{}}var pf;(function(e){function t(n,s=Qn.default.Writer.create()){return s}e.encode=t;function r(n,s){let a=n instanceof Qn.default.Reader?n:Qn.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=fx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(pf||(pf={}));var Zg={COMPONENT_ID:1018,serialize(e,t){let r=ks.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return ks.decode(e.buffer(),e.remainingBytes())},create(){return ks.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"}};var hf=_e(Le());var Xg;(function(e){e[e.NFT_CLASSIC=0]="NFT_CLASSIC",e[e.NFT_BAROQUE_ORNAMENT=1]="NFT_BAROQUE_ORNAMENT",e[e.NFT_DIAMOND_ORNAMENT=2]="NFT_DIAMOND_ORNAMENT",e[e.NFT_MINIMAL_WIDE=3]="NFT_MINIMAL_WIDE",e[e.NFT_MINIMAL_GREY=4]="NFT_MINIMAL_GREY",e[e.NFT_BLOCKY=5]="NFT_BLOCKY",e[e.NFT_GOLD_EDGES=6]="NFT_GOLD_EDGES",e[e.NFT_GOLD_CARVED=7]="NFT_GOLD_CARVED",e[e.NFT_GOLD_WIDE=8]="NFT_GOLD_WIDE",e[e.NFT_GOLD_ROUNDED=9]="NFT_GOLD_ROUNDED",e[e.NFT_METAL_MEDIUM=10]="NFT_METAL_MEDIUM",e[e.NFT_METAL_WIDE=11]="NFT_METAL_WIDE",e[e.NFT_METAL_SLIM=12]="NFT_METAL_SLIM",e[e.NFT_METAL_ROUNDED=13]="NFT_METAL_ROUNDED",e[e.NFT_PINS=14]="NFT_PINS",e[e.NFT_MINIMAL_BLACK=15]="NFT_MINIMAL_BLACK",e[e.NFT_MINIMAL_WHITE=16]="NFT_MINIMAL_WHITE",e[e.NFT_TAPE=17]="NFT_TAPE",e[e.NFT_WOOD_SLIM=18]="NFT_WOOD_SLIM",e[e.NFT_WOOD_WIDE=19]="NFT_WOOD_WIDE",e[e.NFT_WOOD_TWIGS=20]="NFT_WOOD_TWIGS",e[e.NFT_CANVAS=21]="NFT_CANVAS",e[e.NFT_NONE=22]="NFT_NONE"})(Xg||(Xg={}));function dx(){return{urn:"",style:void 0,color:void 0}}var Cs;(function(e){function t(n,s=hf.default.Writer.create()){return n.urn!==""&&s.uint32(10).string(n.urn),n.style!==void 0&&s.uint32(16).int32(n.style),n.color!==void 0&&At.encode(n.color,s.uint32(26).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof hf.default.Reader?n:hf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=dx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.urn=a.string();continue;case 2:if(l!==16)break;c.style=a.int32();continue;case 3:if(l!==26)break;c.color=At.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Cs||(Cs={}));var e1={COMPONENT_ID:1040,serialize(e,t){let r=Cs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Cs.decode(e.buffer(),e.remainingBytes())},create(){return Cs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBNftShape"}};var yf=_e(Le());function mx(){return{address:"",isGuest:!1}}var Is;(function(e){function t(n,s=yf.default.Writer.create()){return n.address!==""&&s.uint32(10).string(n.address),n.isGuest===!0&&s.uint32(24).bool(n.isGuest),s}e.encode=t;function r(n,s){let a=n instanceof yf.default.Reader?n:yf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=mx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.address=a.string();continue;case 3:if(l!==24)break;c.isGuest=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Is||(Is={}));var t1={COMPONENT_ID:1089,serialize(e,t){let r=Is.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Is.decode(e.buffer(),e.remainingBytes())},create(){return Is.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPlayerIdentityData"}};var zo=_e(Le());function px(){return{pointerEvents:[]}}var As;(function(e){function t(n,s=zo.default.Writer.create()){for(let a of n.pointerEvents)Ef.encode(a,s.uint32(10).fork()).ldelim();return s}e.encode=t;function r(n,s){let a=n instanceof zo.default.Reader?n:zo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=px();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.pointerEvents.push(Ef.decode(a,a.uint32()));continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(As||(As={}));function hx(){return{button:void 0,hoverText:void 0,maxDistance:void 0,showFeedback:void 0}}var gf;(function(e){function t(n,s=zo.default.Writer.create()){return n.button!==void 0&&s.uint32(8).int32(n.button),n.hoverText!==void 0&&s.uint32(18).string(n.hoverText),n.maxDistance!==void 0&&s.uint32(29).float(n.maxDistance),n.showFeedback!==void 0&&s.uint32(32).bool(n.showFeedback),s}e.encode=t;function r(n,s){let a=n instanceof zo.default.Reader?n:zo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=hx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.button=a.int32();continue;case 2:if(l!==18)break;c.hoverText=a.string();continue;case 3:if(l!==29)break;c.maxDistance=a.float();continue;case 4:if(l!==32)break;c.showFeedback=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(gf||(gf={}));function yx(){return{eventType:0,eventInfo:void 0}}var Ef;(function(e){function t(n,s=zo.default.Writer.create()){return n.eventType!==0&&s.uint32(8).int32(n.eventType),n.eventInfo!==void 0&&gf.encode(n.eventInfo,s.uint32(18).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof zo.default.Reader?n:zo.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=yx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.eventType=a.int32();continue;case 2:if(l!==18)break;c.eventInfo=gf.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ef||(Ef={}));var n1={COMPONENT_ID:1062,serialize(e,t){let r=As.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return As.decode(e.buffer(),e.remainingBytes())},create(){return As.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEvents"}};var Sf=_e(Le());var Tf=_e(Le());function gx(){return{position:void 0,globalOrigin:void 0,direction:void 0,normalHit:void 0,length:0,meshName:void 0,entityId:void 0}}var _i;(function(e){function t(n,s=Tf.default.Writer.create()){return n.position!==void 0&&et.encode(n.position,s.uint32(10).fork()).ldelim(),n.globalOrigin!==void 0&&et.encode(n.globalOrigin,s.uint32(18).fork()).ldelim(),n.direction!==void 0&&et.encode(n.direction,s.uint32(26).fork()).ldelim(),n.normalHit!==void 0&&et.encode(n.normalHit,s.uint32(34).fork()).ldelim(),n.length!==0&&s.uint32(45).float(n.length),n.meshName!==void 0&&s.uint32(50).string(n.meshName),n.entityId!==void 0&&s.uint32(56).uint32(n.entityId),s}e.encode=t;function r(n,s){let a=n instanceof Tf.default.Reader?n:Tf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=gx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.position=et.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.globalOrigin=et.decode(a,a.uint32());continue;case 3:if(l!==26)break;c.direction=et.decode(a,a.uint32());continue;case 4:if(l!==34)break;c.normalHit=et.decode(a,a.uint32());continue;case 5:if(l!==45)break;c.length=a.float();continue;case 6:if(l!==50)break;c.meshName=a.string();continue;case 7:if(l!==56)break;c.entityId=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(_i||(_i={}));function Ex(){return{button:0,hit:void 0,state:0,timestamp:0,analog:void 0,tickNumber:0}}var Rs;(function(e){function t(n,s=Sf.default.Writer.create()){return n.button!==0&&s.uint32(8).int32(n.button),n.hit!==void 0&&_i.encode(n.hit,s.uint32(18).fork()).ldelim(),n.state!==0&&s.uint32(32).int32(n.state),n.timestamp!==0&&s.uint32(40).uint32(n.timestamp),n.analog!==void 0&&s.uint32(53).float(n.analog),n.tickNumber!==0&&s.uint32(56).uint32(n.tickNumber),s}e.encode=t;function r(n,s){let a=n instanceof Sf.default.Reader?n:Sf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Ex();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.button=a.int32();continue;case 2:if(l!==18)break;c.hit=_i.decode(a,a.uint32());continue;case 4:if(l!==32)break;c.state=a.int32();continue;case 5:if(l!==40)break;c.timestamp=a.uint32();continue;case 6:if(l!==53)break;c.analog=a.float();continue;case 7:if(l!==56)break;c.tickNumber=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Rs||(Rs={}));var r1={COMPONENT_ID:1063,serialize(e,t){let r=Rs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Rs.decode(e.buffer(),e.remainingBytes())},create(){return Rs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEventsResult"}};var xf=_e(Le());function Tx(){return{isPointerLocked:!1}}var Ps;(function(e){function t(n,s=xf.default.Writer.create()){return n.isPointerLocked===!0&&s.uint32(8).bool(n.isPointerLocked),s}e.encode=t;function r(n,s){let a=n instanceof xf.default.Reader?n:xf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Tx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.isPointerLocked=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ps||(Ps={}));var o1={COMPONENT_ID:1074,serialize(e,t){let r=Ps.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ps.decode(e.buffer(),e.remainingBytes())},create(){return Ps.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerLock"}};var bf=_e(Le());var rc;(function(e){e[e.RQT_HIT_FIRST=0]="RQT_HIT_FIRST",e[e.RQT_QUERY_ALL=1]="RQT_QUERY_ALL",e[e.RQT_NONE=2]="RQT_NONE"})(rc||(rc={}));function Sx(){return{timestamp:void 0,originOffset:void 0,direction:void 0,maxDistance:0,queryType:0,continuous:void 0,collisionMask:void 0}}var Ns;(function(e){function t(n,s=bf.default.Writer.create()){switch(n.timestamp!==void 0&&s.uint32(8).uint32(n.timestamp),n.originOffset!==void 0&&et.encode(n.originOffset,s.uint32(18).fork()).ldelim(),n.direction?.$case){case"localDirection":et.encode(n.direction.localDirection,s.uint32(50).fork()).ldelim();break;case"globalDirection":et.encode(n.direction.globalDirection,s.uint32(26).fork()).ldelim();break;case"globalTarget":et.encode(n.direction.globalTarget,s.uint32(58).fork()).ldelim();break;case"targetEntity":s.uint32(80).uint32(n.direction.targetEntity);break}return n.maxDistance!==0&&s.uint32(37).float(n.maxDistance),n.queryType!==0&&s.uint32(40).int32(n.queryType),n.continuous!==void 0&&s.uint32(64).bool(n.continuous),n.collisionMask!==void 0&&s.uint32(72).uint32(n.collisionMask),s}e.encode=t;function r(n,s){let a=n instanceof bf.default.Reader?n:bf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Sx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.timestamp=a.uint32();continue;case 2:if(l!==18)break;c.originOffset=et.decode(a,a.uint32());continue;case 6:if(l!==50)break;c.direction={$case:"localDirection",localDirection:et.decode(a,a.uint32())};continue;case 3:if(l!==26)break;c.direction={$case:"globalDirection",globalDirection:et.decode(a,a.uint32())};continue;case 7:if(l!==58)break;c.direction={$case:"globalTarget",globalTarget:et.decode(a,a.uint32())};continue;case 10:if(l!==80)break;c.direction={$case:"targetEntity",targetEntity:a.uint32()};continue;case 4:if(l!==37)break;c.maxDistance=a.float();continue;case 5:if(l!==40)break;c.queryType=a.int32();continue;case 8:if(l!==64)break;c.continuous=a.bool();continue;case 9:if(l!==72)break;c.collisionMask=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ns||(Ns={}));var i1={COMPONENT_ID:1067,serialize(e,t){let r=Ns.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ns.decode(e.buffer(),e.remainingBytes())},create(){return Ns.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycast"}};var vf=_e(Le());function xx(){return{timestamp:void 0,globalOrigin:void 0,direction:void 0,hits:[],tickNumber:0}}var Ms;(function(e){function t(n,s=vf.default.Writer.create()){n.timestamp!==void 0&&s.uint32(8).uint32(n.timestamp),n.globalOrigin!==void 0&&et.encode(n.globalOrigin,s.uint32(18).fork()).ldelim(),n.direction!==void 0&&et.encode(n.direction,s.uint32(26).fork()).ldelim();for(let a of n.hits)_i.encode(a,s.uint32(34).fork()).ldelim();return n.tickNumber!==0&&s.uint32(40).uint32(n.tickNumber),s}e.encode=t;function r(n,s){let a=n instanceof vf.default.Reader?n:vf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=xx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.timestamp=a.uint32();continue;case 2:if(l!==18)break;c.globalOrigin=et.decode(a,a.uint32());continue;case 3:if(l!==26)break;c.direction=et.decode(a,a.uint32());continue;case 4:if(l!==34)break;c.hits.push(_i.decode(a,a.uint32()));continue;case 5:if(l!==40)break;c.tickNumber=a.uint32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ms||(Ms={}));var a1={COMPONENT_ID:1068,serialize(e,t){let r=Ms.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ms.decode(e.buffer(),e.remainingBytes())},create(){return Ms.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycastResult"}};var wf=_e(Le());function bx(){return{baseUrl:"",realmName:"",networkId:0,commsAdapter:"",isPreview:!1,room:void 0}}var _s;(function(e){function t(n,s=wf.default.Writer.create()){return n.baseUrl!==""&&s.uint32(10).string(n.baseUrl),n.realmName!==""&&s.uint32(18).string(n.realmName),n.networkId!==0&&s.uint32(24).int32(n.networkId),n.commsAdapter!==""&&s.uint32(34).string(n.commsAdapter),n.isPreview===!0&&s.uint32(40).bool(n.isPreview),n.room!==void 0&&s.uint32(50).string(n.room),s}e.encode=t;function r(n,s){let a=n instanceof wf.default.Reader?n:wf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=bx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.baseUrl=a.string();continue;case 2:if(l!==18)break;c.realmName=a.string();continue;case 3:if(l!==24)break;c.networkId=a.int32();continue;case 4:if(l!==34)break;c.commsAdapter=a.string();continue;case 5:if(l!==40)break;c.isPreview=a.bool();continue;case 6:if(l!==50)break;c.room=a.string();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(_s||(_s={}));var s1={COMPONENT_ID:1106,serialize(e,t){let r=_s.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return _s.decode(e.buffer(),e.remainingBytes())},create(){return _s.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRealmInfo"}};var kf=_e(Le());function vx(){return{text:"",font:void 0,fontSize:void 0,fontAutoSize:void 0,textAlign:void 0,width:void 0,height:void 0,paddingTop:void 0,paddingRight:void 0,paddingBottom:void 0,paddingLeft:void 0,lineSpacing:void 0,lineCount:void 0,textWrapping:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,outlineWidth:void 0,shadowColor:void 0,outlineColor:void 0,textColor:void 0}}var Os;(function(e){function t(n,s=kf.default.Writer.create()){return n.text!==""&&s.uint32(10).string(n.text),n.font!==void 0&&s.uint32(16).int32(n.font),n.fontSize!==void 0&&s.uint32(29).float(n.fontSize),n.fontAutoSize!==void 0&&s.uint32(32).bool(n.fontAutoSize),n.textAlign!==void 0&&s.uint32(40).int32(n.textAlign),n.width!==void 0&&s.uint32(53).float(n.width),n.height!==void 0&&s.uint32(61).float(n.height),n.paddingTop!==void 0&&s.uint32(69).float(n.paddingTop),n.paddingRight!==void 0&&s.uint32(77).float(n.paddingRight),n.paddingBottom!==void 0&&s.uint32(85).float(n.paddingBottom),n.paddingLeft!==void 0&&s.uint32(93).float(n.paddingLeft),n.lineSpacing!==void 0&&s.uint32(101).float(n.lineSpacing),n.lineCount!==void 0&&s.uint32(104).int32(n.lineCount),n.textWrapping!==void 0&&s.uint32(112).bool(n.textWrapping),n.shadowBlur!==void 0&&s.uint32(125).float(n.shadowBlur),n.shadowOffsetX!==void 0&&s.uint32(133).float(n.shadowOffsetX),n.shadowOffsetY!==void 0&&s.uint32(141).float(n.shadowOffsetY),n.outlineWidth!==void 0&&s.uint32(149).float(n.outlineWidth),n.shadowColor!==void 0&&At.encode(n.shadowColor,s.uint32(154).fork()).ldelim(),n.outlineColor!==void 0&&At.encode(n.outlineColor,s.uint32(162).fork()).ldelim(),n.textColor!==void 0&&Yt.encode(n.textColor,s.uint32(170).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof kf.default.Reader?n:kf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=vx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.text=a.string();continue;case 2:if(l!==16)break;c.font=a.int32();continue;case 3:if(l!==29)break;c.fontSize=a.float();continue;case 4:if(l!==32)break;c.fontAutoSize=a.bool();continue;case 5:if(l!==40)break;c.textAlign=a.int32();continue;case 6:if(l!==53)break;c.width=a.float();continue;case 7:if(l!==61)break;c.height=a.float();continue;case 8:if(l!==69)break;c.paddingTop=a.float();continue;case 9:if(l!==77)break;c.paddingRight=a.float();continue;case 10:if(l!==85)break;c.paddingBottom=a.float();continue;case 11:if(l!==93)break;c.paddingLeft=a.float();continue;case 12:if(l!==101)break;c.lineSpacing=a.float();continue;case 13:if(l!==104)break;c.lineCount=a.int32();continue;case 14:if(l!==112)break;c.textWrapping=a.bool();continue;case 15:if(l!==125)break;c.shadowBlur=a.float();continue;case 16:if(l!==133)break;c.shadowOffsetX=a.float();continue;case 17:if(l!==141)break;c.shadowOffsetY=a.float();continue;case 18:if(l!==149)break;c.outlineWidth=a.float();continue;case 19:if(l!==154)break;c.shadowColor=At.decode(a,a.uint32());continue;case 20:if(l!==162)break;c.outlineColor=At.decode(a,a.uint32());continue;case 21:if(l!==170)break;c.textColor=Yt.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Os||(Os={}));var l1={COMPONENT_ID:1030,serialize(e,t){let r=Os.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Os.decode(e.buffer(),e.remainingBytes())},create(){return Os.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTextShape"}};var xr=_e(Le());var c1;(function(e){e[e.EF_LINEAR=0]="EF_LINEAR",e[e.EF_EASEINQUAD=1]="EF_EASEINQUAD",e[e.EF_EASEOUTQUAD=2]="EF_EASEOUTQUAD",e[e.EF_EASEQUAD=3]="EF_EASEQUAD",e[e.EF_EASEINSINE=4]="EF_EASEINSINE",e[e.EF_EASEOUTSINE=5]="EF_EASEOUTSINE",e[e.EF_EASESINE=6]="EF_EASESINE",e[e.EF_EASEINEXPO=7]="EF_EASEINEXPO",e[e.EF_EASEOUTEXPO=8]="EF_EASEOUTEXPO",e[e.EF_EASEEXPO=9]="EF_EASEEXPO",e[e.EF_EASEINELASTIC=10]="EF_EASEINELASTIC",e[e.EF_EASEOUTELASTIC=11]="EF_EASEOUTELASTIC",e[e.EF_EASEELASTIC=12]="EF_EASEELASTIC",e[e.EF_EASEINBOUNCE=13]="EF_EASEINBOUNCE",e[e.EF_EASEOUTBOUNCE=14]="EF_EASEOUTBOUNCE",e[e.EF_EASEBOUNCE=15]="EF_EASEBOUNCE",e[e.EF_EASEINCUBIC=16]="EF_EASEINCUBIC",e[e.EF_EASEOUTCUBIC=17]="EF_EASEOUTCUBIC",e[e.EF_EASECUBIC=18]="EF_EASECUBIC",e[e.EF_EASEINQUART=19]="EF_EASEINQUART",e[e.EF_EASEOUTQUART=20]="EF_EASEOUTQUART",e[e.EF_EASEQUART=21]="EF_EASEQUART",e[e.EF_EASEINQUINT=22]="EF_EASEINQUINT",e[e.EF_EASEOUTQUINT=23]="EF_EASEOUTQUINT",e[e.EF_EASEQUINT=24]="EF_EASEQUINT",e[e.EF_EASEINCIRC=25]="EF_EASEINCIRC",e[e.EF_EASEOUTCIRC=26]="EF_EASEOUTCIRC",e[e.EF_EASECIRC=27]="EF_EASECIRC",e[e.EF_EASEINBACK=28]="EF_EASEINBACK",e[e.EF_EASEOUTBACK=29]="EF_EASEOUTBACK",e[e.EF_EASEBACK=30]="EF_EASEBACK"})(c1||(c1={}));function wx(){return{duration:0,easingFunction:0,mode:void 0,playing:void 0,currentTime:void 0}}var si;(function(e){function t(n,s=xr.default.Writer.create()){switch(n.duration!==0&&s.uint32(13).float(n.duration),n.easingFunction!==0&&s.uint32(16).int32(n.easingFunction),n.mode?.$case){case"move":Cf.encode(n.mode.move,s.uint32(26).fork()).ldelim();break;case"rotate":If.encode(n.mode.rotate,s.uint32(34).fork()).ldelim();break;case"scale":Af.encode(n.mode.scale,s.uint32(42).fork()).ldelim();break}return n.playing!==void 0&&s.uint32(48).bool(n.playing),n.currentTime!==void 0&&s.uint32(61).float(n.currentTime),s}e.encode=t;function r(n,s){let a=n instanceof xr.default.Reader?n:xr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=wx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.duration=a.float();continue;case 2:if(l!==16)break;c.easingFunction=a.int32();continue;case 3:if(l!==26)break;c.mode={$case:"move",move:Cf.decode(a,a.uint32())};continue;case 4:if(l!==34)break;c.mode={$case:"rotate",rotate:If.decode(a,a.uint32())};continue;case 5:if(l!==42)break;c.mode={$case:"scale",scale:Af.decode(a,a.uint32())};continue;case 6:if(l!==48)break;c.playing=a.bool();continue;case 7:if(l!==61)break;c.currentTime=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(si||(si={}));function kx(){return{start:void 0,end:void 0,faceDirection:void 0}}var Cf;(function(e){function t(n,s=xr.default.Writer.create()){return n.start!==void 0&&et.encode(n.start,s.uint32(10).fork()).ldelim(),n.end!==void 0&&et.encode(n.end,s.uint32(18).fork()).ldelim(),n.faceDirection!==void 0&&s.uint32(24).bool(n.faceDirection),s}e.encode=t;function r(n,s){let a=n instanceof xr.default.Reader?n:xr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=kx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.start=et.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.end=et.decode(a,a.uint32());continue;case 3:if(l!==24)break;c.faceDirection=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Cf||(Cf={}));function Cx(){return{start:void 0,end:void 0}}var If;(function(e){function t(n,s=xr.default.Writer.create()){return n.start!==void 0&&ha.encode(n.start,s.uint32(10).fork()).ldelim(),n.end!==void 0&&ha.encode(n.end,s.uint32(18).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof xr.default.Reader?n:xr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Cx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.start=ha.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.end=ha.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(If||(If={}));function Ix(){return{start:void 0,end:void 0}}var Af;(function(e){function t(n,s=xr.default.Writer.create()){return n.start!==void 0&&et.encode(n.start,s.uint32(10).fork()).ldelim(),n.end!==void 0&&et.encode(n.end,s.uint32(18).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof xr.default.Reader?n:xr.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Ix();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.start=et.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.end=et.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Af||(Af={}));var u1={COMPONENT_ID:1102,serialize(e,t){let r=si.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return si.decode(e.buffer(),e.remainingBytes())},create(){return si.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTween"}};var Rf=_e(Le());var f1;(function(e){e[e.TL_RESTART=0]="TL_RESTART",e[e.TL_YOYO=1]="TL_YOYO"})(f1||(f1={}));function Ax(){return{sequence:[],loop:void 0}}var Bs;(function(e){function t(n,s=Rf.default.Writer.create()){for(let a of n.sequence)si.encode(a,s.uint32(10).fork()).ldelim();return n.loop!==void 0&&s.uint32(16).int32(n.loop),s}e.encode=t;function r(n,s){let a=n instanceof Rf.default.Reader?n:Rf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Ax();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.sequence.push(si.decode(a,a.uint32()));continue;case 2:if(l!==16)break;c.loop=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Bs||(Bs={}));var d1={COMPONENT_ID:1104,serialize(e,t){let r=Bs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Bs.decode(e.buffer(),e.remainingBytes())},create(){return Bs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenSequence"}};var Pf=_e(Le());var m1;(function(e){e[e.TS_ACTIVE=0]="TS_ACTIVE",e[e.TS_COMPLETED=1]="TS_COMPLETED",e[e.TS_PAUSED=2]="TS_PAUSED"})(m1||(m1={}));function Rx(){return{state:0,currentTime:0}}var zs;(function(e){function t(n,s=Pf.default.Writer.create()){return n.state!==0&&s.uint32(8).int32(n.state),n.currentTime!==0&&s.uint32(21).float(n.currentTime),s}e.encode=t;function r(n,s){let a=n instanceof Pf.default.Reader?n:Pf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Rx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.state=a.int32();continue;case 2:if(l!==21)break;c.currentTime=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(zs||(zs={}));var p1={COMPONENT_ID:1103,serialize(e,t){let r=zs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return zs.decode(e.buffer(),e.remainingBytes())},create(){return zs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenState"}};var Nf=_e(Le());var Ta=_e(Le());function Px(){return{top:0,left:0,right:0,bottom:0}}var Oi;(function(e){function t(n,s=Ta.default.Writer.create()){return n.top!==0&&s.uint32(13).float(n.top),n.left!==0&&s.uint32(21).float(n.left),n.right!==0&&s.uint32(29).float(n.right),n.bottom!==0&&s.uint32(37).float(n.bottom),s}e.encode=t;function r(n,s){let a=n instanceof Ta.default.Reader?n:Ta.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Px();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.top=a.float();continue;case 2:if(l!==21)break;c.left=a.float();continue;case 3:if(l!==29)break;c.right=a.float();continue;case 4:if(l!==37)break;c.bottom=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Oi||(Oi={}));function Nx(){return{x:0,y:0,width:0,height:0}}var h1;(function(e){function t(n,s=Ta.default.Writer.create()){return n.x!==0&&s.uint32(13).float(n.x),n.y!==0&&s.uint32(21).float(n.y),n.width!==0&&s.uint32(29).float(n.width),n.height!==0&&s.uint32(37).float(n.height),s}e.encode=t;function r(n,s){let a=n instanceof Ta.default.Reader?n:Ta.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Nx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.x=a.float();continue;case 2:if(l!==21)break;c.y=a.float();continue;case 3:if(l!==29)break;c.width=a.float();continue;case 4:if(l!==37)break;c.height=a.float();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(h1||(h1={}));var y1;(function(e){e[e.NINE_SLICES=0]="NINE_SLICES",e[e.CENTER=1]="CENTER",e[e.STRETCH=2]="STRETCH"})(y1||(y1={}));function Mx(){return{color:void 0,texture:void 0,textureMode:0,textureSlices:void 0,uvs:[]}}var Ds;(function(e){function t(n,s=Nf.default.Writer.create()){n.color!==void 0&&Yt.encode(n.color,s.uint32(10).fork()).ldelim(),n.texture!==void 0&&Hn.encode(n.texture,s.uint32(18).fork()).ldelim(),n.textureMode!==0&&s.uint32(24).int32(n.textureMode),n.textureSlices!==void 0&&Oi.encode(n.textureSlices,s.uint32(34).fork()).ldelim(),s.uint32(42).fork();for(let a of n.uvs)s.float(a);return s.ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof Nf.default.Reader?n:Nf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Mx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.color=Yt.decode(a,a.uint32());continue;case 2:if(l!==18)break;c.texture=Hn.decode(a,a.uint32());continue;case 3:if(l!==24)break;c.textureMode=a.int32();continue;case 4:if(l!==34)break;c.textureSlices=Oi.decode(a,a.uint32());continue;case 5:if(l===45){c.uvs.push(a.float());continue}if(l===42){let y=a.uint32()+a.pos;for(;a.pos<y;)c.uvs.push(a.float());continue}break}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ds||(Ds={}));var g1={COMPONENT_ID:1053,serialize(e,t){let r=Ds.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ds.decode(e.buffer(),e.remainingBytes())},create(){return Ds.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiBackground"}};var Mf=_e(Le());function _x(){return{devicePixelRatio:0,width:0,height:0,interactableArea:void 0}}var Us;(function(e){function t(n,s=Mf.default.Writer.create()){return n.devicePixelRatio!==0&&s.uint32(13).float(n.devicePixelRatio),n.width!==0&&s.uint32(16).int32(n.width),n.height!==0&&s.uint32(24).int32(n.height),n.interactableArea!==void 0&&Oi.encode(n.interactableArea,s.uint32(34).fork()).ldelim(),s}e.encode=t;function r(n,s){let a=n instanceof Mf.default.Reader?n:Mf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=_x();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==13)break;c.devicePixelRatio=a.float();continue;case 2:if(l!==16)break;c.width=a.int32();continue;case 3:if(l!==24)break;c.height=a.int32();continue;case 4:if(l!==34)break;c.interactableArea=Oi.decode(a,a.uint32());continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Us||(Us={}));var E1={COMPONENT_ID:1054,serialize(e,t){let r=Us.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Us.decode(e.buffer(),e.remainingBytes())},create(){return Us.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiCanvasInformation"}};var _f=_e(Le());function Ox(){return{acceptEmpty:!1,emptyLabel:void 0,options:[],selectedIndex:void 0,disabled:!1,color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var Ls;(function(e){function t(n,s=_f.default.Writer.create()){n.acceptEmpty===!0&&s.uint32(8).bool(n.acceptEmpty),n.emptyLabel!==void 0&&s.uint32(18).string(n.emptyLabel);for(let a of n.options)s.uint32(26).string(a);return n.selectedIndex!==void 0&&s.uint32(32).int32(n.selectedIndex),n.disabled===!0&&s.uint32(40).bool(n.disabled),n.color!==void 0&&Yt.encode(n.color,s.uint32(50).fork()).ldelim(),n.textAlign!==void 0&&s.uint32(80).int32(n.textAlign),n.font!==void 0&&s.uint32(88).int32(n.font),n.fontSize!==void 0&&s.uint32(96).int32(n.fontSize),s}e.encode=t;function r(n,s){let a=n instanceof _f.default.Reader?n:_f.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Ox();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.acceptEmpty=a.bool();continue;case 2:if(l!==18)break;c.emptyLabel=a.string();continue;case 3:if(l!==26)break;c.options.push(a.string());continue;case 4:if(l!==32)break;c.selectedIndex=a.int32();continue;case 5:if(l!==40)break;c.disabled=a.bool();continue;case 6:if(l!==50)break;c.color=Yt.decode(a,a.uint32());continue;case 10:if(l!==80)break;c.textAlign=a.int32();continue;case 11:if(l!==88)break;c.font=a.int32();continue;case 12:if(l!==96)break;c.fontSize=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ls||(Ls={}));var T1={COMPONENT_ID:1094,serialize(e,t){let r=Ls.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ls.decode(e.buffer(),e.remainingBytes())},create(){return Ls.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdown"}};var Of=_e(Le());function Bx(){return{value:0}}var Fs;(function(e){function t(n,s=Of.default.Writer.create()){return n.value!==0&&s.uint32(8).int32(n.value),s}e.encode=t;function r(n,s){let a=n instanceof Of.default.Reader?n:Of.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Bx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.value=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Fs||(Fs={}));var S1={COMPONENT_ID:1096,serialize(e,t){let r=Fs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Fs.decode(e.buffer(),e.remainingBytes())},create(){return Fs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdownResult"}};var Bf=_e(Le());function zx(){return{placeholder:"",color:void 0,placeholderColor:void 0,disabled:!1,textAlign:void 0,font:void 0,fontSize:void 0,value:void 0}}var Vs;(function(e){function t(n,s=Bf.default.Writer.create()){return n.placeholder!==""&&s.uint32(10).string(n.placeholder),n.color!==void 0&&Yt.encode(n.color,s.uint32(18).fork()).ldelim(),n.placeholderColor!==void 0&&Yt.encode(n.placeholderColor,s.uint32(26).fork()).ldelim(),n.disabled===!0&&s.uint32(32).bool(n.disabled),n.textAlign!==void 0&&s.uint32(80).int32(n.textAlign),n.font!==void 0&&s.uint32(88).int32(n.font),n.fontSize!==void 0&&s.uint32(96).int32(n.fontSize),n.value!==void 0&&s.uint32(106).string(n.value),s}e.encode=t;function r(n,s){let a=n instanceof Bf.default.Reader?n:Bf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=zx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.placeholder=a.string();continue;case 2:if(l!==18)break;c.color=Yt.decode(a,a.uint32());continue;case 3:if(l!==26)break;c.placeholderColor=Yt.decode(a,a.uint32());continue;case 4:if(l!==32)break;c.disabled=a.bool();continue;case 10:if(l!==80)break;c.textAlign=a.int32();continue;case 11:if(l!==88)break;c.font=a.int32();continue;case 12:if(l!==96)break;c.fontSize=a.int32();continue;case 13:if(l!==106)break;c.value=a.string();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Vs||(Vs={}));var x1={COMPONENT_ID:1093,serialize(e,t){let r=Vs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Vs.decode(e.buffer(),e.remainingBytes())},create(){return Vs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInput"}};var zf=_e(Le());function Dx(){return{value:"",isSubmit:void 0}}var Ws;(function(e){function t(n,s=zf.default.Writer.create()){return n.value!==""&&s.uint32(10).string(n.value),n.isSubmit!==void 0&&s.uint32(16).bool(n.isSubmit),s}e.encode=t;function r(n,s){let a=n instanceof zf.default.Reader?n:zf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Dx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.value=a.string();continue;case 2:if(l!==16)break;c.isSubmit=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Ws||(Ws={}));var b1={COMPONENT_ID:1095,serialize(e,t){let r=Ws.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Ws.decode(e.buffer(),e.remainingBytes())},create(){return Ws.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInputResult"}};var Df=_e(Le());var v1;(function(e){e[e.TW_WRAP=0]="TW_WRAP",e[e.TW_NO_WRAP=1]="TW_NO_WRAP"})(v1||(v1={}));function Ux(){return{value:"",color:void 0,textAlign:void 0,font:void 0,fontSize:void 0,textWrap:void 0}}var Gs;(function(e){function t(n,s=Df.default.Writer.create()){return n.value!==""&&s.uint32(10).string(n.value),n.color!==void 0&&Yt.encode(n.color,s.uint32(18).fork()).ldelim(),n.textAlign!==void 0&&s.uint32(24).int32(n.textAlign),n.font!==void 0&&s.uint32(32).int32(n.font),n.fontSize!==void 0&&s.uint32(40).int32(n.fontSize),n.textWrap!==void 0&&s.uint32(48).int32(n.textWrap),s}e.encode=t;function r(n,s){let a=n instanceof Df.default.Reader?n:Df.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Ux();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.value=a.string();continue;case 2:if(l!==18)break;c.color=Yt.decode(a,a.uint32());continue;case 3:if(l!==24)break;c.textAlign=a.int32();continue;case 4:if(l!==32)break;c.font=a.int32();continue;case 5:if(l!==40)break;c.fontSize=a.int32();continue;case 6:if(l!==48)break;c.textWrap=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Gs||(Gs={}));var w1={COMPONENT_ID:1052,serialize(e,t){let r=Gs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Gs.decode(e.buffer(),e.remainingBytes())},create(){return Gs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiText"}};var Uf=_e(Le());var k1;(function(e){e[e.YGPT_RELATIVE=0]="YGPT_RELATIVE",e[e.YGPT_ABSOLUTE=1]="YGPT_ABSOLUTE"})(k1||(k1={}));var C1;(function(e){e[e.YGA_AUTO=0]="YGA_AUTO",e[e.YGA_FLEX_START=1]="YGA_FLEX_START",e[e.YGA_CENTER=2]="YGA_CENTER",e[e.YGA_FLEX_END=3]="YGA_FLEX_END",e[e.YGA_STRETCH=4]="YGA_STRETCH",e[e.YGA_BASELINE=5]="YGA_BASELINE",e[e.YGA_SPACE_BETWEEN=6]="YGA_SPACE_BETWEEN",e[e.YGA_SPACE_AROUND=7]="YGA_SPACE_AROUND"})(C1||(C1={}));var I1;(function(e){e[e.YGU_UNDEFINED=0]="YGU_UNDEFINED",e[e.YGU_POINT=1]="YGU_POINT",e[e.YGU_PERCENT=2]="YGU_PERCENT",e[e.YGU_AUTO=3]="YGU_AUTO"})(I1||(I1={}));var A1;(function(e){e[e.YGFD_ROW=0]="YGFD_ROW",e[e.YGFD_COLUMN=1]="YGFD_COLUMN",e[e.YGFD_COLUMN_REVERSE=2]="YGFD_COLUMN_REVERSE",e[e.YGFD_ROW_REVERSE=3]="YGFD_ROW_REVERSE"})(A1||(A1={}));var R1;(function(e){e[e.YGW_NO_WRAP=0]="YGW_NO_WRAP",e[e.YGW_WRAP=1]="YGW_WRAP",e[e.YGW_WRAP_REVERSE=2]="YGW_WRAP_REVERSE"})(R1||(R1={}));var P1;(function(e){e[e.YGJ_FLEX_START=0]="YGJ_FLEX_START",e[e.YGJ_CENTER=1]="YGJ_CENTER",e[e.YGJ_FLEX_END=2]="YGJ_FLEX_END",e[e.YGJ_SPACE_BETWEEN=3]="YGJ_SPACE_BETWEEN",e[e.YGJ_SPACE_AROUND=4]="YGJ_SPACE_AROUND",e[e.YGJ_SPACE_EVENLY=5]="YGJ_SPACE_EVENLY"})(P1||(P1={}));var N1;(function(e){e[e.YGO_VISIBLE=0]="YGO_VISIBLE",e[e.YGO_HIDDEN=1]="YGO_HIDDEN",e[e.YGO_SCROLL=2]="YGO_SCROLL"})(N1||(N1={}));var M1;(function(e){e[e.YGD_FLEX=0]="YGD_FLEX",e[e.YGD_NONE=1]="YGD_NONE"})(M1||(M1={}));var _1;(function(e){e[e.YGE_LEFT=0]="YGE_LEFT",e[e.YGE_TOP=1]="YGE_TOP",e[e.YGE_RIGHT=2]="YGE_RIGHT",e[e.YGE_BOTTOM=3]="YGE_BOTTOM",e[e.YGE_START=4]="YGE_START",e[e.YGE_END=5]="YGE_END",e[e.YGE_HORIZONTAL=6]="YGE_HORIZONTAL",e[e.YGE_VERTICAL=7]="YGE_VERTICAL",e[e.YGE_ALL=8]="YGE_ALL"})(_1||(_1={}));var O1;(function(e){e[e.PFM_NONE=0]="PFM_NONE",e[e.PFM_BLOCK=1]="PFM_BLOCK"})(O1||(O1={}));function Lx(){return{parent:0,rightOf:0,alignContent:void 0,alignItems:void 0,flexWrap:void 0,flexShrink:void 0,positionType:0,alignSelf:0,flexDirection:0,justifyContent:0,overflow:0,display:0,flexBasisUnit:0,flexBasis:0,flexGrow:0,widthUnit:0,width:0,heightUnit:0,height:0,minWidthUnit:0,minWidth:0,minHeightUnit:0,minHeight:0,maxWidthUnit:0,maxWidth:0,maxHeightUnit:0,maxHeight:0,positionLeftUnit:0,positionLeft:0,positionTopUnit:0,positionTop:0,positionRightUnit:0,positionRight:0,positionBottomUnit:0,positionBottom:0,marginLeftUnit:0,marginLeft:0,marginTopUnit:0,marginTop:0,marginRightUnit:0,marginRight:0,marginBottomUnit:0,marginBottom:0,paddingLeftUnit:0,paddingLeft:0,paddingTopUnit:0,paddingTop:0,paddingRightUnit:0,paddingRight:0,paddingBottomUnit:0,paddingBottom:0,pointerFilter:void 0}}var Hs;(function(e){function t(n,s=Uf.default.Writer.create()){return n.parent!==0&&s.uint32(8).int32(n.parent),n.rightOf!==0&&s.uint32(16).int32(n.rightOf),n.alignContent!==void 0&&s.uint32(24).int32(n.alignContent),n.alignItems!==void 0&&s.uint32(32).int32(n.alignItems),n.flexWrap!==void 0&&s.uint32(40).int32(n.flexWrap),n.flexShrink!==void 0&&s.uint32(53).float(n.flexShrink),n.positionType!==0&&s.uint32(56).int32(n.positionType),n.alignSelf!==0&&s.uint32(64).int32(n.alignSelf),n.flexDirection!==0&&s.uint32(72).int32(n.flexDirection),n.justifyContent!==0&&s.uint32(80).int32(n.justifyContent),n.overflow!==0&&s.uint32(88).int32(n.overflow),n.display!==0&&s.uint32(96).int32(n.display),n.flexBasisUnit!==0&&s.uint32(104).int32(n.flexBasisUnit),n.flexBasis!==0&&s.uint32(117).float(n.flexBasis),n.flexGrow!==0&&s.uint32(125).float(n.flexGrow),n.widthUnit!==0&&s.uint32(128).int32(n.widthUnit),n.width!==0&&s.uint32(141).float(n.width),n.heightUnit!==0&&s.uint32(144).int32(n.heightUnit),n.height!==0&&s.uint32(157).float(n.height),n.minWidthUnit!==0&&s.uint32(160).int32(n.minWidthUnit),n.minWidth!==0&&s.uint32(173).float(n.minWidth),n.minHeightUnit!==0&&s.uint32(176).int32(n.minHeightUnit),n.minHeight!==0&&s.uint32(189).float(n.minHeight),n.maxWidthUnit!==0&&s.uint32(192).int32(n.maxWidthUnit),n.maxWidth!==0&&s.uint32(205).float(n.maxWidth),n.maxHeightUnit!==0&&s.uint32(208).int32(n.maxHeightUnit),n.maxHeight!==0&&s.uint32(221).float(n.maxHeight),n.positionLeftUnit!==0&&s.uint32(224).int32(n.positionLeftUnit),n.positionLeft!==0&&s.uint32(237).float(n.positionLeft),n.positionTopUnit!==0&&s.uint32(240).int32(n.positionTopUnit),n.positionTop!==0&&s.uint32(253).float(n.positionTop),n.positionRightUnit!==0&&s.uint32(256).int32(n.positionRightUnit),n.positionRight!==0&&s.uint32(269).float(n.positionRight),n.positionBottomUnit!==0&&s.uint32(272).int32(n.positionBottomUnit),n.positionBottom!==0&&s.uint32(285).float(n.positionBottom),n.marginLeftUnit!==0&&s.uint32(288).int32(n.marginLeftUnit),n.marginLeft!==0&&s.uint32(301).float(n.marginLeft),n.marginTopUnit!==0&&s.uint32(304).int32(n.marginTopUnit),n.marginTop!==0&&s.uint32(317).float(n.marginTop),n.marginRightUnit!==0&&s.uint32(320).int32(n.marginRightUnit),n.marginRight!==0&&s.uint32(333).float(n.marginRight),n.marginBottomUnit!==0&&s.uint32(336).int32(n.marginBottomUnit),n.marginBottom!==0&&s.uint32(349).float(n.marginBottom),n.paddingLeftUnit!==0&&s.uint32(352).int32(n.paddingLeftUnit),n.paddingLeft!==0&&s.uint32(365).float(n.paddingLeft),n.paddingTopUnit!==0&&s.uint32(368).int32(n.paddingTopUnit),n.paddingTop!==0&&s.uint32(381).float(n.paddingTop),n.paddingRightUnit!==0&&s.uint32(384).int32(n.paddingRightUnit),n.paddingRight!==0&&s.uint32(397).float(n.paddingRight),n.paddingBottomUnit!==0&&s.uint32(400).int32(n.paddingBottomUnit),n.paddingBottom!==0&&s.uint32(413).float(n.paddingBottom),n.pointerFilter!==void 0&&s.uint32(416).int32(n.pointerFilter),s}e.encode=t;function r(n,s){let a=n instanceof Uf.default.Reader?n:Uf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Lx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.parent=a.int32();continue;case 2:if(l!==16)break;c.rightOf=a.int32();continue;case 3:if(l!==24)break;c.alignContent=a.int32();continue;case 4:if(l!==32)break;c.alignItems=a.int32();continue;case 5:if(l!==40)break;c.flexWrap=a.int32();continue;case 6:if(l!==53)break;c.flexShrink=a.float();continue;case 7:if(l!==56)break;c.positionType=a.int32();continue;case 8:if(l!==64)break;c.alignSelf=a.int32();continue;case 9:if(l!==72)break;c.flexDirection=a.int32();continue;case 10:if(l!==80)break;c.justifyContent=a.int32();continue;case 11:if(l!==88)break;c.overflow=a.int32();continue;case 12:if(l!==96)break;c.display=a.int32();continue;case 13:if(l!==104)break;c.flexBasisUnit=a.int32();continue;case 14:if(l!==117)break;c.flexBasis=a.float();continue;case 15:if(l!==125)break;c.flexGrow=a.float();continue;case 16:if(l!==128)break;c.widthUnit=a.int32();continue;case 17:if(l!==141)break;c.width=a.float();continue;case 18:if(l!==144)break;c.heightUnit=a.int32();continue;case 19:if(l!==157)break;c.height=a.float();continue;case 20:if(l!==160)break;c.minWidthUnit=a.int32();continue;case 21:if(l!==173)break;c.minWidth=a.float();continue;case 22:if(l!==176)break;c.minHeightUnit=a.int32();continue;case 23:if(l!==189)break;c.minHeight=a.float();continue;case 24:if(l!==192)break;c.maxWidthUnit=a.int32();continue;case 25:if(l!==205)break;c.maxWidth=a.float();continue;case 26:if(l!==208)break;c.maxHeightUnit=a.int32();continue;case 27:if(l!==221)break;c.maxHeight=a.float();continue;case 28:if(l!==224)break;c.positionLeftUnit=a.int32();continue;case 29:if(l!==237)break;c.positionLeft=a.float();continue;case 30:if(l!==240)break;c.positionTopUnit=a.int32();continue;case 31:if(l!==253)break;c.positionTop=a.float();continue;case 32:if(l!==256)break;c.positionRightUnit=a.int32();continue;case 33:if(l!==269)break;c.positionRight=a.float();continue;case 34:if(l!==272)break;c.positionBottomUnit=a.int32();continue;case 35:if(l!==285)break;c.positionBottom=a.float();continue;case 36:if(l!==288)break;c.marginLeftUnit=a.int32();continue;case 37:if(l!==301)break;c.marginLeft=a.float();continue;case 38:if(l!==304)break;c.marginTopUnit=a.int32();continue;case 39:if(l!==317)break;c.marginTop=a.float();continue;case 40:if(l!==320)break;c.marginRightUnit=a.int32();continue;case 41:if(l!==333)break;c.marginRight=a.float();continue;case 42:if(l!==336)break;c.marginBottomUnit=a.int32();continue;case 43:if(l!==349)break;c.marginBottom=a.float();continue;case 44:if(l!==352)break;c.paddingLeftUnit=a.int32();continue;case 45:if(l!==365)break;c.paddingLeft=a.float();continue;case 46:if(l!==368)break;c.paddingTopUnit=a.int32();continue;case 47:if(l!==381)break;c.paddingTop=a.float();continue;case 48:if(l!==384)break;c.paddingRightUnit=a.int32();continue;case 49:if(l!==397)break;c.paddingRight=a.float();continue;case 50:if(l!==400)break;c.paddingBottomUnit=a.int32();continue;case 51:if(l!==413)break;c.paddingBottom=a.float();continue;case 52:if(l!==416)break;c.pointerFilter=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Hs||(Hs={}));var B1={COMPONENT_ID:1050,serialize(e,t){let r=Hs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Hs.decode(e.buffer(),e.remainingBytes())},create(){return Hs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiTransform"}};var Lf=_e(Le());var br;(function(e){e[e.VS_NONE=0]="VS_NONE",e[e.VS_ERROR=1]="VS_ERROR",e[e.VS_LOADING=2]="VS_LOADING",e[e.VS_READY=3]="VS_READY",e[e.VS_PLAYING=4]="VS_PLAYING",e[e.VS_BUFFERING=5]="VS_BUFFERING",e[e.VS_SEEKING=6]="VS_SEEKING",e[e.VS_PAUSED=7]="VS_PAUSED"})(br||(br={}));function Fx(){return{timestamp:0,tickNumber:0,currentOffset:0,videoLength:0,state:0}}var js;(function(e){function t(n,s=Lf.default.Writer.create()){return n.timestamp!==0&&s.uint32(8).uint32(n.timestamp),n.tickNumber!==0&&s.uint32(16).uint32(n.tickNumber),n.currentOffset!==0&&s.uint32(29).float(n.currentOffset),n.videoLength!==0&&s.uint32(37).float(n.videoLength),n.state!==0&&s.uint32(40).int32(n.state),s}e.encode=t;function r(n,s){let a=n instanceof Lf.default.Reader?n:Lf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Fx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.timestamp=a.uint32();continue;case 2:if(l!==16)break;c.tickNumber=a.uint32();continue;case 3:if(l!==29)break;c.currentOffset=a.float();continue;case 4:if(l!==37)break;c.videoLength=a.float();continue;case 5:if(l!==40)break;c.state=a.int32();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(js||(js={}));var z1={COMPONENT_ID:1044,serialize(e,t){let r=js.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return js.decode(e.buffer(),e.remainingBytes())},create(){return js.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoEvent"}};var Ff=_e(Le());function Vx(){return{src:"",playing:void 0,position:void 0,volume:void 0,playbackRate:void 0,loop:void 0}}var qs;(function(e){function t(n,s=Ff.default.Writer.create()){return n.src!==""&&s.uint32(10).string(n.src),n.playing!==void 0&&s.uint32(16).bool(n.playing),n.position!==void 0&&s.uint32(29).float(n.position),n.volume!==void 0&&s.uint32(37).float(n.volume),n.playbackRate!==void 0&&s.uint32(45).float(n.playbackRate),n.loop!==void 0&&s.uint32(48).bool(n.loop),s}e.encode=t;function r(n,s){let a=n instanceof Ff.default.Reader?n:Ff.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Vx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==10)break;c.src=a.string();continue;case 2:if(l!==16)break;c.playing=a.bool();continue;case 3:if(l!==29)break;c.position=a.float();continue;case 4:if(l!==37)break;c.volume=a.float();continue;case 5:if(l!==45)break;c.playbackRate=a.float();continue;case 6:if(l!==48)break;c.loop=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(qs||(qs={}));var D1={COMPONENT_ID:1043,serialize(e,t){let r=qs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return qs.decode(e.buffer(),e.remainingBytes())},create(){return qs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"}};var Vf=_e(Le());function Wx(){return{visible:void 0}}var Qs;(function(e){function t(n,s=Vf.default.Writer.create()){return n.visible!==void 0&&s.uint32(8).bool(n.visible),s}e.encode=t;function r(n,s){let a=n instanceof Vf.default.Reader?n:Vf.default.Reader.create(n),f=s===void 0?a.len:a.pos+s,c=Wx();for(;a.pos<f;){let l=a.uint32();switch(l>>>3){case 1:if(l!==8)break;c.visible=a.bool();continue}if((l&7)===4||l===0)break;a.skipType(l&7)}return c}e.decode=r})(Qs||(Qs={}));var U1={COMPONENT_ID:1081,serialize(e,t){let r=Qs.encode(e),n=new Uint8Array(r.finish(),0,r.len);t.writeBuffer(n,!1)},deserialize(e){return Qs.decode(e.buffer(),e.remainingBytes())},create(){return Qs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"}};var Ap=e=>e.defineComponentFromSchema("core::Animator",gg),Rp=e=>e.defineValueSetComponentFromSchema("core::AudioEvent",Eg,{timestampFunction:t=>t.timestamp,maxElements:100}),Wf=e=>e.defineComponentFromSchema("core::AudioSource",Tg),Pp=e=>e.defineComponentFromSchema("core::AudioStream",Sg),L1=e=>e.defineComponentFromSchema("core::AvatarAttach",bg),oc=e=>e.defineComponentFromSchema("core::AvatarBase",vg),Np=e=>e.defineValueSetComponentFromSchema("core::AvatarEmoteCommand",wg,{timestampFunction:t=>t.timestamp,maxElements:100}),ic=e=>e.defineComponentFromSchema("core::AvatarEquippedData",kg),F1=e=>e.defineComponentFromSchema("core::AvatarModifierArea",Rg),V1=e=>e.defineComponentFromSchema("core::AvatarShape",Fg),W1=e=>e.defineComponentFromSchema("core::Billboard",Wg),Mp=e=>e.defineComponentFromSchema("core::CameraMode",Gg),_p=e=>e.defineComponentFromSchema("core::CameraModeArea",Hg),G1=e=>e.defineComponentFromSchema("core::EngineInfo",jg),ac=e=>e.defineComponentFromSchema("core::GltfContainer",qg),H1=e=>e.defineComponentFromSchema("core::GltfContainerLoadingState",Qg),j1=e=>e.defineComponentFromSchema("core::InputModifier",Yg),Op=e=>e.defineComponentFromSchema("core::Material",$g),Bp=e=>e.defineComponentFromSchema("core::MeshCollider",Kg),zp=e=>e.defineComponentFromSchema("core::MeshRenderer",Zg),q1=e=>e.defineComponentFromSchema("core::NftShape",e1),sc=e=>e.defineComponentFromSchema("core::PlayerIdentityData",t1),Sa=e=>e.defineComponentFromSchema("core::PointerEvents",n1),lc=e=>e.defineValueSetComponentFromSchema("core::PointerEventsResult",r1,{timestampFunction:t=>t.timestamp,maxElements:100}),Dp=e=>e.defineComponentFromSchema("core::PointerLock",o1),Gf=e=>e.defineComponentFromSchema("core::Raycast",i1),Hf=e=>e.defineComponentFromSchema("core::RaycastResult",a1),Up=e=>e.defineComponentFromSchema("core::RealmInfo",s1),Lp=e=>e.defineComponentFromSchema("core::TextShape",l1),Fp=e=>e.defineComponentFromSchema("core::Tween",u1),jf=e=>e.defineComponentFromSchema("core::TweenSequence",d1),qf=e=>e.defineComponentFromSchema("core::TweenState",p1),Qf=e=>e.defineComponentFromSchema("core::UiBackground",g1),Vp=e=>e.defineComponentFromSchema("core::UiCanvasInformation",E1),Yf=e=>e.defineComponentFromSchema("core::UiDropdown",T1),Jf=e=>e.defineComponentFromSchema("core::UiDropdownResult",S1),$f=e=>e.defineComponentFromSchema("core::UiInput",x1),Kf=e=>e.defineComponentFromSchema("core::UiInputResult",b1),Zf=e=>e.defineComponentFromSchema("core::UiText",w1),Ys=e=>e.defineComponentFromSchema("core::UiTransform",B1),Xf=e=>e.defineValueSetComponentFromSchema("core::VideoEvent",z1,{timestampFunction:t=>t.timestamp,maxElements:100}),cc=e=>e.defineComponentFromSchema("core::VideoPlayer",D1),Wp=e=>e.defineComponentFromSchema("core::VisibilityComponent",U1),Gp={"core::Animator":Ap,"core::AudioEvent":Rp,"core::AudioSource":Wf,"core::AudioStream":Pp,"core::AvatarAttach":L1,"core::AvatarBase":oc,"core::AvatarEmoteCommand":Np,"core::AvatarEquippedData":ic,"core::AvatarModifierArea":F1,"core::AvatarShape":V1,"core::Billboard":W1,"core::CameraMode":Mp,"core::CameraModeArea":_p,"core::EngineInfo":G1,"core::GltfContainer":ac,"core::GltfContainerLoadingState":H1,"core::InputModifier":j1,"core::Material":Op,"core::MeshCollider":Bp,"core::MeshRenderer":zp,"core::NftShape":q1,"core::PlayerIdentityData":sc,"core::PointerEvents":Sa,"core::PointerEventsResult":lc,"core::PointerLock":Dp,"core::Raycast":Gf,"core::RaycastResult":Hf,"core::RealmInfo":Up,"core::TextShape":Lp,"core::Tween":Fp,"core::TweenSequence":jf,"core::TweenState":qf,"core::UiBackground":Qf,"core::UiCanvasInformation":Vp,"core::UiDropdown":Yf,"core::UiDropdownResult":Jf,"core::UiInput":$f,"core::UiInputResult":Kf,"core::UiText":Zf,"core::UiTransform":Ys,"core::VideoEvent":Xf,"core::VideoPlayer":cc,"core::VisibilityComponent":Wp};function Q1(e){let t=Ap(e);function r(n,s){let a=t.getMutableOrNull(n);if(!a)return[null,null];let f=a.states.find(c=>c.clip===s);return f?[a,f]:[a,null]}return{...t,getClipOrNull(n,s){let[a,f]=r(n,s);return f},getClip(n,s){let[a,f]=r(n,s);if(!a)throw new Error(`There is no Animator found in the entity ${n}`);if(!f)throw new Error(`The Animator component of ${n} has no the state ${s}`);return f},playSingleAnimation(n,s,a=!0){let[f,c]=r(n,s);if(!f||!c)return!1;for(let l of f.states)l.playing=!1,l.shouldReset=!0;return c.playing=!0,c.shouldReset=a,!0},stopAllAnimations(n,s=!0){let a=t.getMutableOrNull(n);if(!a)return!1;for(let f of a.states)f.playing=!1,f.shouldReset=s;return!0}}}function Y1(e){let t=Wf(e);return{...t,playSound(r,n,s=!0){let a=t.getMutableOrNull(r);return a?(a.audioClipUrl=n,a.playing=!0,a.currentTime=s?0:a.currentTime,!0):!1},stopSound(r,n=!0){let s=t.getMutableOrNull(r);return s?(s.playing=!1,s.currentTime=n?0:s.currentTime,!0):!1}}}var Hx={Common(e){return{tex:{$case:"texture",texture:e}}},Avatar(e){return{tex:{$case:"avatarTexture",avatarTexture:e}}},Video(e){return{tex:{$case:"videoTexture",videoTexture:e}}}};function J1(e){let t=Op(e);return{...t,Texture:Hx,setBasicMaterial(r,n){t.createOrReplace(r,{material:{$case:"unlit",unlit:n}})},setPbrMaterial(r,n){t.createOrReplace(r,{material:{$case:"pbr",pbr:n}})}}}function $1(e){let t=Bp(e);function r(n){if(Array.isArray(n))return n.map(s=>s).reduce((s,a)=>s|a,0);if(n)return n}return{...t,setBox(n,s){t.createOrReplace(n,{mesh:{$case:"box",box:{}},collisionMask:r(s)})},setPlane(n,s){t.createOrReplace(n,{mesh:{$case:"plane",plane:{}},collisionMask:r(s)})},setCylinder(n,s,a,f){t.createOrReplace(n,{mesh:{$case:"cylinder",cylinder:{radiusBottom:s,radiusTop:a}},collisionMask:r(f)})},setSphere(n,s){t.createOrReplace(n,{mesh:{$case:"sphere",sphere:{}},collisionMask:r(s)})}}}function K1(e){let t=zp(e);return{...t,setBox(r,n){t.createOrReplace(r,{mesh:{$case:"box",box:{uvs:n||[]}}})},setPlane(r,n){t.createOrReplace(r,{mesh:{$case:"plane",plane:{uvs:n||[]}}})},setCylinder(r,n,s){t.createOrReplace(r,{mesh:{$case:"cylinder",cylinder:{radiusBottom:n,radiusTop:s}}})},setSphere(r){t.createOrReplace(r,{mesh:{$case:"sphere",sphere:{}}})}}}var jx={Move(e){return{$case:"move",move:e}},Rotate(e){return{$case:"rotate",rotate:e}},Scale(e){return{$case:"scale",scale:e}}};function Z1(e){return{...Fp(e),Mode:jx}}var ed=e=>({serialize(t,r){r.writeUint32(t.length);for(let n of t)e.serialize(n,r)},deserialize(t){let r=[],n=t.readUint32();for(let s=0;s<n;s++)r.push(e.deserialize(t));return r},create(){return[]},jsonSchema:{type:"array",items:e.jsonSchema,serializationType:"array"}});var uc={serialize(e,t){t.writeInt8(e?1:0)},deserialize(e){return e.readInt8()===1},create(){return!1},jsonSchema:{type:"boolean",serializationType:"boolean"}};var fc={serialize(e,t){t.writeInt64(BigInt(e))},deserialize(e){return Number(e.readInt64())},create(){return 0},jsonSchema:{type:"integer",serializationType:"int64"}},Bi={serialize(e,t){t.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int32"}},dc={serialize(e,t){t.writeInt16(e)},deserialize(e){return e.readInt16()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int16"}},mc={serialize(e,t){t.writeInt8(e)},deserialize(e){return e.readInt8()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int8"}};var td={serialize(e,t){t.writeUtf8String(e)},deserialize(e){return e.readUtf8String()},create(){return""},jsonSchema:{type:"string",serializationType:"utf8-string"}},pc=td;function qx(e){let n=0,s=0;for(let a in e){if(typeof e[a]=="number"){if(e[a]>2147483647||e[a]<-2147483648)throw new Error("Enum member values must be numbers within the range of -2147483648 to 2147483647.");n++}s++}if(s!==n*2)throw new Error("All enum member values must be of numeric type.")}function Qx(e){for(let t in e)if(typeof e[t]!="string")throw new Error("All enum member values must be of string type.")}var Yx="enum-int",nd=(e,t)=>(qx(e),{serialize(r,n){Bi.serialize(r,n)},deserialize(r){return Bi.deserialize(r)},create(){return t},jsonSchema:{type:"integer",enum:Object.values(e).filter(r=>Number.isInteger(r)),default:t,serializationType:Yx,enumObject:e}}),Jx="enum-string",rd=(e,t)=>(Qx(e),{serialize(r,n){td.serialize(r,n)},deserialize(r){return td.deserialize(r)},create(){return t},jsonSchema:{type:"string",enum:Object.values(e),default:t,serializationType:Jx,enumObject:e}});var Js={serialize(e,t){t.writeFloat32(e)},deserialize(e){return e.readFloat32()},create(){return 0},jsonSchema:{type:"number",serializationType:"float32"}},hc={serialize(e,t){t.writeFloat64(e)},deserialize(e){return e.readFloat64()},create(){return 0},jsonSchema:{type:"number",serializationType:"float64"}};var yc={serialize(e,t){t.writeFloat32(e.r),t.writeFloat32(e.g),t.writeFloat32(e.b)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32()}},create(){return{r:0,g:0,b:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"}},serializationType:"color3"}};var gc={serialize(e,t){t.writeFloat32(e.r),t.writeFloat32(e.g),t.writeFloat32(e.b),t.writeFloat32(e.a)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32(),a:e.readFloat32()}},create(){return{r:0,g:0,b:0,a:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"},a:{type:"number"}},serializationType:"color4"}};var Ec={serialize(e,t){t.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"entity"}};var Tc={serialize(e,t){t.writeFloat32(e.x),t.writeFloat32(e.y),t.writeFloat32(e.z),t.writeFloat32(e.w)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32(),w:e.readFloat32()}},create(){return{x:0,y:0,z:0,w:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"quaternion"}};var Sc={serialize(e,t){t.writeFloat32(e.x),t.writeFloat32(e.y),t.writeFloat32(e.z)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32()}},create(){return{x:0,y:0,z:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"vector3"}};var od=(e,t)=>{let r=Object.keys(e).reduce((n,s)=>(n[s]=e[s].jsonSchema,n),{});return{serialize(n,s){for(let a in e)e[a].serialize(n[a],s)},deserialize(n){let s={};for(let a in e)s[a]=e[a].deserialize(n);return s},create(){let n={};for(let s in e)n[s]=e[s].create();return{...n,...t}},extend:n=>{let s={};for(let a in e)s[a]=e[a].create();return{...s,...t,...n}},jsonSchema:{type:"object",properties:r,serializationType:"map"}}};var id=e=>({serialize(t,r){t?(r.writeInt8(1),e.serialize(t,r)):r.writeInt8(0)},deserialize(t){if(t.readInt8())return e.deserialize(t)},create(){},jsonSchema:{type:e.jsonSchema.type,serializationType:"optional",optionalJsonSchema:e.jsonSchema}});var ad=e=>{let t=Object.keys(e),r=t.reduce((s,a,f)=>(s[a]=f,s),{}),n=t.reduce((s,a)=>(s[a]=e[a].jsonSchema,s),{});return{serialize({$case:s,value:a},f){let c=r[s.toString()]+1;f.writeUint8(c),e[s].serialize(a,f)},deserialize(s){let a=t[s.readInt8()-1],f=e[a].deserialize(s);return{$case:a,value:f}},create(){return{}},jsonSchema:{type:"object",properties:n,serializationType:"one-of"}}};var X1=(e,t)=>t.includes(e.serializationType),$x=e=>X1(e,["one-of"]),Kx=()=>({type:{type:"object",serializationType:"unknown"},value:void 0}),sd=e=>X1(e,["array","map"]),Hp=(e,t,r)=>{let n=e[r],s=t[r];if($x(n)){let a=s;if(!a.$case)return Kx();let f=n.properties[a.$case];return sd(f)&&(t[r]={[a.$case]:a.value}),{type:f,value:a.value}}return{type:n,value:s}};var eE={[uc.jsonSchema.serializationType]:uc,[pc.jsonSchema.serializationType]:pc,[Js.jsonSchema.serializationType]:Js,[hc.jsonSchema.serializationType]:hc,[mc.jsonSchema.serializationType]:mc,[dc.jsonSchema.serializationType]:dc,[Bi.jsonSchema.serializationType]:Bi,[fc.jsonSchema.serializationType]:fc,[Sc.jsonSchema.serializationType]:Sc,[Tc.jsonSchema.serializationType]:Tc,[yc.jsonSchema.serializationType]:yc,[gc.jsonSchema.serializationType]:gc,[Ec.jsonSchema.serializationType]:Ec};function $s(e){if(eE[e.serializationType])return eE[e.serializationType];if(e.serializationType==="map"){let t=e,r={};for(let n in t.properties)r[n]=$s(t.properties[n]);return od(r)}if(e.serializationType==="optional")return id($s(e.optionalJsonSchema));if(e.serializationType==="array")return ed($s(e.items));if(e.serializationType==="enum-int"){let t=e;return nd(t.enumObject,t.default)}if(e.serializationType==="enum-string"){let t=e;return rd(t.enumObject,t.default)}if(e.serializationType==="one-of"){let t=e,r={};for(let n in t.properties)r[n]=$s(t.properties[n]);return ad(r)}throw new Error(`${e.serializationType} is not supported as reverse schema generation.`)}function ld(e,t,r){if(e.serializationType==="map"){let{properties:n}=e,s=t;for(let a in n){let{type:f,value:c}=Hp(n,s,a);if(f.serializationType!=="unknown")if(sd(f))ld(f,c,r);else{let l=r(c,f);l.changed&&(s[a]=l.value)}}}else if(e.serializationType==="array"){let{items:n}=e,s=t;for(let a=0,f=s.length;a<f;a++){let{type:c,value:l}=Hp({items:n},{items:s[a]},"items");if(sd(c))ld(c,l,r);else{let y=r(l,c);y.changed&&(s[a]=y.value)}}}}var B;(function(e){e.Boolean=uc,e.String=pc,e.Float=Js,e.Double=hc,e.Byte=mc,e.Short=dc,e.Int=Bi,e.Int64=fc,e.Number=Js,e.Vector3=Sc,e.Quaternion=Tc,e.Color3=yc,e.Color4=gc,e.Entity=Ec,e.EnumNumber=nd,e.EnumString=rd,e.Array=ed,e.Map=od,e.Optional=id,e.OneOf=ad,e.fromJson=$s,e.mutateNestedValues=ld})(B||(B={}));function Zx(e){return e.defineComponent("core-schema::Name",{value:B.String})}var tE=Zx;function Xx(e){return e.defineComponent("core-schema::Network-Entity",{networkId:B.Int64,entityId:B.Entity})}var nE=Xx;function eb(e){return e.defineComponent("core-schema::Network-Parent",{networkId:B.Int64,entityId:B.Entity})}var rE=eb;var Ks={serialize(e,t){let r=t.incrementWriteOffset(44);t.setFloat32(r,e.position.x),t.setFloat32(r+4,e.position.y),t.setFloat32(r+8,e.position.z),t.setFloat32(r+12,e.rotation.x),t.setFloat32(r+16,e.rotation.y),t.setFloat32(r+20,e.rotation.z),t.setFloat32(r+24,e.rotation.w),t.setFloat32(r+28,e.scale.x),t.setFloat32(r+32,e.scale.y),t.setFloat32(r+36,e.scale.z),t.setUint32(r+40,e.parent||0)},deserialize(e){let t=e.incrementReadOffset(44);return{position:{x:e.getFloat32(t),y:e.getFloat32(t+4),z:e.getFloat32(t+8)},rotation:{x:e.getFloat32(t+12),y:e.getFloat32(t+16),z:e.getFloat32(t+20),w:e.getFloat32(t+24)},scale:{x:e.getFloat32(t+28),y:e.getFloat32(t+32),z:e.getFloat32(t+36)},parent:e.getUint32(t+40)}},create(){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},extend(e){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0,...e}},jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"}};function oE(e){let t=e.defineComponentFromSchema("core::Transform",Ks);return{...t,create(r,n){return t.create(r,Ks.extend(n))},createOrReplace(r,n){return t.createOrReplace(r,Ks.extend(n))}}}var jp;(function(e){e[e.MS_NONE=0]="MS_NONE",e[e.MS_ERROR=1]="MS_ERROR",e[e.MS_LOADING=2]="MS_LOADING",e[e.MS_READY=3]="MS_READY",e[e.MS_PLAYING=4]="MS_PLAYING",e[e.MS_BUFFERING=5]="MS_BUFFERING",e[e.MS_SEEKING=6]="MS_SEEKING",e[e.MS_PAUSED=7]="MS_PAUSED"})(jp||(jp={}));var so=e=>oE(e),iE=e=>J1(e),aE=e=>Q1(e),sE=e=>Y1(e);var lE=e=>K1(e),cd=e=>$1(e),qp=e=>Z1(e),ud=e=>tE(e);var Zs=e=>nE(e),xc=e=>rE(e);var Qp={"core::Transform":1,"core::Animator":1042,"core::AudioEvent":1105,"core::AudioSource":1020,"core::AudioStream":1021,"core::AvatarAttach":1073,"core::AvatarBase":1087,"core::AvatarEmoteCommand":1088,"core::AvatarEquippedData":1091,"core::AvatarModifierArea":1070,"core::AvatarShape":1080,"core::Billboard":1090,"core::CameraMode":1072,"core::CameraModeArea":1071,"core::EngineInfo":1048,"core::GltfContainer":1041,"core::GltfContainerLoadingState":1049,"core::InputModifier":1078,"core::MapPin":1097,"core::Material":1017,"core::MeshCollider":1019,"core::MeshRenderer":1018,"core::NftShape":1040,"core::PlayerIdentityData":1089,"core::PointerEvents":1062,"core::PointerEventsResult":1063,"core::PointerLock":1074,"core::Raycast":1067,"core::RaycastResult":1068,"core::RealmInfo":1106,"core::TextShape":1030,"core::Tween":1102,"core::TweenSequence":1104,"core::TweenState":1103,"core::UiBackground":1053,"core::UiCanvasInformation":1054,"core::UiDropdown":1094,"core::UiDropdownResult":1096,"core::UiInput":1093,"core::UiInputResult":1095,"core::UiText":1052,"core::UiTransform":1050,"core::VideoEvent":1044,"core::VideoPlayer":1043,"core::VisibilityComponent":1081};var uE=_e(Bu());var tb=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function nb(e,t){let r=~~t^-1;for(let n=0;n<e.length;n++)r=tb[(r^e[n])&255]^r>>>8;return r^-1}function cE(e,t=0){return nb(e,t)>>>0}var Yp=2048;function Do(e){if(Qp[e])return Qp[e];let t=new Uint8Array(128);return uE.write(e,t,0),(cE(t)+Yp&4294967295)>>>0}var Jp=typeof process=="object"&&!1||!1;function bc(e,t){if(Jp&&e&&typeof e=="object"&&typeof e.then=="function")throw new Error(t);return e}function fE(){let e=new Map;return{addTo(t,r){if(r<0)return!1;let n=e.get(t);return n!==void 0&&n>=r||e.set(t,r),!0},has(t,r){let n=e.get(t);return n!==void 0&&n>=r},getMap(){return e}}}var xa=65535,rb=4294901760,RP=xa+1,dE=xa,ob=512,Uo;(function(e){function t(n){return[(n&xa)>>>0,((n&rb)>>16&xa)>>>0]}e.fromEntityId=t;function r(n,s){return(n&xa|(s&xa)<<16)>>>0}e.toEntityId=r})(Uo||(Uo={}));var Xt;(function(e){e[e.Unknown=0]="Unknown",e[e.UsedEntity=1]="UsedEntity",e[e.Removed=2]="Removed",e[e.Reserved=3]="Reserved"})(Xt||(Xt={}));function mE(e){let t=e?.reservedStaticEntities??ob,r=t,n=new Set,s=[],a=fE();function f(){if(r>dE-1)throw new Error(`It fails trying to generate an entity out of range ${dE}.`);let I=r++,P=a.getMap().has(I)?a.getMap().get(I)+1:0,S=Uo.toEntityId(I,P);return n.has(S)?f():(n.add(S),S)}function c(){if(n.size+t>=r)return f();for(let[P,S]of a.getMap())if(S<xa){let x=Uo.toEntityId(P,S+1);if(!n.has(x)&&!s.includes(x))return n.add(x),x}return f()}function l(I){return I<t?!1:(n.has(I)?(n.delete(I),s.push(I)):g(I),!0)}function y(){let I=s;if(I.length){s=[];for(let P of I){let[S,x]=Uo.fromEntityId(P);a.addTo(S,x)}}return I}function g(I){let[P,S]=Uo.fromEntityId(I);a.addTo(P,S);for(let x=0;x<=S;x++)n.delete(Uo.toEntityId(P,x));return!0}function M(I){let[P,S]=Uo.fromEntityId(I);if(a.has(P,S))return!1;if(S>0){for(let x=0;x<=S-1;x++)n.delete(Uo.toEntityId(P,x));a.addTo(P,S-1)}return n.add(I),!0}function w(I){let[P,S]=Uo.fromEntityId(I);if(P<t)return Xt.Reserved;if(n.has(I))return Xt.UsedEntity;let x=a.getMap().get(P);return x!==void 0&&x>=S?Xt.Removed:Xt.Unknown}return{generateEntity:c,removeEntity:l,getExistingEntities(){return new Set(n)},getEntityState:w,releaseRemovedEntities:y,updateRemovedEntity:g,updateUsedEntity:M}}var Xs=_e(Bu()),Ct=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},vt,fr,Cn;function ib(e,t){let r=Math.max(e,t)+1024;return Math.ceil(r/1024)*1024}var ab=10240,Jt=class{constructor(t,r,n){vt.add(this),this._buffer=t||new Uint8Array(ab),this.view=new DataView(this._buffer.buffer,this._buffer.byteOffset),this.woffset=n??(t?this._buffer.length:null)??0,this.roffset=r??0}buffer(){return this._buffer}bufferLength(){return this._buffer.length}resetBuffer(){this.roffset=0,this.woffset=0}currentReadOffset(){return this.roffset}currentWriteOffset(){return this.woffset}incrementReadOffset(t){return Ct(this,vt,"m",Cn).call(this,t)}remainingBytes(){return this.woffset-this.roffset}readFloat32(){return this.view.getFloat32(Ct(this,vt,"m",Cn).call(this,4),!0)}readFloat64(){return this.view.getFloat64(Ct(this,vt,"m",Cn).call(this,8),!0)}readInt8(){return this.view.getInt8(Ct(this,vt,"m",Cn).call(this,1))}readInt16(){return this.view.getInt16(Ct(this,vt,"m",Cn).call(this,2),!0)}readInt32(){return this.view.getInt32(Ct(this,vt,"m",Cn).call(this,4),!0)}readInt64(){return this.view.getBigInt64(Ct(this,vt,"m",Cn).call(this,8),!0)}readUint8(){return this.view.getUint8(Ct(this,vt,"m",Cn).call(this,1))}readUint16(){return this.view.getUint16(Ct(this,vt,"m",Cn).call(this,2),!0)}readUint32(){return this.view.getUint32(Ct(this,vt,"m",Cn).call(this,4),!0)}readUint64(){return this.view.getBigUint64(Ct(this,vt,"m",Cn).call(this,8),!0)}readBuffer(){let t=this.view.getUint32(Ct(this,vt,"m",Cn).call(this,4),!0);return this._buffer.subarray(Ct(this,vt,"m",Cn).call(this,t),Ct(this,vt,"m",Cn).call(this,0))}readUtf8String(){let t=this.view.getUint32(Ct(this,vt,"m",Cn).call(this,4),!0);return Xs.read(this._buffer,Ct(this,vt,"m",Cn).call(this,t),Ct(this,vt,"m",Cn).call(this,0))}incrementWriteOffset(t){return Ct(this,vt,"m",fr).call(this,t)}toBinary(){return this._buffer.subarray(0,this.woffset)}toCopiedBinary(){return new Uint8Array(this.toBinary())}writeBuffer(t,r=!0){r&&this.writeUint32(t.byteLength);let n=Ct(this,vt,"m",fr).call(this,t.byteLength);this._buffer.set(t,n)}writeUtf8String(t,r=!0){let n=Xs.length(t);r&&this.writeUint32(n);let s=Ct(this,vt,"m",fr).call(this,n);Xs.write(t,this._buffer,s)}writeFloat32(t){let r=Ct(this,vt,"m",fr).call(this,4);this.view.setFloat32(r,t,!0)}writeFloat64(t){let r=Ct(this,vt,"m",fr).call(this,8);this.view.setFloat64(r,t,!0)}writeInt8(t){let r=Ct(this,vt,"m",fr).call(this,1);this.view.setInt8(r,t)}writeInt16(t){let r=Ct(this,vt,"m",fr).call(this,2);this.view.setInt16(r,t,!0)}writeInt32(t){let r=Ct(this,vt,"m",fr).call(this,4);this.view.setInt32(r,t,!0)}writeInt64(t){let r=Ct(this,vt,"m",fr).call(this,8);this.view.setBigInt64(r,t,!0)}writeUint8(t){let r=Ct(this,vt,"m",fr).call(this,1);this.view.setUint8(r,t)}writeUint16(t){let r=Ct(this,vt,"m",fr).call(this,2);this.view.setUint16(r,t,!0)}writeUint32(t){let r=Ct(this,vt,"m",fr).call(this,4);this.view.setUint32(r,t,!0)}writeUint64(t){let r=Ct(this,vt,"m",fr).call(this,8);this.view.setBigUint64(r,t,!0)}getFloat32(t){return this.view.getFloat32(t,!0)}getFloat64(t){return this.view.getFloat64(t,!0)}getInt8(t){return this.view.getInt8(t)}getInt16(t){return this.view.getInt16(t,!0)}getInt32(t){return this.view.getInt32(t,!0)}getInt64(t){return this.view.getBigInt64(t,!0)}getUint8(t){return this.view.getUint8(t)}getUint16(t){return this.view.getUint16(t,!0)}getUint32(t){return this.view.getUint32(t,!0)}getUint64(t){return this.view.getBigUint64(t,!0)}setFloat32(t,r){this.view.setFloat32(t,r,!0)}setFloat64(t,r){this.view.setFloat64(t,r,!0)}setInt8(t,r){this.view.setInt8(t,r)}setInt16(t,r){this.view.setInt16(t,r,!0)}setInt32(t,r){this.view.setInt32(t,r,!0)}setInt64(t,r){this.view.setBigInt64(t,r,!0)}setUint8(t,r){this.view.setUint8(t,r)}setUint16(t,r){this.view.setUint16(t,r,!0)}setUint32(t,r){this.view.setUint32(t,r,!0)}setUint64(t,r){this.view.setBigUint64(t,r,!0)}};vt=new WeakSet,fr=function(t){if(this.woffset+t>this._buffer.byteLength){let r=ib(this._buffer.byteLength,this.woffset+t),n=new Uint8Array(r);n.set(this._buffer);let s=this._buffer.byteOffset;this._buffer=n,this.view=new DataView(this._buffer.buffer,s)}return this.woffset+=t,this.woffset-t},Cn=function(t){if(this.roffset+t>this.woffset)throw new Error("Outside of the bounds of writen data.");return this.roffset+=t,this.roffset-t};var be;(function(e){e[e.RESERVED=0]="RESERVED",e[e.PUT_COMPONENT=1]="PUT_COMPONENT",e[e.DELETE_COMPONENT=2]="DELETE_COMPONENT",e[e.DELETE_ENTITY=3]="DELETE_ENTITY",e[e.APPEND_VALUE=4]="APPEND_VALUE",e[e.PUT_COMPONENT_NETWORK=5]="PUT_COMPONENT_NETWORK",e[e.DELETE_COMPONENT_NETWORK=6]="DELETE_COMPONENT_NETWORK",e[e.DELETE_ENTITY_NETWORK=7]="DELETE_ENTITY_NETWORK",e[e.MAX_MESSAGE_TYPE=8]="MAX_MESSAGE_TYPE"})(be||(be={}));var hn=8,vr;(function(e){e[e.StateUpdatedTimestamp=1]="StateUpdatedTimestamp",e[e.StateOutdatedTimestamp=2]="StateOutdatedTimestamp",e[e.NoChanges=3]="NoChanges",e[e.StateOutdatedData=4]="StateOutdatedData",e[e.StateUpdatedData=5]="StateUpdatedData",e[e.EntityWasDeleted=6]="EntityWasDeleted",e[e.EntityDeleted=7]="EntityDeleted"})(vr||(vr={}));var In;(function(e){function t(a){let f=a.remainingBytes();if(f<hn)return!1;let c=a.getUint32(a.currentReadOffset());return!(f<c)}e.validate=t;function r(a){return t(a)?{length:a.readUint32(),type:a.readUint32()}:null}e.readHeader=r;function n(a){if(!t(a))return null;let f=a.currentReadOffset();return{length:a.getUint32(f),type:a.getUint32(f+4)}}e.getHeader=n;function s(a){let f=n(a);return f?(a.incrementReadOffset(f.length),!0):!1}e.consumeMessage=s})(In||(In={}));var li;(function(e){e.MESSAGE_HEADER_LENGTH=12;function t(n,s,a,f){let c=hn+e.MESSAGE_HEADER_LENGTH,l=f.incrementWriteOffset(c);f.setUint32(l,c),f.setUint32(l+4,be.DELETE_COMPONENT),f.setUint32(l+8,n),f.setUint32(l+12,s),f.setUint32(l+16,a)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.DELETE_COMPONENT)throw new Error("DeleteComponentOperation tried to read another message type.");return{...s,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32()}}e.read=r})(li||(li={}));var ba;(function(e){e.MESSAGE_HEADER_LENGTH=16;function t(n,s,a,f,c){let l=c.incrementWriteOffset(hn+e.MESSAGE_HEADER_LENGTH);c.writeBuffer(f,!1);let y=c.currentWriteOffset()-l;c.setUint32(l,y),c.setUint32(l+4,be.APPEND_VALUE),c.setUint32(l+8,n),c.setUint32(l+12,a),c.setUint32(l+16,s);let g=y-e.MESSAGE_HEADER_LENGTH-hn;c.setUint32(l+20,g)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.APPEND_VALUE)throw new Error("AppendValueOperation tried to read another message type.");return{...s,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),data:n.readBuffer()}}e.read=r})(ba||(ba={}));var va;(function(e){e.MESSAGE_HEADER_LENGTH=4;function t(n,s){s.writeUint32(hn+4),s.writeUint32(be.DELETE_ENTITY),s.writeUint32(n)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.DELETE_ENTITY)throw new Error("DeleteEntity tried to read another message type.");return{...s,entityId:n.readUint32()}}e.read=r})(va||(va={}));var Lo;(function(e){e.MESSAGE_HEADER_LENGTH=16;function t(n,s,a,f,c){let l=c.incrementWriteOffset(hn+e.MESSAGE_HEADER_LENGTH);c.writeBuffer(f,!1);let y=c.currentWriteOffset()-l;c.setUint32(l,y),c.setUint32(l+4,be.PUT_COMPONENT),c.setUint32(l+8,n),c.setUint32(l+12,a),c.setUint32(l+16,s);let g=y-e.MESSAGE_HEADER_LENGTH-hn;c.setUint32(l+20,g)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.PUT_COMPONENT)throw new Error("PutComponentOperation tried to read another message type.");return{...s,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),data:n.readBuffer()}}e.read=r})(Lo||(Lo={}));var el;(function(e){e.MESSAGE_HEADER_LENGTH=20;function t(n,s,a,f,c,l){let y=l.incrementWriteOffset(hn+e.MESSAGE_HEADER_LENGTH);l.writeBuffer(c,!1);let g=l.currentWriteOffset()-y;l.setUint32(y,g),l.setUint32(y+4,be.PUT_COMPONENT_NETWORK),l.setUint32(y+8,n),l.setUint32(y+12,a),l.setUint32(y+16,s),l.setUint32(y+20,f);let M=g-e.MESSAGE_HEADER_LENGTH-hn;l.setUint32(y+24,M)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.PUT_COMPONENT_NETWORK)throw new Error("PutComponentNetworkOperation tried to read another message type.");return{...s,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),networkId:n.readUint32(),data:n.readBuffer()}}e.read=r})(el||(el={}));var tl;(function(e){e.MESSAGE_HEADER_LENGTH=16;function t(n,s,a,f,c){let l=hn+e.MESSAGE_HEADER_LENGTH,y=c.incrementWriteOffset(l);c.setUint32(y,l),c.setUint32(y+4,be.DELETE_COMPONENT_NETWORK),c.setUint32(y+8,n),c.setUint32(y+12,s),c.setUint32(y+16,a),c.setUint32(y+20,f)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.DELETE_COMPONENT_NETWORK)throw new Error("DeleteComponentOperation tried to read another message type.");return{...s,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),networkId:n.readUint32()}}e.read=r})(tl||(tl={}));var nl;(function(e){e.MESSAGE_HEADER_LENGTH=8;function t(n,s,a){a.writeUint32(hn+4),a.writeUint32(be.DELETE_ENTITY_NETWORK),a.writeUint32(n),a.writeUint32(s)}e.write=t;function r(n){let s=In.readHeader(n);if(!s)return null;if(s.type!==be.DELETE_ENTITY_NETWORK)throw new Error("DeleteEntityNetwork tried to read another message type.");return{...s,entityId:n.readUint32(),networkId:n.readUint32()}}e.read=r})(nl||(nl={}));function fd(e){return[be.DELETE_COMPONENT_NETWORK,be.DELETE_ENTITY_NETWORK,be.PUT_COMPONENT_NETWORK].includes(e.type)}function pE(e,t,r,n){let s=r.currentWriteOffset();e.type===be.PUT_COMPONENT_NETWORK?Lo.write(t,e.timestamp,e.componentId,e.data,r):e.type===be.DELETE_COMPONENT_NETWORK?li.write(t,e.componentId,e.timestamp,r):e.type===be.DELETE_ENTITY_NETWORK&&va.write(t,r),n.writeBuffer(r.buffer().subarray(s,r.currentWriteOffset()),!1)}function hE(e,t,r,n){let s=r.currentWriteOffset();e.type===be.PUT_COMPONENT?el.write(t.entityId,e.timestamp,e.componentId,t.networkId,e.data,r):e.type===be.DELETE_COMPONENT?tl.write(t.entityId,e.componentId,e.timestamp,t.networkId,r):e.type===be.DELETE_ENTITY&&nl.write(t.entityId,t.networkId,r),n.writeBuffer(r.buffer().subarray(s,r.currentWriteOffset()),!1)}function dd(e,t,r){let n=t,s=new Jt;if(!n&&"data"in e&&(s.writeBuffer(e.data),n=Ks.deserialize(s),s.resetBuffer()),!n)throw new Error("Invalid parent transform");let a={...n,parent:r};return s.resetBuffer(),Ks.serialize(a,s),s.toBinary()}function yE(e,t){let r=[],n=Zs(e),s=xc(e),a=so(e),f=[],c=[];function l(P){return function(x){let k=new Jt(x),N;for(;N=In.getHeader(k);){let F=k.currentReadOffset(),ae;N.type===be.DELETE_COMPONENT?ae=li.read(k):N.type===be.DELETE_COMPONENT_NETWORK?ae=tl.read(k):N.type===be.PUT_COMPONENT?ae=Lo.read(k):N.type===be.PUT_COMPONENT_NETWORK?ae=el.read(k):N.type===be.DELETE_ENTITY?ae=va.read(k):N.type===be.DELETE_ENTITY_NETWORK?ae=nl.read(k):N.type===be.APPEND_VALUE?ae=ba.read(k):k.incrementReadOffset(N.length),ae&&f.push({...ae,transportId:P,messageBuffer:k.buffer().subarray(F,k.currentReadOffset())})}}}function y(P){return P.splice(0,P.length)}function g(P){if("networkId"in P){for(let[x,k]of e.getEntitiesWith(n))if(k.networkId===P.networkId&&k.entityId===P.entityId)return{entityId:x,network:k}}return{entityId:P.entityId}}async function M(){let P=y(f),S=[];for(let x of P){let{entityId:k,network:N}=g(x);if(fd(x)&&!N&&(k=e.addEntity(),N={entityId:x.entityId,networkId:x.networkId},n.createOrReplace(k,N)),x.type===be.DELETE_ENTITY||x.type===be.DELETE_ENTITY_NETWORK)S.push(k),c.push(x);else{let F=e.entityContainer.getEntityState(k);if(F===Xt.Removed)continue;F===Xt.Unknown&&e.entityContainer.updateUsedEntity(k);let ae=e.getComponentOrNull(x.componentId);if(ae){x.type===be.PUT_COMPONENT&&ae.componentId===a.componentId&&n.has(k)&&s.has(k)&&(x.data=dd(x));let[Ae,ne]=ae.updateFromCrdt({...x,entityId:k});Ae||(c.push(x),t&&t(k,x.type,ae,ne))}else c.push(x)}}for(let x of S){for(let k of e.componentsIter())k.entityDeleted(x,!0);e.entityContainer.updateRemovedEntity(x),t&&t(x,be.DELETE_ENTITY)}}async function w(P){let S=y(c),x=new Jt;for(let N of e.componentsIter())for(let F of N.getCrdtUpdates()){let ae=x.currentWriteOffset();if(r.some(Ae=>Ae.filter(F))&&(F.type===be.PUT_COMPONENT?Lo.write(F.entityId,F.timestamp,F.componentId,F.data,x):F.type===be.DELETE_COMPONENT?li.write(F.entityId,N.componentId,F.timestamp,x):F.type===be.APPEND_VALUE&&ba.write(F.entityId,F.timestamp,F.componentId,F.data,x),S.push({...F,messageBuffer:x.buffer().subarray(ae,x.currentWriteOffset())}),t)){let Ae=F.type===be.PUT_COMPONENT||F.type===be.APPEND_VALUE?N.get(F.entityId):void 0;t(F.entityId,F.type,N,Ae)}}for(let N of P){let F=x.currentWriteOffset();va.write(N,x),S.push({type:be.DELETE_ENTITY,entityId:N,messageBuffer:x.buffer().subarray(F,x.currentWriteOffset())}),t&&t(N,be.DELETE_ENTITY)}let k=new Jt;for(let N in r){let F=Number(N),ae=r[F],Ae=ae.type==="renderer",ne=ae.type==="network";k.resetBuffer();let j=new Jt;for(let oe of S){if(oe.transportId===F||!ae.filter(oe))continue;let{entityId:$}=g(oe),A="componentId"in oe&&oe.componentId===a.componentId&&a.has($)&&s.has($)&&n.has($);if(Ae&&oe.type===be.PUT_COMPONENT&&A){let O=g(s.get($)),H=dd(oe,a.get($),O.entityId),le=j.currentWriteOffset();Lo.write($,oe.timestamp,oe.componentId,H,j),k.writeBuffer(j.buffer().subarray(le,j.currentWriteOffset()),!1);continue}if(Ae&&fd(oe)){let O="data"in oe?oe.data:new Uint8Array;if(A){let H=g(s.get($));O=dd(oe,a.get($),H.entityId)}pE({...oe,data:O},$,j,k);continue}if(ne&&!fd(oe)){let O=n.getOrNull(oe.entityId);if(O){hE(oe,O,j,k);continue}}k.writeBuffer(oe.messageBuffer,!1)}let se=k.currentWriteOffset()?k.toBinary():new Uint8Array([]);await ae.send(se)}}function I(P){let S=r.push(P)-1;P.onmessage=l(S)}return{sendMessages:w,receiveMessages:M,addTransport:I}}var gE;(function(e){let t;(function(r){r[r.NETWORKED=0]="NETWORKED",r[r.RENDERER=1]="RENDERER"})(t=e.SynchronizedEntityType||(e.SynchronizedEntityType={}))})(gE||(gE={}));function vc(e,t){if(e===t)return 0;if(e===null&&t!==null)return-1;if(e!==null&&t===null)return 1;if(e instanceof Uint8Array&&t instanceof Uint8Array){let r=e.byteLength-t.byteLength;if(r!==0)return r>0?1:-1;let n;for(let s=0,a=e.byteLength;s<a;s++)if(n=e[s]-t[s],n!==0)return n>0?1:-1;return 0}if(typeof e=="string"){let r=e.length-t.length;return r!==0?r>0?1:-1:e.localeCompare(t)}return e>t?1:-1}function $p(e){return Object.freeze({...e})}function lb(e,t){let r=(t.get(e)||0)+1;return t.set(e,r),r}function cb(e,t,r,n){return function(a,f){for(let[c,l]of t)if(!(f&&!f(c)))if(n.has(c)){let y=n.get(c),g=new Jt;r.serialize(y,g),Lo.write(c,l,e,g.toBinary(),a)}else li.write(c,e,l,a)}}function ub(e,t,r,n){function s(a){let{entityId:f,timestamp:c}=a,l=t.get(f);if(l===void 0||l<c)return vr.StateUpdatedTimestamp;if(l>c)return vr.StateOutdatedTimestamp;if(a.type===be.DELETE_COMPONENT&&!n.has(f))return vr.NoChanges;let y=0;if(n.has(f)){let g=new Jt;r.serialize(n.get(f),g),y=vc(g.toBinary(),a.data||null)}else y=vc(null,a.data);return y===0?vr.NoChanges:y>0?vr.StateOutdatedData:vr.StateUpdatedData}return a=>{if(a.type!==be.PUT_COMPONENT&&a.type!==be.PUT_COMPONENT_NETWORK&&a.type!==be.DELETE_COMPONENT&&a.type!==be.DELETE_COMPONENT_NETWORK)return[null,n.get(a.entityId)];let f=s(a),c=a.entityId;switch(f){case vr.StateUpdatedData:case vr.StateUpdatedTimestamp:{if(t.set(c,a.timestamp),a.type===be.PUT_COMPONENT||a.type===be.PUT_COMPONENT_NETWORK){let l=new Jt(a.data);n.set(c,r.deserialize(l))}else n.delete(c);return[null,n.get(c)]}case vr.StateOutdatedTimestamp:case vr.StateOutdatedData:if(n.has(c)){let l=new Jt;return r.serialize(n.get(c),l),[{type:be.PUT_COMPONENT,componentId:e,data:l.toBinary(),entityId:c,timestamp:t.get(c)},n.get(c)]}else return[{type:be.DELETE_COMPONENT,componentId:e,entityId:c,timestamp:t.get(c)},void 0]}return[null,n.get(c)]}}function fb(e,t,r,n,s){return function*(){for(let a of r){let f=lb(a,t);if(s.has(a)){let c=new Jt;n.serialize(s.get(a),c),yield{type:be.PUT_COMPONENT,componentId:e,entityId:a,data:c.toBinary(),timestamp:f}}else yield{type:be.DELETE_COMPONENT,componentId:e,entityId:a,timestamp:f}}r.clear()}}function Kp(e,t,r){let n=new Map,s=new Set,a=new Map,f=new Map;return{get componentId(){return t},get componentName(){return e},get componentType(){return 0},schema:r,has(c){return n.has(c)},deleteFrom(c,l=!0){let y=n.get(c);return n.delete(c)&&l&&s.add(c),y||null},entityDeleted(c,l){n.delete(c)&&l&&s.add(c)},getOrNull(c){let l=n.get(c);return l?$p(l):null},get(c){let l=n.get(c);if(!l)throw new Error(`[getFrom] Component ${e} for entity #${c} not found`);return $p(l)},create(c,l){if(n.get(c))throw new Error(`[create] Component ${e} for ${c} already exists`);let g=l===void 0?r.create():r.extend?r.extend(l):l;return n.set(c,g),s.add(c),g},createOrReplace(c,l){let y=l===void 0?r.create():r.extend?r.extend(l):l;return n.set(c,y),s.add(c),y},getMutableOrNull(c){let l=n.get(c);return l?(s.add(c),l):null},getOrCreateMutable(c,l){let y=n.get(c);return y?(s.add(c),y):this.create(c,l)},getMutable(c){let l=this.getMutableOrNull(c);if(l===null)throw new Error(`[mutable] Component ${e} for ${c} not found`);return l},*iterator(){for(let[c,l]of n)yield[c,l]},*dirtyIterator(){for(let c of s)yield c},getCrdtUpdates:fb(t,a,s,r,n),updateFromCrdt:ub(t,a,r,n),dumpCrdtStateToBuffer:cb(t,a,r,n),onChange(c,l){let y=f.get(c)??[];y.push(l),f.set(c,y)},__onChangeCallbacks(c,l){let y=f.get(c);if(y)for(let g of y)g(l)}}}function EE(){let e=[];function t(){e.sort((s,a)=>a.priority-s.priority)}function r(s,a,f){let c=f??s.name;if(e.find(l=>l.fn===s))throw new Error(`System ${JSON.stringify(c)} already added to the engine`);e.push({fn:s,priority:a,name:c}),t()}function n(s){let a=-1;return typeof s=="string"?a=e.findIndex(f=>f.name===s):a=e.findIndex(f=>f.fn===s),a===-1?!1:(e.splice(a,1),t(),!0)}return{add:r,remove:n,getSystems(){return e}}}var Zp=SE(new Set);function TE(){throw new Error("The set is frozen")}function SE(e){return e.add=TE,e.clear=TE,e}function db(e,t){return e.timestamp>t.timestamp?1:-1}function xE(e,t,r,n){let s=new Map,a=new Set,f=[],c=new Map;function l(w){let I=w.raw.length;return I>1&&w.raw[I-1].timestamp<=w.raw[I-2].timestamp}function y(w){let I=s.get(w);if(I){for(l(I)&&I.raw.sort(db);I.raw.length>n.maxElements;)I.raw.shift();let P=SE(new Set(I?.raw.map(S=>S.value)));return I.frozenSet=P,P}else return Zp}function g(w,I){let P=s.get(w);P||(P={raw:[],frozenSet:Zp},s.set(w,P));let S=r.extend?r.extend(I):I,x=n.timestampFunction(S);return Jp&&Object.freeze(S),P.raw.push({value:S,timestamp:x}),{set:y(w),value:S}}return{get componentId(){return t},get componentName(){return e},get componentType(){return 1},schema:r,has(w){return s.has(w)},entityDeleted(w){s.delete(w)},get(w){let I=s.get(w);return I?I.frozenSet:Zp},addValue(w,I){let{set:P,value:S}=g(w,I);a.add(w);let x=new Jt;return r.serialize(S,x),f.push({componentId:t,data:x.toBinary(),entityId:w,timestamp:0,type:be.APPEND_VALUE}),P},*iterator(){for(let[w,I]of s)yield[w,I.frozenSet]},*dirtyIterator(){for(let w of a)yield w},getCrdtUpdates(){return a.clear(),f.splice(0,f.length)},updateFromCrdt(w){if(w.type===be.APPEND_VALUE){let I=new Jt(w.data),{value:P}=g(w.entityId,r.deserialize(I));return[null,P]}return[null,void 0]},dumpCrdtStateToBuffer:function(w,I){for(let[P,{raw:S}]of s)if(!(I&&!I(P)))for(let x of S){let k=new Jt;r.serialize(x.value,k),ba.write(P,0,t,k.toBinary(),w)}},onChange(w,I){let P=c.get(w)??[];P.push(I),c.set(w,P)},__onChangeCallbacks(w,I){let P=c.get(w);if(P)for(let S of P)S(I)}}}function*bE(e,t){if(t.has(e)){t.delete(e);for(let[r,n]of t)n.parent===e&&(yield*bE(r,t));yield e}}function mb(e,t,r){let n=new Map(e.getEntitiesWith(r));return bE(t,n)}function vE(e,t){let r=xc(e),n=Zs(e);e.removeEntity(t);let s=n.getOrNull(t);if(s)for(let[a,f]of e.getEntitiesWith(r))f.entityId===s.entityId&&f.networkId===s.networkId&&vE(e,a)}function wE(e,t){let r=so(e);if(Zs(e).has(t))return vE(e,t);for(let s of mb(e,t,r))e.removeEntity(s)}var kE=[0,1,2,4,5,6,7,8,9,10,11,12,13],pb=1<<20;function CE(e){let t=lc(e),r={previousFrameMaxTimestamp:0,currentFrameMaxTimestamp:0,buttonState:new Map,thisFrameCommands:[]};function n(S,x,k){let N=t.get(k);for(let F of Array.from(N).reverse())if(F.button===x&&F.state===S)return F}function*s(S,x){let k=t.get(x);for(let N of Array.from(k).reverse())N.button===S&&(yield N)}function a(){let S=r.currentFrameMaxTimestamp;r.previousFrameMaxTimestamp=S,r.thisFrameCommands.length&&(r.thisFrameCommands=[]);for(let[,x]of e.getEntitiesWith(t)){let k=Array.from(x);for(let N=k.length-1;N>=0;N--){let F=k[N];if(F.timestamp>S&&(S=F.timestamp),F.timestamp>r.previousFrameMaxTimestamp&&r.thisFrameCommands.push(F),F.state===0||F.state===1){let ae=r.buttonState.get(F.button);if(!ae||F.timestamp>ae.timestamp)r.buttonState.set(F.button,F);else break}}}r.currentFrameMaxTimestamp=S}e.addSystem(a,pb,"@dcl/ecs#inputSystem");function f(S){return S>r.previousFrameMaxTimestamp&&S<=r.currentFrameMaxTimestamp}function c(S,x){if(S!==3)return l(S,x);for(let k of kE){let N=l(k,x);if(N)return N}return null}function l(S,x){let k=null,N=null;for(let F of s(S,x))if(N){if(!k&&F.state===1){k=F;break}}else if(F.state===0){N=F;continue}return!N||!k?null:k.timestamp<N.timestamp&&f(N.timestamp)?{up:N,down:k}:null}function y(S,x,k){if(S!==3)return M(S,x,k);for(let N of kE){let F=M(N,x,k);if(F)return F}return null}function g(S,x,k){if(k)return y(S,x,k);for(let N of r.thisFrameCommands)if((N.button===S||S===3)&&N.state===x)return N;return null}function M(S,x,k){let N=n(x,S,k);return N&&f(N.timestamp)?N:null}function w(S,x){return c(S,x)!==null}function I(S,x,k){if(k){let N=n(x,S,k);return N&&f(N.timestamp)||!1}else{for(let N of r.thisFrameCommands)if((N.button===S||S===3)&&N.state===x)return!0;return!1}}function P(S){return r.buttonState.get(S)?.state===1}return{isPressed:P,getClick:c,getInputCommand:g,isClicked:w,isTriggered:I}}var IE;(function(e){e[e.LastWriteWinElementSet=0]="LastWriteWinElementSet",e[e.GrowOnlyValueSet=1]="GrowOnlyValueSet"})(IE||(IE={}));function yb(e){let t=e?.entityContainer??mE(),r=new Map,n=EE(),s=!1;function a(j,se=1e5,oe){n.add(j,se,oe)}function f(j){return n.remove(j)}function c(){return t.generateEntity()}function l(j){for(let[,se]of r)se.componentName!=="core-schema::Network-Entity"&&se.entityDeleted(j,!0);return t.removeEntity(j)}function y(j){return wE({removeEntity:l,defineComponentFromSchema:M,getEntitiesWith:x,defineComponent:I},j)}function g(j,se){if(s)throw new Error("Engine is already sealed. No components can be added at this stage");let oe=Do(j);if(r.get(oe))throw new Error(`Component number ${oe} was already registered.`);if(se.componentName!==j)throw new Error(`Component name doesn't match componentDefinition.componentName ${j} != ${se.componentName}`);if(se.componentId!==oe)throw new Error(`Component number doesn't match componentDefinition.componentId ${oe} != ${se.componentId}`);return r.set(oe,se),se}function M(j,se){let oe=Do(j),$=r.get(oe);if($)return $;if(s)throw new Error("Engine is already sealed. No components can be added at this stage");let A=Kp(j,oe,se);return r.set(oe,A),A}function w(j,se,oe){let $=Do(j),A=r.get($);if(A)return A;if(s)throw new Error("Engine is already sealed. No components can be added at this stage");let O=xE(j,$,se,oe);return r.set($,O),O}function I(j,se,oe){let $=Do(j),A=r.get($);if(A)return A;if(s)throw new Error("Engine is already sealed. No components can be added at this stage");let O=B.Map(se,oe),H=Kp(j,$,O),le={...H,create(he,Re){return H.create(he,Re)},createOrReplace(he,Re){return H.createOrReplace(he,Re)}};return r.set($,le),le}function P(j){let se=typeof j=="number"?j:Do(j),oe=r.get(se);if(!oe)throw new Error(`Component ${j} not found. You need to declare the components at the beginnig of the engine declaration`);return oe}function S(j){let se=typeof j=="number"?j:Do(j);return r.get(se)??null}function*x(...j){for(let[se,...oe]of N(...j))yield[se,...oe.map($=>$.get(se))]}function k(j){let se=ud({defineComponent:I});for(let[oe,$]of x(se))if($.value===j)return oe;return null}function*N(...j){let[se,...oe]=j;for(let[$]of se.iterator()){let A=!0;for(let O of oe)if(!O.has($)){A=!1;break}A&&(yield[$,...j])}}function F(){return n.getSystems()}function ae(){return r.values()}function Ae(j){if(s)throw new Error("Engine is already sealed. No components can be removed at this stage");let se=typeof j=="number"?j:Do(j);r.delete(se)}so({defineComponentFromSchema:M});function ne(){s||(s=!0)}return{addEntity:c,removeEntity:l,removeEntityWithChildren:y,addSystem:a,getSystems:F,removeSystem:f,defineComponent:I,defineComponentFromSchema:M,defineValueSetComponentFromSchema:w,getEntitiesWith:x,getComponent:P,getComponentOrNull:S,getEntityOrNullByName:k,removeComponentDefinition:Ae,registerComponentDefinition:g,entityContainer:t,componentsIter:ae,seal:ne}}function AE(e){let t=yb(e),n=yE(t,(a,f,c,l)=>{if(f===be.DELETE_ENTITY)for(let y of t.componentsIter())y?.__onChangeCallbacks(a,void 0);else c?.__onChangeCallbacks(a,l);return e?.onChangeFunction(a,f,c,l)});async function s(a){await n.receiveMessages();for(let c of t.getSystems()){let l=c.fn(a);bc(l,`A system (${c.name||"anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`)}let f=t.entityContainer.releaseRemovedEntities();await n.sendMessages(f)}return{_id:Date.now(),addEntity:t.addEntity,removeEntity:t.removeEntity,removeEntityWithChildren:t.removeEntityWithChildren,addSystem:t.addSystem,removeSystem:t.removeSystem,defineComponent:t.defineComponent,defineComponentFromSchema:t.defineComponentFromSchema,defineValueSetComponentFromSchema:t.defineValueSetComponentFromSchema,registerComponentDefinition:t.registerComponentDefinition,getEntitiesWith:t.getEntitiesWith,getComponent:t.getComponent,getComponentOrNull:t.getComponentOrNull,removeComponentDefinition:t.removeComponentDefinition,componentsIter:t.componentsIter,seal:t.seal,getEntityOrNullByName:t.getEntityOrNullByName,update:s,RootEntity:0,PlayerEntity:1,CameraEntity:2,getEntityState:t.entityContainer.getEntityState,addTransport:n.addTransport,entityContainer:t.entityContainer}}function gb(e){let t=Array.from(e);return e.length=0,t}function RE(e){let t=[];async function r(s){try{return await s()}catch(a){console.error(a)}}function n(){for(let s of gb(t))r(s).catch(console.error)}return e.addSystem(n),function(s){t.push(s)}}function PE(e,t){let r=Sa(e),n;(function(I){I[I.Click=0]="Click",I[I.Down=1]="Down",I[I.Up=2]="Up"})(n||(n={}));let s=(I={})=>({button:3,...I}),a=new Map;function f(I){return a.get(I)||a.set(I,new Map).get(I)}function c(I,P,S){(S.hoverText||S.showFeedback)&&(r.getMutableOrNull(I)||r.create(I)).pointerEvents.push({eventType:P,eventInfo:{button:S.button,showFeedback:S.showFeedback,hoverText:S.hoverText,maxDistance:S.maxDistance}})}function l(I,P,S){let x=r.getMutableOrNull(I);x&&(x.pointerEvents=x.pointerEvents.filter(k=>!(k.eventInfo?.button===S&&k.eventType===P)))}function y(I){return I===n.Up?0:1}function g(I,P){let S=f(I),x=S.get(P);x?.opts.hoverText&&l(I,y(P),x.opts.button),S.delete(P)}e.addSystem(function(){for(let[P,S]of a){if(e.getEntityState(P)===Xt.Removed){a.delete(P);continue}for(let[x,{cb:k,opts:N}]of S){if(x===n.Click){let F=t.getClick(N.button,P);F&&bc(k(F.up),"Click event returned a thenable. Only synchronous functions are allowed")}if(x===n.Down||x===n.Up){let F=t.getInputCommand(N.button,y(x),P);F&&bc(k(F),"Event handler returned a thenable. Only synchronous functions are allowed")}}}});let M=(...I)=>{let[P,S,x]=I;if(typeof P=="number")return M({entity:P,opts:x??{}},S);let{entity:k,opts:N}=P,F=s(N);g(k,n.Down),f(k).set(n.Down,{cb:S,opts:F}),c(k,1,F)},w=(...I)=>{let[P,S,x]=I;if(typeof P=="number")return w({entity:P,opts:x??{}},S);let{entity:k,opts:N}=P,F=s(N);g(k,n.Up),f(k).set(n.Up,{cb:S,opts:F}),c(k,0,F)};return{removeOnClick(I){g(I,n.Click)},removeOnPointerDown(I){g(I,n.Down)},removeOnPointerUp(I){g(I,n.Up)},onClick(I,P){let{entity:S}=I,x=s(I.opts);g(S,n.Click),f(S).set(n.Click,{cb:P,opts:x}),c(S,1,x)},onPointerDown:M,onPointerUp:w}}function NE(e){let t=Gf(e),r=Hf(e),n=new Map,s={maxDistance:16,queryType:0,continuous:!1,originOffset:{x:0,y:0,z:0},collisionMask:2},a=(x={})=>({...s,...x,directionRawValue:{$case:"localDirection",localDirection:x.direction||{x:0,y:0,z:1}}}),f=(x={})=>({...s,...x,directionRawValue:{$case:"globalDirection",globalDirection:x.direction||{x:0,y:0,z:1}}}),c=(x={})=>({...s,...x,directionRawValue:{$case:"globalTarget",globalTarget:x.target||{x:0,y:0,z:0}}}),l=(x={})=>({...s,...x,directionRawValue:{$case:"targetEntity",targetEntity:x.targetEntity||0}}),y=[];function g(x,k,N){let F=()=>{let ae=t.createOrReplace(x);ae.maxDistance=k.maxDistance,ae.originOffset=k.originOffset,ae.collisionMask=k.collisionMask,ae.direction=k.directionRawValue,ae.continuous=k.continuous,ae.queryType=k.queryType,n.set(x,{callback:N})};y.push(F)}function M(x){t.deleteFrom(x),r.deleteFrom(x),n.delete(x)}e.addSystem(function(){for(let k of y)k();y.length=0;for(let[k,N]of n){let F=t.getOrNull(k);if(e.getEntityState(k)===Xt.Removed||!F){n.delete(k);continue}let ae=r.getOrNull(k);ae&&(N.callback(ae),F.continuous||M(k))}});let w=(...x)=>{let[k,N,F]=x;if(typeof k=="number")return w({entity:k,opts:F??{}},N);let{entity:ae,opts:Ae}=k;g(ae,a(Ae),N)},I=(...x)=>{let[k,N,F]=x;if(typeof k=="number")return I({entity:k,opts:F??{}},N);let{entity:ae,opts:Ae}=k;g(ae,f(Ae),N)},P=(...x)=>{let[k,N,F]=x;if(typeof k=="number")return P({entity:k,opts:F??{}},N);let{entity:ae,opts:Ae}=k;g(ae,c(Ae),N)},S=(...x)=>{let[k,N,F]=x;if(typeof k=="number")return S({entity:k,opts:F??{}},N);let{entity:ae,opts:Ae}=k;g(ae,l(Ae),N)};return{removeRaycasterEntity(x){M(x)},registerLocalDirectionRaycast:w,registerGlobalDirectionRaycast:I,registerGlobalTargetRaycast:P,registerTargetEntityRaycast:S,registerRaycast(x,k){t.getOrNull(x)||t.create(x,{...k,direction:k.directionRawValue});let F=r.getOrNull(x);return F&&(k.continuous||(r.deleteFrom(x),t.deleteFrom(x))),F},localDirectionOptions:a,globalDirectionOptions:f,globalTargetOptions:c,targetEntitytOptions:l}}function ME(e){let t=cc(e),r=Xf(e),n=new Map;function s(c,l){n.set(c,{callback:l})}function a(c){n.delete(c)}function f(c){return n.has(c)}return e.addSystem(function(){for(let[l,y]of n){let g=t.getOrNull(l);if(e.getEntityState(l)===Xt.Removed||!g){a(l);continue}let M=r.get(l),I=Array.from(M.values())[M.size-1];I===void 0||y.lastVideoState!==void 0&&y.lastVideoState===I.state||(y.callback(I),n.set(l,{callback:y.callback,lastVideoState:I.state}))}}),{removeVideoEventsEntity(c){a(c)},registerVideoEventsEntity(c,l){s(c,l)},hasVideoEventsEntity(c){return f(c)},getVideoState(c){let l=r.get(c);return Array.from(l.values())[l.size-1]}}}var Xp=new Map;function _E(e){if(Xp.has(e._id))return Xp.get(e._id);let t=qp(e),r=qf(e),n=jf(e),s=new Map;function a(g){let M=r.getOrNull(g),w=t.getOrNull(g),I=s.get(g);return!M||!w?!1:!!((f(g)||M.state===1)&&!I?.completed&&(I?.frames??0)>2)}function f(g){let M=t.getOrNull(g),w=s.get(g)?.tween;if(M&&!w||!M&&w)return!0;let I=new Jt;return t.schema.serialize(M,I),vc(I.toBinary(),w)}let c=[];e.addSystem(()=>{for(let g of c)g();c.length=0;for(let[g,M]of e.getEntitiesWith(t)){if(f(g)){let I=new Jt;t.schema.serialize(M,I),s.set(g,{tween:I.toBinary(),frames:0,completed:!1,changed:!0});continue}let w=s.get(g);if(w.frames+=1,w.changed=!1,a(g)){w.frames=0,w.completed=!0;let I=n.getOrNull(g);if(!I)continue;let{sequence:P}=I;if(P&&P.length){let[S,...x]=P;t.createOrReplace(g,S);let k=n.getMutable(g);k.sequence=x,I.loop===0&&k.sequence.push(M)}else I.loop===1?t.createOrReplace(g,l(M)):I.loop===0&&(t.deleteFrom(g),s.delete(g),c.push(()=>{t.createOrReplace(g,M)}))}}},Number.NEGATIVE_INFINITY);function l(g){if(g.mode?.$case==="move"&&g.mode.move)return{...g,mode:{...g.mode,move:{start:g.mode.move.end,end:g.mode.move.start}}};if(g.mode?.$case==="rotate"&&g.mode.rotate)return{...g,mode:{...g.mode,rotate:{start:g.mode.rotate.end,end:g.mode.rotate.start}}};if(g.mode?.$case==="scale"&&g.mode.scale)return{...g,mode:{...g.mode,scale:{start:g.mode.scale.end,end:g.mode.scale.start}}};throw new Error("Invalid tween")}let y={tweenCompleted:a};return Xp.set(e._id,y),y}function OE(e){let t=Sa(e),r=cd(e),n=ac(e),s=Ys(e),a=new Set,f=0;function c(l){if(f+=l,!(f<=10)){f=0;for(let[y]of e.getEntitiesWith(t)){if(a.has(y)||n.has(y)||s.has(y))continue;let g=r.getOrNull(y);g&&(g.collisionMask===void 0||g.collisionMask&1)||(a.add(y),console.log(`\u26A0\uFE0F Missing MeshCollider component on entity ${y}. Add a MeshCollider to the entity so it can be clickeable by the player.
See https://docs.decentraland.org/creator/development-guide/sdk7/colliders/#pointer-blocking`))}}}e.removeSystem(c),e.addSystem(c)}var Q=AE(),zi=CE(Q),e0=PE(Q,zi),t0=NE(Q),BE=ME(Q),AM=_E(Q);OE(Q);var md=RE(Q);var zE=oc(Q),DE=Np(Q),UE=ic(Q);var LE=Mp(Q),n0=_p(Q);var co=ac(Q);var pd=sc(Q),r0=Sa(Q),FE=lc(Q),VE=Dp(Q);var Di=Up(Q),Fo=Lp(Q);var WE=Vp(Q);var wa=cc(Q),Je=Wp(Q);var _n;(function(e){e[e.CT_FIRST_PERSON=0]="CT_FIRST_PERSON",e[e.CT_THIRD_PERSON=1]="CT_THIRD_PERSON",e[e.CT_CINEMATIC=2]="CT_CINEMATIC"})(_n||(_n={}));var pe;(function(e){e[e.IA_POINTER=0]="IA_POINTER",e[e.IA_PRIMARY=1]="IA_PRIMARY",e[e.IA_SECONDARY=2]="IA_SECONDARY",e[e.IA_ANY=3]="IA_ANY",e[e.IA_FORWARD=4]="IA_FORWARD",e[e.IA_BACKWARD=5]="IA_BACKWARD",e[e.IA_RIGHT=6]="IA_RIGHT",e[e.IA_LEFT=7]="IA_LEFT",e[e.IA_JUMP=8]="IA_JUMP",e[e.IA_WALK=9]="IA_WALK",e[e.IA_ACTION_3=10]="IA_ACTION_3",e[e.IA_ACTION_4=11]="IA_ACTION_4",e[e.IA_ACTION_5=12]="IA_ACTION_5",e[e.IA_ACTION_6=13]="IA_ACTION_6"})(pe||(pe={}));var jr;(function(e){e[e.PET_UP=0]="PET_UP",e[e.PET_DOWN=1]="PET_DOWN",e[e.PET_HOVER_ENTER=2]="PET_HOVER_ENTER",e[e.PET_HOVER_LEAVE=3]="PET_HOVER_LEAVE"})(jr||(jr={}));var GE;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.NOT_FOUND=2]="NOT_FOUND",e[e.FINISHED_WITH_ERROR=3]="FINISHED_WITH_ERROR",e[e.FINISHED=4]="FINISHED"})(GE||(GE={}));var dr;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(dr||(dr={}));var HE;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(HE||(HE={}));function o0(e){let t=e.getComponentOrNull("composite::root");return t||e.defineComponent("composite::root",{src:B.String,entities:B.Array(B.Map({src:B.Entity,dest:B.Entity}))})}var Eb="/";function Tb(e,t=!1){let r="",n=0,s=-1,a=0,f;for(let c=0;c<=e.length;++c){if(c<e.length)f=e.charCodeAt(c);else{if(f===47)break;f=47}if(f===47){if(!(s===c-1||a===1))if(s!==c-1&&a===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){let l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),s=c,a=0;continue}}else if(r.length===2||r.length===1){r="",n=0,s=c,a=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(s+1,c):r=e.slice(s+1,c),n=c-s-1;s=c,a=0}else f===46&&a!==-1?++a:a=-1}return r}function hd(...e){let t="",r=!1,n;for(let s=e.length-1;s>=-1&&!r;s--){let a;s>=0?a=e[s]:(n===void 0&&(n=Eb),a=n),a.length!==0&&(t=a+"/"+t,r=a.charCodeAt(0)===47)}return t=Tb(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."}function jE(e){if(e.length===0)return".";let t=e.charCodeAt(0),r=t===47,n=-1,s=!0;for(let a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!s){n=a;break}}else s=!1;return n===-1?r?"/":".":r&&n===1?"//":e.slice(0,n)}function yd(e,t){return(e.startsWith(".")?hd(t,e):hd(e)).substring(1)}var rl;(function(e){e[e.EMM_NONE=0]="EMM_NONE",e[e.EMM_NEXT_AVAILABLE=1]="EMM_NEXT_AVAILABLE",e[e.EMM_DIRECT_MAPPING=2]="EMM_DIRECT_MAPPING"})(rl||(rl={}));function qE(e,t){return t.data?.$case==="json"?t.data.json:e.schema.deserialize(new Jt(t.data?.binary))}function xb(e,t){let r=e.getComponentOrNull(t.name);if(r)return r;if(t.name.startsWith("core::")){if(t.name in Gp)return Gp[t.name](e);throw new Error(`The core component ${t.name} was not found.`)}else{if(t.jsonSchema)return e.defineComponentFromSchema(t.name,B.fromJson(t.jsonSchema));throw new Error(`${t.name} is not defined and there is no schema to define it.`)}}function bb(e,t,r,{entityMapping:n}){let s=r.get(t);if(s)return s;if(n?.type===rl.EMM_DIRECT_MAPPING){let f=n.getCompositeEntity(t);return r.set(t,f),f}let a=n?.type===rl.EMM_NEXT_AVAILABLE?n.getNextAvailableEntity():e.addEntity();if(a===null)throw new Error("There is no more entities to allocate");return r.set(t,a),a}function i0(e,t,r,n){let{rootEntity:s,alreadyRequestedSrc:a,entityMapping:f}=n,c=a||new Set,l=jE(hd(t.src)),y=Do("core::Transform"),g=o0(e),M=new Map,w=x=>bb(e,x,M,n),I=s??w(0);s&&M.set(0,s);let P=t.composite.components.find(x=>x.name===g.componentName);if(P)for(let[x,k]of P.data){let N=qE(g,k),F=yd(N.src,l),ae=r.getCompositeOrNull(F),Ae=w(x);if(ae){if(c.has(ae.src)||ae.src===t.src)throw new Error(`Composite ${t.src} has a recursive instanciation while try to instance ${ae.src}. Previous instances: ${c.toString()}`);i0(e,ae,r,{rootEntity:Ae,alreadyRequestedSrc:new Set(c).add(ae.src),entityMapping:f?.type===rl.EMM_NEXT_AVAILABLE?f:void 0})}}for(let x of t.composite.components){if(x.name===g.componentName)continue;let k=xb(e,x);for(let[N,F]of x.data){let ae=qE(k,F),Ae=w(N),ne=k.create(Ae,ae);if(k.componentId===y){let j=ne;j.parent?j.parent=w(j.parent):j.parent=w(0)}else B.mutateNestedValues(k.schema.jsonSchema,ne,(j,se)=>se.serializationType==="entity"?{changed:!0,value:w(j)}:{changed:!1})}}let S=g.getMutableOrNull(I)||g.create(I);for(let[x,k]of M)S.entities.push({src:x,dest:k});return S.src=t.src,I}var kr=_e(Le());var wr=_e(Le());var QE;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(QE||(QE={}));function vb(e){switch(e){case 0:case"NULL_VALUE":return 0;default:throw new KE.Error("Unrecognized enum value "+e+" for enum NullValue")}}function wb(e){switch(e){case 0:return"NULL_VALUE";default:throw new KE.Error("Unrecognized enum value "+e+" for enum NullValue")}}function YE(){return{fields:new Map}}var ol;(function(e){function t(c,l=wr.default.Writer.create()){return c.fields.forEach((y,g)=>{y!==void 0&&gd.encode({key:g,value:y},l.uint32(10).fork()).ldelim()}),l}e.encode=t;function r(c,l){let y=c instanceof wr.default.Reader?c:wr.default.Reader.create(c),g=l===void 0?y.len:y.pos+l,M=YE();for(;y.pos<g;){let w=y.uint32();switch(w>>>3){case 1:if(w!==10)break;let I=gd.decode(y,y.uint32());I.value!==void 0&&M.fields.set(I.key,I.value);continue}if((w&7)===4||w===0)break;y.skipType(w&7)}return M}e.decode=r;function n(c){return{fields:Cb(c.fields)?Object.entries(c.fields).reduce((l,[y,g])=>(l.set(y,g),l),new Map):new Map}}e.fromJSON=n;function s(c){let l={};return l.fields={},c.fields&&c.fields.forEach((y,g)=>{l.fields[g]=y}),l}e.toJSON=s;function a(c){let l=YE();return c!==void 0&&Object.keys(c).forEach(y=>{l.fields.set(y,c[y])}),l}e.wrap=a;function f(c){let l={};return[...c.fields.keys()].forEach(y=>{l[y]=c.fields.get(y)}),l}e.unwrap=f})(ol||(ol={}));function kb(){return{key:"",value:void 0}}var gd;(function(e){function t(a,f=wr.default.Writer.create()){return a.key!==""&&f.uint32(10).string(a.key),a.value!==void 0&&yn.encode(yn.wrap(a.value),f.uint32(18).fork()).ldelim(),f}e.encode=t;function r(a,f){let c=a instanceof wr.default.Reader?a:wr.default.Reader.create(a),l=f===void 0?c.len:c.pos+f,y=kb();for(;c.pos<l;){let g=c.uint32();switch(g>>>3){case 1:if(g!==10)break;y.key=c.string();continue;case 2:if(g!==18)break;y.value=yn.unwrap(yn.decode(c,c.uint32()));continue}if((g&7)===4||g===0)break;c.skipType(g&7)}return y}e.decode=r;function n(a){return{key:Ui(a.key)?String(a.key):"",value:Ui(a?.value)?a.value:void 0}}e.fromJSON=n;function s(a){let f={};return a.key!==void 0&&(f.key=a.key),a.value!==void 0&&(f.value=a.value),f}e.toJSON=s})(gd||(gd={}));function JE(){return{kind:void 0}}var yn;(function(e){function t(c,l=wr.default.Writer.create()){switch(c.kind?.$case){case"nullValue":l.uint32(8).int32(c.kind.nullValue);break;case"numberValue":l.uint32(17).double(c.kind.numberValue);break;case"stringValue":l.uint32(26).string(c.kind.stringValue);break;case"boolValue":l.uint32(32).bool(c.kind.boolValue);break;case"structValue":ol.encode(ol.wrap(c.kind.structValue),l.uint32(42).fork()).ldelim();break;case"listValue":il.encode(il.wrap(c.kind.listValue),l.uint32(50).fork()).ldelim();break}return l}e.encode=t;function r(c,l){let y=c instanceof wr.default.Reader?c:wr.default.Reader.create(c),g=l===void 0?y.len:y.pos+l,M=JE();for(;y.pos<g;){let w=y.uint32();switch(w>>>3){case 1:if(w!==8)break;M.kind={$case:"nullValue",nullValue:y.int32()};continue;case 2:if(w!==17)break;M.kind={$case:"numberValue",numberValue:y.double()};continue;case 3:if(w!==26)break;M.kind={$case:"stringValue",stringValue:y.string()};continue;case 4:if(w!==32)break;M.kind={$case:"boolValue",boolValue:y.bool()};continue;case 5:if(w!==42)break;M.kind={$case:"structValue",structValue:ol.unwrap(ol.decode(y,y.uint32()))};continue;case 6:if(w!==50)break;M.kind={$case:"listValue",listValue:il.unwrap(il.decode(y,y.uint32()))};continue}if((w&7)===4||w===0)break;y.skipType(w&7)}return M}e.decode=r;function n(c){return{kind:Ui(c.nullValue)?{$case:"nullValue",nullValue:vb(c.nullValue)}:Ui(c.numberValue)?{$case:"numberValue",numberValue:Number(c.numberValue)}:Ui(c.stringValue)?{$case:"stringValue",stringValue:String(c.stringValue)}:Ui(c.boolValue)?{$case:"boolValue",boolValue:!!c.boolValue}:Ui(c.structValue)?{$case:"structValue",structValue:c.structValue}:Ui(c.listValue)?{$case:"listValue",listValue:[...c.listValue]}:void 0}}e.fromJSON=n;function s(c){let l={};return c.kind?.$case==="nullValue"&&(l.nullValue=c.kind?.nullValue!==void 0?wb(c.kind?.nullValue):void 0),c.kind?.$case==="numberValue"&&(l.numberValue=c.kind?.numberValue),c.kind?.$case==="stringValue"&&(l.stringValue=c.kind?.stringValue),c.kind?.$case==="boolValue"&&(l.boolValue=c.kind?.boolValue),c.kind?.$case==="structValue"&&(l.structValue=c.kind?.structValue),c.kind?.$case==="listValue"&&(l.listValue=c.kind?.listValue),l}e.toJSON=s;function a(c){let l=JE();if(c===null)l.kind={$case:"nullValue",nullValue:0};else if(typeof c=="boolean")l.kind={$case:"boolValue",boolValue:c};else if(typeof c=="number")l.kind={$case:"numberValue",numberValue:c};else if(typeof c=="string")l.kind={$case:"stringValue",stringValue:c};else if(Array.isArray(c))l.kind={$case:"listValue",listValue:c};else if(typeof c=="object")l.kind={$case:"structValue",structValue:c};else if(typeof c<"u")throw new Error("Unsupported any value type: "+typeof c);return l}e.wrap=a;function f(c){return c.kind?.$case==="nullValue"?null:c.kind?.$case==="numberValue"?c.kind?.numberValue:c.kind?.$case==="stringValue"?c.kind?.stringValue:c.kind?.$case==="boolValue"?c.kind?.boolValue:c.kind?.$case==="structValue"?c.kind?.structValue:c.kind?.$case==="listValue"?c.kind?.listValue:void 0}e.unwrap=f})(yn||(yn={}));function $E(){return{values:[]}}var il;(function(e){function t(c,l=wr.default.Writer.create()){for(let y of c.values)yn.encode(yn.wrap(y),l.uint32(10).fork()).ldelim();return l}e.encode=t;function r(c,l){let y=c instanceof wr.default.Reader?c:wr.default.Reader.create(c),g=l===void 0?y.len:y.pos+l,M=$E();for(;y.pos<g;){let w=y.uint32();switch(w>>>3){case 1:if(w!==10)break;M.values.push(yn.unwrap(yn.decode(y,y.uint32())));continue}if((w&7)===4||w===0)break;y.skipType(w&7)}return M}e.decode=r;function n(c){return{values:Array.isArray(c?.values)?[...c.values]:[]}}e.fromJSON=n;function s(c){let l={};return c.values?l.values=c.values.map(y=>y):l.values=[],l}e.toJSON=s;function a(c){let l=$E();return l.values=c??[],l}e.wrap=a;function f(c){return c?.hasOwnProperty("values")&&Array.isArray(c.values)?c.values:c}e.unwrap=f})(il||(il={}));var KE=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function Cb(e){return typeof e=="object"&&e!==null}function Ui(e){return e!=null}function Ib(){return{data:void 0}}var Li;(function(e){function t(a,f=kr.default.Writer.create()){switch(a.data?.$case){case"json":yn.encode(yn.wrap(a.data.json),f.uint32(10).fork()).ldelim();break;case"binary":f.uint32(18).bytes(a.data.binary);break}return f}e.encode=t;function r(a,f){let c=a instanceof kr.default.Reader?a:kr.default.Reader.create(a),l=f===void 0?c.len:c.pos+f,y=Ib();for(;c.pos<l;){let g=c.uint32();switch(g>>>3){case 1:if(g!==10)break;y.data={$case:"json",json:yn.unwrap(yn.decode(c,c.uint32()))};continue;case 2:if(g!==18)break;y.data={$case:"binary",binary:c.bytes()};continue}if((g&7)===4||g===0)break;c.skipType(g&7)}return y}e.decode=r;function n(a){return{data:Ca(a.json)?{$case:"json",json:a.json}:Ca(a.binary)?{$case:"binary",binary:Nb(a.binary)}:void 0}}e.fromJSON=n;function s(a){let f={};return a.data?.$case==="json"&&(f.json=a.data?.json),a.data?.$case==="binary"&&(f.binary=a.data?.binary!==void 0?Mb(a.data?.binary):void 0),f}e.toJSON=s})(Li||(Li={}));function Ab(){return{name:"",jsonSchema:void 0,data:new Map}}var al;(function(e){function t(a,f=kr.default.Writer.create()){return a.name!==""&&f.uint32(10).string(a.name),a.jsonSchema!==void 0&&yn.encode(yn.wrap(a.jsonSchema),f.uint32(18).fork()).ldelim(),a.data.forEach((c,l)=>{Ed.encode({key:l,value:c},f.uint32(26).fork()).ldelim()}),f}e.encode=t;function r(a,f){let c=a instanceof kr.default.Reader?a:kr.default.Reader.create(a),l=f===void 0?c.len:c.pos+f,y=Ab();for(;c.pos<l;){let g=c.uint32();switch(g>>>3){case 1:if(g!==10)break;y.name=c.string();continue;case 2:if(g!==18)break;y.jsonSchema=yn.unwrap(yn.decode(c,c.uint32()));continue;case 3:if(g!==26)break;let M=Ed.decode(c,c.uint32());M.value!==void 0&&y.data.set(M.key,M.value);continue}if((g&7)===4||g===0)break;c.skipType(g&7)}return y}e.decode=r;function n(a){return{name:Ca(a.name)?String(a.name):"",jsonSchema:Ca(a?.jsonSchema)?a.jsonSchema:void 0,data:_b(a.data)?Object.entries(a.data).reduce((f,[c,l])=>(f.set(Number(c),Li.fromJSON(l)),f),new Map):new Map}}e.fromJSON=n;function s(a){let f={};return a.name!==void 0&&(f.name=a.name),a.jsonSchema!==void 0&&(f.jsonSchema=a.jsonSchema),f.data={},a.data&&a.data.forEach((c,l)=>{f.data[l]=Li.toJSON(c)}),f}e.toJSON=s})(al||(al={}));function Rb(){return{key:0,value:void 0}}var Ed;(function(e){function t(a,f=kr.default.Writer.create()){return a.key!==0&&f.uint32(8).int32(a.key),a.value!==void 0&&Li.encode(a.value,f.uint32(18).fork()).ldelim(),f}e.encode=t;function r(a,f){let c=a instanceof kr.default.Reader?a:kr.default.Reader.create(a),l=f===void 0?c.len:c.pos+f,y=Rb();for(;c.pos<l;){let g=c.uint32();switch(g>>>3){case 1:if(g!==8)break;y.key=c.int32();continue;case 2:if(g!==18)break;y.value=Li.decode(c,c.uint32());continue}if((g&7)===4||g===0)break;c.skipType(g&7)}return y}e.decode=r;function n(a){return{key:Ca(a.key)?Number(a.key):0,value:Ca(a.value)?Li.fromJSON(a.value):void 0}}e.fromJSON=n;function s(a){let f={};return a.key!==void 0&&(f.key=Math.round(a.key)),a.value!==void 0&&(f.value=a.value?Li.toJSON(a.value):void 0),f}e.toJSON=s})(Ed||(Ed={}));function Pb(){return{version:0,components:[]}}var ka;(function(e){function t(a,f=kr.default.Writer.create()){a.version!==0&&f.uint32(8).int32(a.version);for(let c of a.components)al.encode(c,f.uint32(18).fork()).ldelim();return f}e.encode=t;function r(a,f){let c=a instanceof kr.default.Reader?a:kr.default.Reader.create(a),l=f===void 0?c.len:c.pos+f,y=Pb();for(;c.pos<l;){let g=c.uint32();switch(g>>>3){case 1:if(g!==8)break;y.version=c.int32();continue;case 2:if(g!==18)break;y.components.push(al.decode(c,c.uint32()));continue}if((g&7)===4||g===0)break;c.skipType(g&7)}return y}e.decode=r;function n(a){return{version:Ca(a.version)?Number(a.version):0,components:Array.isArray(a?.components)?a.components.map(f=>al.fromJSON(f)):[]}}e.fromJSON=n;function s(a){let f={};return a.version!==void 0&&(f.version=Math.round(a.version)),a.components?f.components=a.components.map(c=>c?al.toJSON(c):void 0):f.components=[],f}e.toJSON=s})(ka||(ka={}));var sl=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function Nb(e){if(sl.Buffer)return Uint8Array.from(sl.Buffer.from(e,"base64"));{let t=sl.atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}}function Mb(e){if(sl.Buffer)return sl.Buffer.from(e).toString("base64");{let t=[];return e.forEach(r=>{t.push(String.fromCharCode(r))}),sl.btoa(t.join(""))}}function _b(e){return typeof e=="object"&&e!==null}function Ca(e){return e!=null}var Fi;(function(e){function t(c){return ka.fromJSON(c)}e.fromJson=t;function r(c){return ka.decode(c)}e.fromBinary=r;function n(c){return ka.toJSON(c)}e.toJson=n;function s(c){return ka.encode(c).finish()}e.toBinary=s;function a(c,l,y,g={}){i0(c,l,y,g)}e.instance=a;function f(c,l="/"){return yd(c,l)}e.resolveAndNormalizePath=f})(Fi||(Fi={}));var De=so(Q),ft=aE(Q),Vo=sE(Q);var Fe=iE(Q),Cr=lE(Q),uo=cd(Q),S_=ud(Q);var ie=class{static createPosition(t){let r=Q.addEntity();return De.create(r,t),r}static createGltfShape(t,r,n){let s=Q.addEntity();return De.create(s,t),co.create(s,{src:r,invisibleMeshesCollisionMask:qn.CL_PHYSICS|qn.CL_POINTER,visibleMeshesCollisionMask:qn.CL_POINTER|qn.CL_CUSTOM1}),n&&ft.create(s,{states:n}),s}static createBox(t,r=!0){let n=Q.addEntity();return De.create(n,t),Cr.setBox(n),r&&uo.setBox(n),n}static createColliderBox(t){let r=Q.addEntity();return De.create(r,t),uo.setBox(r),r}static createCylinder(t,r,n,s=!0){let a=Q.addEntity();return De.create(a,t),Cr.setCylinder(a,r,n),s&&uo.setCylinder(a,r,n),a}static createPlane(t,r,n=!0){let s=Q.addEntity();return De.create(s,t),Cr.setPlane(s),r&&Fe.setBasicMaterial(s,{texture:Fe.Texture.Common({src:r})}),n&&uo.setPlane(s),s}static createText(t,r){let n=Q.addEntity();return De.create(n,t),Fo.create(n,r),n}},Td=Q.defineComponent("visibilityController",{visible:B.Boolean,originalScale:B.Vector3}),Ot=class e{static attach(t,r=!0){let n=De.getMutableOrNull(t);n&&(Td.createOrReplace(t,{visible:r,originalScale:n.scale}),e.apply(n,n.scale,r))}static set(t,r){let n=Td.getMutableOrNull(t);if(!n)return;n.visible=r;let s=De.getMutableOrNull(t);s&&e.apply(s,n.originalScale,n.visible)}static get(t){let r=Td.getOrNull(t);return r?r.visible:null}static toggle(t){let r=Td.getMutableOrNull(t);if(!r)return;r.visible=!r.visible;let n=De.getMutableOrNull(t);n&&e.apply(n,r.originalScale,r.visible)}static apply(t,r,n){n?t.scale=r:t.scale=p.Zero()}};var a0=Q.defineComponent("multiPointerEvent",{events:B.Array(B.Map({type:B.Number,button:B.Number,hoverText:B.String,maxDistance:B.Number,showFeedback:B.Boolean,passToGlobal:B.Boolean},{button:pe.IA_POINTER,type:jr.PET_DOWN,hoverText:"Interact",maxDistance:100,showFeedback:!0,passToGlobal:!1}))}),Lt=class Lt{static addGlobalEvent(t){let r=`${t.type??jr.PET_DOWN},${t.button??pe.IA_POINTER}`;r in Lt.globalEventMap?Lt.globalEventMap[r].push(t):Lt.globalEventMap[r]=[t]}static setEvents(t,r){if(r.length<=0){Lt.removeEvent(t);return}a0.createOrReplace(t,{events:r.map(n=>this.toComponentParam(n))}),r0.createOrReplace(t,{pointerEvents:r.map(n=>this.toPointerEventParam(n))}),this.entityEventMap[t]={};for(let n of r)n.eventCallback&&(this.entityEventMap[t][`${n.type??jr.PET_DOWN},${n.button??pe.IA_POINTER}`]=n.eventCallback)}static removeEvent(t){t in this.entityEventMap&&(delete this.entityEventMap[t],a0.deleteFrom(t),r0.deleteFrom(t))}static toComponentParam(t){return{type:t.type??jr.PET_DOWN,button:t.button??pe.IA_POINTER,hoverText:t.hoverText??"Interact",maxDistance:t.maxDistance??100,showFeedback:t.showFeedback??!0,passToGlobal:t.passToGlobal??!1}}static toPointerEventParam(t){return{eventType:t.type??jr.PET_DOWN,eventInfo:{button:t.button,hoverText:t.hoverText,maxDistance:t.maxDistance,showFeedback:t.showFeedback}}}static system(t){let r=VE.getOrNull(Q.CameraEntity);r&&r.isPointerLocked!=Lt.prevLocked&&(Lt.prevLocked=r.isPointerLocked,Lt.prevLocked&&(Lt.ignoreFrameCount=0,Lt.ignoreNextClick=!0));let n=Q.getEntitiesWith(a0),s=[];for(let[a,f]of n)for(let c of f.events){let l=zi.getInputCommand(c.button,c.type,a);l&&l.hit&&l?.hit?.length<c.maxDistance&&(Lt.ignoreNextClick&&c.button==pe.IA_POINTER?Lt.ignoreNextClick=!1:(this.entityEventMap[a][`${c.type},${c.button}`](l),c.passToGlobal||s.push(`${c.type},${c.button}`)))}for(let a in Lt.globalEventMap){let[f,c]=a.split(",").map(y=>parseInt(y)),l=zi.getInputCommand(c,f);if(l)for(let y of Lt.globalEventMap[a])!y.alwaysPass&&s.includes(a)||y.eventCallback(l)}Lt.ignoreNextClick&&(Lt.ignoreFrameCount+=1),Lt.ignoreNextClick&&Lt.ignoreFrameCount>=5&&(Lt.ignoreNextClick=!1)}};Lt.entityEventMap={},Lt.globalEventMap={},Lt.prevLocked=!1,Lt.ignoreNextClick=!1,Lt.ignoreFrameCount=0;var wt=Lt;Q.addSystem(e=>wt.system(e));var mt=class{static create(t,r,n=[]){let s=ie.createGltfShape(t,r);return wt.setEvents(s,n),s}};var wc=class wc{static create(t){let r=++wc.timerIdCounter;return t.left=t.initial,this.timerMap[r]=t,r}static setTimeout(t,r){return this.create({callback:t,initial:r,type:0})}static clearTimeout(t){delete this.timerMap[t]}static setInterval(t,r){return this.create({callback:t,initial:r,type:1})}static clearInterval(t){delete this.timerMap[t]}static setFrameTimeout(t,r){return this.create({callback:t,initial:r,type:2})}static callNextFrame(t){return this.setFrameTimeout(t,1)}static clearFrameTimeout(t){delete this.timerMap[t]}static setFrameInterval(t,r){return this.create({callback:t,initial:r,type:3})}static clearFrameInterval(t){delete this.timerMap[t]}static delay(t){return new Promise((r,n)=>{this.setTimeout(()=>r(),t)})}static waitNextFrame(){return new Promise((t,r)=>{this.callNextFrame(()=>t())})}static system(t){for(let r in this.timerMap){let n=this.timerMap[r];n.left-=n.type==3||n.type==2?1:t,n.left<0&&(n.callback(),n.type==1||n.type==3?n.left=n.initial:delete this.timerMap[r])}}};wc.timerIdCounter=0,wc.timerMap={};var gt=wc;Q.addSystem(e=>gt.system(e));var tT=require("~system/Scene");var qe={socketAddress:"wss://virtualclass-4.emg.edu.vn:6868/ws",multilandManagementAddress:"https://virtualclass-4.emg.edu.vn:9000",enableRefreshTimer:!1,enablePassword:!0,EMGSync:!0,themeFeature:0,buildingTemplate:"3",buildingLetter:"A",version:"jenkin_jenkins-DeployContentToDCL_SDK7-104"};var nT=require("~system/UserIdentity");var Vi=class{constructor(t,r){this._unregisterOnNextCall=!1;this.handler=t,this.unregisterHandler=r}get unregisterOnNextCall(){return this._unregisterOnNextCall}set unregisterOnNextCall(t){this._unregisterOnNextCall=t,this._unregisterOnNextCall&&this.unregister()}call(t){this.handler(t)}unregister(){this.unregisterHandler&&this.unregisterHandler(this)}};var f2=_e(d0()),Ir;(function(e){e.createElement=f2.default.createElement})(Ir||(Ir={}));var Q2=_e(I2());var $b={"nine-slices":0,center:1,stretch:2};function R2(e){return{textureMode:e?$b[e]:1}}function P2(e){if(e.texture)return{tex:{$case:"texture",texture:A2(e.texture)}};if(e.avatarTexture)return{tex:{$case:"avatarTexture",avatarTexture:A2(e.avatarTexture)}}}function A2(e){return{...e,wrapMode:e.wrapMode?Kb[e.wrapMode]:void 0,filterMode:e.filterMode?Zb[e.filterMode]:void 0}}var Kb={repeat:0,clamp:1,mirror:2},Zb={point:0,"bi-linear":1,"tri-linear":2};function Ad(e){if(!e||!Object.keys(e).length)return;let t=P2(e);return{...e,...R2(e.textureMode),uvs:e.uvs??[],texture:t}}function N2(e){return`${e[0].toUpperCase()}${e.slice(1,e.length)}`}function Xb(e){return typeof e=="string"&&e.endsWith("%")}function e3(e){return typeof e=="string"&&e.endsWith("px")}function t3(e){return typeof e=="string"&&e.endsWith("vw")}function n3(e){return typeof e=="string"&&e.endsWith("vh")}function M2(e){function t(r,n){return Number(n.slice(0,n.indexOf(r)))}return e==null?[void 0,0]:e==="auto"?[0,3]:typeof e=="number"||typeof e=="string"&&!isNaN(Number(e))?[Number(e),1]:Xb(e)?[t("%",e),2]:e3(e)?[t("px",e),1]:t3(e)||n3(e)?[Pd(e),1]:[void 0,0]}function ci(e={},t){if(typeof e=="object"){let c={};for(let l in e){let y=l,g=`${t}${N2(y)}`,M=`${t}${N2(y)}Unit`,[w,I]=M2(e[y]);w!==void 0&&(c[M]=I,c[g]=w)}return c}if(typeof e=="number")return ci({top:e,left:e,right:e,bottom:e},t);let r=e.split(" ").filter(c=>c!=="");if(r.length===1){let[c]=r;return ci({top:c,left:c,right:c,bottom:c},t)}if(r.length===2){let[c,l]=r;return ci({top:c,left:l,right:l,bottom:c},t)}if(r.length===3){let[c,l,y]=r;return ci({top:c,left:l,right:l,bottom:y},t)}let[n,s,a,f]=r;return ci({top:n,right:s,bottom:a,left:f},t)}function Aa(e,t){let r=`${t}Unit`,[n,s]=M2(e);return n===void 0?{}:{[t]:n,[r]:s}}function _2(e){return{display:e?r3[e]:0}}var r3={flex:0,none:1};function O2(e){return{justifyContent:e?o3[e]:0}}var o3={center:1,"flex-end":2,"flex-start":0,"space-around":4,"space-between":3,"space-evenly":5};function Rd(e,t){let r=i3[t];return{[e]:r}}var i3={auto:0,baseline:5,center:2,"flex-end":3,"flex-start":1,stretch:4,"space-between":6,"space-around":7};function B2(e){return{flexDirection:e?a3[e]:0}}var a3={row:0,column:1,"row-reverse":3,"column-reverse":2};function z2(e){return{flexWrap:s3[e]}}var s3={wrap:1,nowrap:0,"wrap-reverse":2};function D2(e){return{overflow:e?l3[e]:0}}var l3={visible:0,scroll:2,hidden:1};function U2(e){return{positionType:e?c3[e]:0}}var c3={relative:0,absolute:1};function L2(e){return{pointerFilter:e?u3[e]:0}}var u3={none:0,block:1};var b0=0,f3={overflow:0,display:0,justifyContent:0,alignSelf:0,flexDirection:0,positionType:0,parent:b0,rightOf:0,flexBasis:0,width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,flexGrow:0,marginBottom:0,marginBottomUnit:0,marginLeft:0,marginLeftUnit:0,marginRight:0,marginRightUnit:0,marginTop:0,marginTopUnit:0,maxHeightUnit:0,maxWidthUnit:0,minHeightUnit:0,minWidthUnit:0,paddingBottom:0,paddingBottomUnit:0,paddingLeft:0,paddingLeftUnit:0,paddingTopUnit:0,paddingRight:0,paddingRightUnit:0,paddingTop:0,positionBottom:0,positionBottomUnit:0,positionLeft:0,positionLeftUnit:0,positionRight:0,positionRightUnit:0,positionTop:0,positionTopUnit:0,flexBasisUnit:0,widthUnit:3,heightUnit:0,pointerFilter:0};function Nd(e={}){let{height:t,minHeight:r,maxHeight:n,width:s,minWidth:a,maxWidth:f,alignItems:c,alignContent:l,flexWrap:y,...g}=e;return{...f3,...g,...ci(e.position,"position"),...ci(e.margin,"margin"),...ci(e.padding,"padding"),...Aa(e.height,"height"),...Aa(e.minHeight,"minHeight"),...Aa(e.maxHeight,"maxHeight"),...Aa(e.width,"width"),...Aa(e.minWidth,"minWidth"),...Aa(e.maxWidth,"maxWidth"),..._2(e.display),...Rd("alignSelf",e.alignSelf??"auto"),...O2(e.justifyContent),...B2(e.flexDirection),...D2(e.overflow),...L2(e.pointerFilter),...U2(e.positionType),...l&&Rd("alignContent",l),...c&&Rd("alignItems",c),...y&&z2(y)}}function Ra(e){let{uiTransform:t,uiBackground:r,...n}=e,s=Nd(t),a=r?{uiBackground:Ad(r)}:void 0;return{...n,uiTransform:s,...a}}function d3(e){if(typeof e=="number")return[e,"vw"];let t=Number(e.slice(0,-2));return e.endsWith("vh")?[t,"vh"]:e.endsWith("vw")?[t,"vw"]:[NaN,"vw"]}function F2(e,t,r){return t/100*(e/r)}function V2(e=Q){let r=e.getComponent(WE.componentId).getOrNull(e.RootEntity);if(!r)return;let{width:n,height:s,devicePixelRatio:a}=r;return{width:n,height:s,ratio:a}}function Pd(e,t=V2()){let[r,n]=d3(e);if(!t)return r;let{height:s,width:a,ratio:f}=t;return n==="vh"?F2(r,s,f):F2(r,a,f)}var m3={"sans-serif":0,serif:1,monospace:2};function ui(e){if(e)return{font:m3[e]}}var p3={"top-left":0,"top-center":1,"top-right":2,"middle-left":3,"middle-center":4,"middle-right":5,"bottom-left":6,"bottom-center":7,"bottom-right":8};function fi(e){if(e)return{textAlign:p3[e]}}function di(e){if(e)return typeof e=="string"?{fontSize:Pd(e)}:{fontSize:e}}var h3={wrap:0,nowrap:1};function cl(e){return e?{textWrap:h3[e]}:{textWrap:0}}var y3={onMouseDown:void 0,onMouseUp:void 0},g3=Object.keys(y3),Rc=e=>g3.includes(e);function E3(e){let{textAlign:t,font:r,fontSize:n,...s}=e;return{disabled:!1,placeholder:"",...s,...fi(t),...ui(r),...di(n)}}function Pa(e){let{uiTransform:t,uiBackground:r,onMouseDown:n,onMouseUp:s,...a}=e,f=E3(a),c=Ra({uiTransform:t,uiBackground:r,onMouseDown:n,onMouseUp:s});return Ir.createElement("entity",{...c,uiInput:f})}function gn(e){let{uiTransform:t,uiBackground:r,onMouseDown:n,onMouseUp:s,...a}=e,f=Ra({uiTransform:t,uiBackground:r,onMouseDown:n,onMouseUp:s}),{font:c,textAlign:l,fontSize:y,textWrap:g,...M}=a,w={...M,...ui(c),...fi(l),...di(y),...cl(g)};return Ir.createElement("entity",{...f,uiText:w})}function S3(e){return e.variant==="secondary"?{uiBackground:{color:{r:1,g:1,b:1,a:1}},uiText:{color:{r:.98,g:.17,b:.33,a:1}}}:{uiBackground:{color:{r:.98,g:.17,b:.33,a:1}},uiText:{color:{r:1,g:1,b:1,a:1}}}}function Ar(e){let{uiTransform:t,uiBackground:r,onMouseDown:n,onMouseUp:s,...a}=e,f=S3(e),c=Ad({...f.uiBackground,...r}),{font:l,textAlign:y,fontSize:g,textWrap:M,...w}=a,I={...f.uiText,...w,...ui(l),...fi(y),...di(g),...cl(M)},P=Nd({height:36,...t});return e.disabled&&(I.color&&(I.color.a/=2),c&&c.color&&(c.color.a/=2)),Ir.createElement("entity",{onMouseDown:e.disabled?void 0:n,onMouseUp:e.disabled?void 0:s,uiTransform:P,uiText:I,uiBackground:c})}function Be(e){let t=e.uiText&&{uiText:{...e.uiText,...ui(e.uiText.font),...fi(e.uiText.textAlign),...di(e.uiText.fontSize),...cl(e.uiText.textWrap)}};return Ir.createElement("entity",{...Ra(e),...t})}function W2(e,t,r){if(t&&!r)return{type:"delete",component:e};if(!r)return;if(!t&&r)return{type:"add",props:r,component:e};if(Rc(e)&&!v0(t,r))return{type:"put",component:e,props:r};let n={};for(let s in t){let a=s;v0(t[a],r[a])||(n[a]=r[a])}if(Object.keys(n).length)return{type:"put",props:n,component:e}}var x3={uiText:void 0,uiBackground:void 0,uiTransform:void 0,onMouseDown:void 0,onMouseUp:void 0,uiInput:void 0,uiDropdown:void 0},G2=Object.keys(x3);function v0(e,t){if(!e&&!t)return!0;if(!e||!t)return e===t;if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object")return e===t;if(Array.isArray(e)&&Array.isArray(t)&&e.length!==t.length||Object.keys(e).length!==Object.keys(t).length)return!1;if(JSON.stringify(e)===JSON.stringify(t))return!0;for(let r in e)if(!v0(e[r],t[r]))return!1;return!0}var H2=e=>!!e,j2={supportsMutation:!0,supportsPersistence:!1,noTimeout:-1,isPrimaryRenderer:!0,supportsHydration:!1,insertInContainerBefore(e,t,r){},detachDeletedInstance(e){},hideInstance(e){},hideTextInstance(e){},unhideInstance(e,t){},unhideTextInstance(e,t){},clearContainer(e){},getCurrentEventPriority(){return 0},getInstanceFromNode(e){return null},beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},prepareScopeUpdate(){},getInstanceFromScope(){return null},commitMount(e,t,r,n){},resetTextContent(e){},commitTextUpdate(e,t,r){},prepareForCommit(e){return null},resetAfterCommit(e){},preparePortalMount(e){},createTextInstance(e,t,r,n){return{}},scheduleTimeout(e,t){},cancelTimeout(e){},shouldSetTextContent(e,t){return!1},getRootHostContext(e){return null},getChildHostContext(e,t,r){return null},getPublicInstance(e){return e},finalizeInitialChildren(e,t,r,n,s){return!1}};function q2(e){return{onMouseDown:1,onMouseUp:0}[e]}function Y2(e,t){let r=new Set,n=new Map,s=new Map,a=Ys(e),f=Zf(e),c=Qf(e),l=$f(e),y=Kf(e),g=Yf(e),M=Jf(e),w={uiTransform:a.componentId,uiText:f.componentId,uiBackground:c.componentId,uiInput:l.componentId,uiDropdown:g.componentId};function I($,A){let O=s.get($)?.get(A);O&&O()}function P($,A){k($,A,"uiTransform")}function S($,A){if(A.type==="delete"||!A.props){s.get($.entity)?.delete(q2(A.component)),A.component==="onMouseDown"?t.removeOnPointerDown($.entity):A.component==="onMouseUp"&&t.removeOnPointerUp($.entity);return}if(A.props){let O=q2(A.component),H=s.get($.entity)||s.set($.entity,new Map).get($.entity),le=H.get(O);if(H.set(O,A.props),le)return;(A.component==="onMouseDown"?t.onPointerDown:t.onPointerUp)($.entity,()=>I($.entity,O),{button:0,showFeedback:!0})}}function x($,A){let O=w[A];e.getComponent(O).deleteFrom($.entity)}function k($,A={},O){let H=w[O],le="onChange"in A,he="onSubmit"in A,Re=n.get($.entity)?.get(H),$e=le?A.onChange:Re?.onChangeCallback,Ke=he?A.onSubmit:Re?.onSubmitCallback;if((le||he)&&(Ae($.entity,H,{onChangeCallback:$e,onSubmitCallback:Ke}),delete A.onChange,delete A.onSubmit),!Object.keys(A).length)return;let ot=e.getComponent(H),it=ot.getMutableOrNull($.entity)||ot.create($.entity);for(let pt in A){let ut=pt;it[ut]=A[ut]}}function N($){n.delete($.entity),e.removeEntity($.entity);for(let A of $._child)N(A)}function F($,A){if(!A||!Object.keys($).length)return;if($._child.find(H=>H.entity===A.entity)){let H=$._child.find(le=>le.rightOf===A.entity);H&&(H.rightOf=A.rightOf,$._child=$._child.filter(le=>le.entity!==A.entity),$._child.push(A),P(H,{rightOf:H.rightOf})),A.rightOf=$._child[$._child.length-2]?.entity}else A.rightOf=$._child[$._child.length-1]?.entity,$._child.push(A);A.parent=$.entity,P(A,{rightOf:A.rightOf,parent:$.entity})}function ae($,A){let O=$._child.findIndex(le=>le.entity===A.entity),H=$._child[O+1];H&&(H.rightOf=A.rightOf,P(H,{rightOf:A.rightOf})),$._child.splice(O,1),N(A)}function Ae($,A,O){let H=n.get($)||n.set($,new Map).get($),le=H.get(A),he=O?.onChangeCallback,Re=O?.onSubmitCallback,$e=O?.value??le?.value,Ke=O?.isSubmit??le?.isSubmit;H.set(A,{onChangeCallback:he,onSubmitCallback:Re,value:$e,isSubmit:Ke})}let ne={...j2,createInstance($,A){let O=e.addEntity();r.add(O);let H={entity:O,_child:[],parent:b0,rightOf:void 0};for(let le in A){let he=le;he==="children"||he==="key"||(Rc(he)?S(H,{type:"add",props:A[he],component:he}):k(H,A[he],he))}return H},appendChild:F,appendChildToContainer:F,appendInitialChild:F,removeChild:ae,prepareUpdate($,A,O,H){return G2.map(le=>W2(le,O[le],H[le])).filter(H2)},commitUpdate($,A,O,H,le,he){for(let Re of A){if(Rc(Re.component)){S($,Re);continue}Re.type==="delete"?x($,Re.component):Re.props&&k($,Re.props,Re.component)}},insertBefore($,A,O){let H=$._child.findIndex(le=>le.entity===O.entity);$._child=[...$._child.slice(0,H),A,...$._child.slice(H)],A.rightOf=O.rightOf,O.rightOf=A.entity,A.parent=$.entity,P(A,{rightOf:A.rightOf,parent:A.parent}),P(O,{rightOf:O.rightOf})},removeChildFromContainer($,A){N(A)}},j=(0,Q2.default)(ne),se=j.createContainer({},0,null,!1,null,"",function(){},null);function oe($,A){for(let[O,H]of e.getEntitiesWith(A)){let le=n.get(O)?.get($),he=!!H.isSubmit;le?.onChangeCallback&&H.value!==le.value&&le.onChangeCallback(H.value),le?.onSubmitCallback&&he&&!le.isSubmit&&le.onSubmitCallback(H.value),Ae(O,$,{onChangeCallback:le?.onChangeCallback,onSubmitCallback:le?.onSubmitCallback,value:H.value,isSubmit:he})}}return{update:function($){return n.size&&(oe(l.componentId,y),oe(g.componentId,M)),j.updateContainer($,se,null)},getEntities:()=>Array.from(r)}}function J2(e,t){let r=Y2(e,t),n;function s(){n&&r.update(n())}return e.addSystem(s,1e5,"@dcl/react-ecs"),{destroy(){e.removeSystem(s);for(let a of r.getEntities())e.removeEntity(a)},setUiRenderer(a){n=a}}}var $2=J2(Q,e0),K2=Ir;var Ee=K2;var En=class{static middleCenter(t,r=0,n=0){return t.positionType="absolute",t.position={top:"50%",left:"50%"},t.margin={left:-(t.width??0)/2+r,top:-(t.height??0)/2+n},t}static bottomCenter(t,r=0,n=0){return t.positionType="absolute",t.position={bottom:0,left:"50%"},t.margin={left:-(t.width??0)/2+r,bottom:n},t}static slidefullscreen(t,r=0,n=0){return t.positionType="absolute",t.position={bottom:20,left:"10.2%"},t.margin={left:-(t.width??0)/2+r,bottom:n},t}static bottomRight(t,r=0,n=0){return t.positionType="absolute",t.position={bottom:0,right:0},t.margin={right:r,bottom:n},t}static middleLeft(t,r=0,n=0){return t.positionType="absolute",t.position={top:"25%",left:0},t.margin={left:10,top:0},t}},Et=class{static slicedImage(t){return{textureMode:"nine-slices",texture:{src:t},textureSlices:{top:.2,bottom:.2,left:.2,right:.2}}}static image(t,r="stretch"){return{textureMode:r,texture:{src:t}}}},Tn=class{constructor(t,r=!0,n=""){this.visible=!0;this.children=[];this.key="";this.visible=r,this.props=t,this.key=n}setVisible(t){this.visible=t,this.renderProps()}renderProps(){return this.props.uiTransform&&(this.props.uiTransform.display=this.visible?"flex":"none"),this.key&&(this.props.key=this.key),this.props}render(t){return Ee.createElement(Be,{...this.renderProps(),key:this.key+t},this.visible&&this.children.filter(r=>r.visible).map((r,n)=>r.render(`${t}-${n}`)))}},Md=class Md{static render(){return Md.components.filter(t=>t.visible).map((t,r)=>t.render(""+r))}};Md.components=[];var Pc=Md;var Sn=class{constructor(){this.events={}}on(t,r){let n=new Vi(r,s=>this.unregisterEvent(s));return t in this.events?this.events[t].push(n):this.events[t]=[n],n}off(t){delete this.events[t]}emit(t,r=null){t in this.events&&this.events[t].forEach(n=>n.call(r))}unregisterEvent(t){for(let r in this.events)for(let n=this.events[r].length-1;n>=0;n--)if(this.events[r][n]==t){this.events[r].splice(n,1),this.events[r].length<=0&&delete this.events[r];return}}};var _d=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:800,height:600,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r,"objectlist");this.events=new Sn;this.slideModels={};this.currentSlide=0}getModelDisplayName(r){return r in this.slideModels?this.slideModels[r].display??this.slideModels[r].modelName:null}getCurrentModel(){return this.currentSlide in this.slideModels?this.slideModels[this.currentSlide]:null}onSync(){this.events.emit("update",{currentModel:this.getCurrentModel()})}renderItem(r){return Ee.createElement(Be,{key:`modelitem-${r}`,uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"flex-start",width:"100%",margin:{bottom:5},padding:2},uiBackground:{color:this.currentSlide==r?xe.create(1,.5,.1,.4):void 0}},Ee.createElement(Ar,{value:this.currentSlide==r?"Showing":"Show",variant:this.currentSlide==r?"secondary":"primary",uiTransform:{width:100,height:50},fontSize:20,onMouseDown:()=>{console.log(`clicked play on #${r}`),this.events.emit("setSlide",{slideNum:r})}}),Ee.createElement(gn,{value:`#${this.slideModels[r].slide?.toString()}`,color:xe.Blue(),fontSize:28,textAlign:"middle-right",uiTransform:{width:100}}),Ee.createElement(gn,{value:this.getModelDisplayName(r)??"<No name>",color:xe.Black(),fontSize:28,textAlign:"middle-left",uiTransform:{margin:{left:10}}}))}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(gn,{value:"Object list",color:xe.Blue(),fontSize:28,textAlign:"top-center"}),Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%"}},Object.values(this.slideModels).filter(n=>n.slide&&n.slide>0).map(n=>this.renderItem(n.slide))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{this.setVisible(!1)}}))}};var Od=(f=>(f.PAUSE="pause-animate",f.ROTATE="self-rotate",f.MOVEOUT="move-out",f.ZOOMIN="zoom-in",f.FOCUS="focus",f.RESET="reset-animate",f))(Od||{});var Bd=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:720,height:400,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r,"videolist");this.videos=[]}getCurrentItem(){let r=this.videos.find(n=>n.isActive);return r||(this.videos.length>0?this.videos[0]:null)}renderItem(r,n,s,a){return Ee.createElement(Be,{key:"videoitem-"+a,uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"flex-start",width:"100%",margin:{bottom:4},padding:4},uiBackground:{color:s?xe.create(1,.5,.1,.4):void 0}},Ee.createElement(Ar,{value:s?"Playing":"Play",variant:s?"secondary":"primary",uiTransform:{width:100,height:50},fontSize:20,onMouseDown:()=>{console.log(`clicked play on #${a} ${r}`),this.videos.forEach((f,c)=>{f.isActive=c==a}),Ne.emit("screen.setVideo",{mode:2,url:n,title:r}),He.emit("status.set",[{name:"slideVideoMode",value:2},{name:"videoUrl",value:JSON.stringify(this.videos)},{name:"videoPosition",value:0}])}}),Ee.createElement(gn,{value:r,color:xe.Black(),fontSize:28,textAlign:"middle-left",uiTransform:{margin:{left:10}}}))}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(gn,{value:"Video list",color:xe.Blue(),fontSize:28,textAlign:"top-center"}),Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%"}},this.videos.map((n,s)=>this.renderItem(n.name,n.url,n.isActive,s))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{console.log("Dialog close"),this.setVisible(!1)}}))}};var zd=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:400,height:200,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r,"slidejump");this.events=new Sn;this.maxSlide=20;this.currentSlide=1;this.errorText=""}show(r,n){this.currentSlide=r,this.maxSlide=n,this.inputValue=this.currentSlide.toString(),this.setVisible(!0)}validateInput(){return isNaN(Number(this.inputValue))||Number(this.inputValue)>this.maxSlide||Number(this.inputValue)<1?(this.errorText=`Must input number from 1 to ${this.maxSlide}`,!1):!0}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(gn,{value:"Jump to Slide",color:xe.Blue(),fontSize:28,textAlign:"top-center"}),Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%"}},Ee.createElement(Pa,{onChange:n=>{this.inputValue=n},fontSize:17,placeholder:"Input Slide num",placeholderColor:xe.Gray(),value:this.currentSlide.toString(),textAlign:"middle-center",onSubmit:()=>{this.validateInput()&&(this.events.emit("setSlide",{slideNum:Number(this.inputValue)}),this.setVisible(!1))}}),Ee.createElement(gn,{value:this.errorText,color:xe.Red(),fontSize:20,uiTransform:{margin:{bottom:10},height:30,width:"100%"}}),Ee.createElement(Be,{uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"center",width:"100%",margin:{top:10}}},Ee.createElement(Ar,{value:"Submit",variant:"primary",uiTransform:{width:100,height:50},fontSize:20,onMouseDown:()=>{this.validateInput()&&(this.events.emit("setSlide",{slideNum:Number(this.inputValue)}),this.setVisible(!1))}}))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{console.log("Dialog close"),this.setVisible(!1)}}))}};var Z2=require("~system/UserIdentity"),lt={id:"",username:"Guest",role:0,isAuth:!1};md(async()=>{let e=await(0,Z2.getUserData)({});lt.id=e.data?.userId??"",lt.username=e.data?.displayName??"Guest"});var Dd=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:400,height:200,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r,"passworddialog");this.errorText=""}async checkPassword(r){this.errorText="",He.isConnected||await He.connect();let n=await He.emitAndWait("user.auth",{username:lt.username,password:r},"user.auth.info");n?(lt.role=n.role,lt.isAuth=!0,console.log("Auth success: ",lt),this.setVisible(!1),He.password=r,this.onCorrectPassword?.(),He.onPlayerInsideScene()):(this.errorText="Wrong password",He.onPlayerOutsideScene())}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(gn,{value:"Enter password",color:xe.Blue(),fontSize:28,textAlign:"top-center"}),Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"center",width:"100%",margin:{top:12}}},Ee.createElement(Pa,{onChange:n=>{this.inputValue=n},fontSize:17,placeholder:"Enter password",placeholderColor:xe.Gray(),textAlign:"middle-center",onSubmit:()=>{this.onSubmit?.(this.inputValue??""),this.checkPassword(this.inputValue??"")}}),Ee.createElement(gn,{value:this.errorText,color:xe.Red(),fontSize:20,textAlign:"middle-center",uiTransform:{margin:{bottom:8},height:25,width:"100%"}}),Ee.createElement(Be,{uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"center",width:"100%"}},Ee.createElement(Ar,{value:"Submit",variant:"primary",uiTransform:{width:100,height:50},fontSize:20,onMouseDown:()=>{this.onSubmit?.(this.inputValue??""),this.checkPassword(this.inputValue??"")}}))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{console.log("Dialog close"),this.setVisible(!1)}}))}};var Ud=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:350,height:150,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r);this.errorText="Server connection error"}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%",margin:{top:30}}},Ee.createElement(gn,{value:this.errorText,color:xe.Red(),fontSize:26,uiTransform:{margin:{bottom:10},height:30,width:"100%"}}),Ee.createElement(Be,{uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"center",width:"100%",margin:{top:10}}},Ee.createElement(Ar,{value:"Reconnect",variant:"primary",uiTransform:{width:120,height:50},fontSize:20,onMouseDown:()=>{this.onReconnect&&this.onReconnect()}}))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{this.setVisible(!1)}}))}};var Ld=class extends Tn{constructor(r=!1){super({uiTransform:En.bottomRight({width:50,height:50,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},8,8),uiBackground:Et.image("images/ui/socket/connect.png")},r,"socketStatus");this.status=""}renderProps(){let r=super.renderProps();return this.status==""&&r.uiTransform?r.uiTransform.display="none":r.uiBackground=Et.image(this.status),r}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r})}};var Fd=class extends Tn{constructor(r=!0){super({uiTransform:En.slidefullscreen({width:"90.5%",height:"87%",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",padding:8},0,8),uiBackground:Et.image("images/slides/Slide1.jpg")},r,"slidefullscreen");this.slideUrl="images/slides/Slide1.jpg";this.events=new Sn}renderProps(){let r=super.renderProps();return r.uiBackground=Et.image(this.slideUrl),r}render(r){return Ee.createElement(Be,{...this.renderProps()},Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%",margin:{top:50}}},Ee.createElement(Be,{uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"center",width:"100%",margin:{top:10}}})),Ee.createElement(Be,{uiTransform:{width:56,height:56,margin:8,positionType:"absolute",position:{right:65,top:-65}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{console.log("Dialog close"),this.setVisible(!1)}}),Ee.createElement(Be,{uiTransform:{width:42,height:42,margin:8,positionType:"absolute",position:{left:-10,bottom:-32}},uiBackground:Et.image("images/ui/slide/arrow_left.png"),onMouseDown:()=>{this.events.emit("fullscreen.prevSlide",{})}}),Ee.createElement(Be,{uiTransform:{width:42,height:42,margin:8,positionType:"absolute",position:{right:5,bottom:-32}},uiBackground:Et.image("images/ui/slide/arrow_right.png"),onMouseDown:()=>{this.events.emit("fullscreen.nextSlide",{})}}))}};var Vd=class extends Tn{constructor(r=!0){super({uiTransform:En.middleLeft({width:230,height:470,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",padding:8},0,8),uiBackground:{}},r,"panel2d");this.events=new Sn}renderProps(){return super.renderProps()}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(Be,{uiTransform:{flexDirection:"row",flexWrap:"wrap",alignContent:"flex-start",justifyContent:"flex-start",width:"100%",margin:{top:10}}},Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{left:10,top:0}},uiBackground:Et.image("images/panelGui/triangleButtonGUI.png"),onMouseDown:()=>{this.events.emit("panel2d.setCorrect",{shape:"triangle"})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{right:10,top:0}},uiBackground:Et.image("images/panelGui/circleButtonGUI.png"),onMouseDown:()=>{this.events.emit("panel2d.setCorrect",{shape:"circle"})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{left:10,top:80}},uiBackground:Et.image("images/panelGui/diamondButtonGUI.png"),onMouseDown:()=>{this.events.emit("panel2d.setCorrect",{shape:"diamond"})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{right:10,top:80}},uiBackground:Et.image("images/panelGui/squareButtonGUI.png"),onMouseDown:()=>{this.events.emit("panel2d.setCorrect",{shape:"square"})}}),Ee.createElement(Be,{uiTransform:{width:86,height:86,margin:10,positionType:"absolute",position:{left:-5,top:160}},uiBackground:Et.image("images/panelGui/LeftArrow.png"),onMouseDown:()=>{this.events.emit("panel2d.prevSlide",{})}}),Ee.createElement(Be,{uiTransform:{width:86,height:86,margin:10,positionType:"absolute",position:{right:-5,top:160}},uiBackground:Et.image("images/panelGui/RightArrow.png"),onMouseDown:()=>{this.events.emit("panel2d.nextSlide",{})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{left:10,top:260}},uiBackground:Et.image("images/panelGui/slideButtonGUI.png"),onMouseDown:()=>{console.log("Slide mode"),this.events.emit("panel2d.setSlideMode",{})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{right:10,top:260}},uiBackground:Et.image("images/panelGui/videoButtonGUI.png"),onMouseDown:()=>{console.log("Video mode"),this.events.emit("panel2d.setVideoMode",{})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{left:10,top:350}},uiBackground:Et.image("images/panelGui/quizButtonGUI.png"),onMouseDown:()=>{console.log("panel 2d quiz button...."),this.events.emit("panel2d.quizitem",{})}}),Ee.createElement(Be,{uiTransform:{width:64,height:64,margin:10,positionType:"absolute",position:{right:10,top:350}},uiBackground:Et.image("images/panelGui/prizeButtonGUI.png"),onMouseDown:()=>{}})))}};var Wd=class extends Tn{constructor(r=!1){super({uiTransform:En.middleCenter({width:500,height:200,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:8},0,8),uiBackground:{color:xe.White()}},r,"countdown");this.errorText=""}render(r){return Ee.createElement(Be,{...this.renderProps(),key:r},Ee.createElement(gn,{value:"Enter count down in seconds",color:xe.Blue(),fontSize:28,textAlign:"top-center"}),Ee.createElement(Be,{uiTransform:{flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",width:"100%"}},Ee.createElement(Pa,{onChange:n=>{this.inputValue=n},fontSize:17,placeholder:"Enter count down in seconds",placeholderColor:xe.Gray(),textAlign:"middle-center",uiTransform:{height:40},onSubmit:()=>{this.validateInput()&&(Ne.emit("countdown.setTime",{time:Number(this.inputValue)}),this.setVisible(!1))}}),Ee.createElement(gn,{value:this.errorText,color:xe.Red(),fontSize:20,uiTransform:{margin:{bottom:10},height:30,width:"100%"}}),Ee.createElement(Be,{uiTransform:{flexDirection:"row",alignContent:"flex-start",justifyContent:"center",width:"100%",margin:{top:10}}},Ee.createElement(Ar,{value:"Start count down",variant:"primary",uiTransform:{width:230,height:50},fontSize:20,onMouseDown:()=>{this.validateInput()&&(Ne.emit("countdown.setTime",{time:Number(this.inputValue)}),this.setVisible(!1))}}))),Ee.createElement(Be,{uiTransform:{width:32,height:32,margin:8,positionType:"absolute",position:{right:0,top:0}},uiBackground:Et.image("images/ui/close_button.png"),onMouseDown:()=>{console.log("Dialog close"),this.setVisible(!1)}}))}validateInput(){return isNaN(Number(this.inputValue))||Number(this.inputValue)<1||this.inputValue==""?(this.errorText="Must input number from 1 to 999",!1):!0}};var On=new _d(!1),Qr=new Bd(!1),ul=new zd(!1),mi=new Fd(!1),mo=new Dd(!1),Mc=new Ud(!1),_c=new Ld(!0),Go=new Vd(!1),po=new Wd(!1);function eT(){Pc.components.push(Go,On,mi,Qr,ul,_c,Mc,po,mo),$2.setUiRenderer(Pc.render)}var X2=1;Q.addSystem(e=>{let t=LE.get(Q.CameraEntity);X2!=t.mode&&(X2=t.mode,Go.setVisible(t.mode==_n.CT_FIRST_PERSON&&lt.role==2))});var rT=require("~system/Runtime"),Gi=class Gi{constructor(t,r=!0,n,s){this.socket=null;this.events={};this.isConnected=!1;this.realm=null;this.position=null;this.playerName=null;this.password=null;this.optionalPosition=!0;this.disconnectTimer=null;this.url=t,this.onConnected=n,this.onError=s,Di.onChange(Q.PlayerEntity,async a=>{a?.realmName&&this.realm!=a?.realmName&&(console.log("ControlSocket: Player change realm to",a.realmName,", island:",a.room),this.realm=a.realmName,await this.disconnect("Player changed realm to "+a.realmName),await this.connect(!1))})}onPlayerInsideScene(t=!0){console.log("ControlSocket: player is inside scene"),this.disconnectTimer!==null&&(gt.clearTimeout(this.disconnectTimer),this.disconnectTimer=null),!this.isConnected&&this.socket==null&&t&&this.connect(!1)}onPlayerOutsideScene(){console.log(`ControlSocket: player is outside scene, disconnect in ${Gi.OutsideSceneDisconnectTime} seconds`),this.disconnectTimer!==null&&gt.clearTimeout(this.disconnectTimer),this.disconnectTimer=gt.setTimeout(()=>{this.disconnectTimer=null,this.disconnect(`Player outside scene for more than ${Gi.OutsideSceneDisconnectTime} seconds`)},Gi.OutsideSceneDisconnectTime)}async getLocation(){this.realm=(await(0,rT.getRealm)({})).realmInfo?.realmName??"LocalPreview",(!this.realm||this.realm.indexOf("127.0.0.1")>-1)&&(this.realm="LocalPreview");let t=await(0,tT.getSceneInfo)({});t?this.position=JSON.parse(t.metadata).scene.base:this.position="0,0",this.playerName=(await(0,nT.getUserData)({})).data?.displayName??null}getConnectionUrl(){let t={realm:this.realm??"LocalPreview",position:this.position??"0,0"};this.playerName&&(t.name=this.playerName),this.password&&(t.password=this.password);let r=Object.keys(t).map(n=>n+"="+t[n].replace("#","%23")).join("&");return`${this.url}?${r}`}async connect(t=!1,r=3e3){return this.isConnected&&this.socket&&this.socket.close(1e3,"Player tries to reconnect"),this.isConnected=!1,_c.status="images/ui/socket/connect.png",await this.getLocation(),new Promise((n,s)=>{let a=this.getConnectionUrl();console.log("ControlSocket: Connecting to",a),this.socket=new WebSocket(a),this.socket.onopen=f=>this.onSocketOpen(f,n),this.socket.onerror=f=>{console.error("ControlSocket: Error connecting to socket",f),this.onError&&this.onError(),t&&gt.setTimeout(()=>{console.log("ControlSocket: Reconnect data server in",r,"s"),this.connect(!0,Math.min(r+1e3,Gi.MaxReconnectTime))},r)},this.socket.onclose=f=>this.onSocketClose(f),_c.status=""})}onSocketClose(t,r){console.log("ControlSocket: closed",t.code,t.reason),this.isConnected=!1,this.socket=null,t.code==1006&&(console.error("ControlSocket: closed abnormally (code 1006)"),this.onError&&this.onError()),r&&r(t)}onSocketOpen(t,r){this.socketConnectHandler(),r&&r(t)}async disconnect(t){if(!(!this.isConnected||this.socket==null))return console.log("ControlSocket: disconnect",t),this.socket.close(1e3,t),this.isConnected=!1,new Promise((r,n)=>{if(!this.socket){this.onSocketClose({code:1e3,reason:"Socket is null",type:"",wasClean:!1},r);return}this.socket.onclose=s=>this.onSocketClose(s,r)})}socketConnectHandler(){this.socket!=null&&(console.log("ControlSocket: Connected @",this.url),this.socket.onmessage=t=>{this.socketMessageHandler(t)},this.isConnected=!0,this.onConnected!=null&&this.onConnected())}socketMessageHandler(t){try{var r=JSON.parse(t.data);if(console.log("ControlSocket: Message: ",r),r.type in this.events&&r.realm==this.realm&&(this.optionalPosition||r.position==this.position)){console.log("ControlSocket: Event "+r.type);try{this.events[r.type].forEach(n=>{n.call(r.data)})}catch(n){console.error("ControlSocket: Error in event handler",r.type,n)}}}catch(n){console.error("ControlSocket: Error parsing message",n)}}on(t,r){let n=new Vi(r,s=>this.unregisterEvent(s));return t in this.events?this.events[t].push(n):this.events[t]=[n],n}emit(t,r=null){return this.socket==null||!this.isConnected?(this.onError&&this.onError(),!1):(console.log("ControlSocket: Emit @",this.realm,t,r),this.socket.send(JSON.stringify({type:t,data:r,realm:this.realm,position:this.position})),!0)}off(t){t in this.events&&delete this.events[t]}unregisterEvent(t){for(let r in this.events)for(let n=this.events[r].length-1;n>=0;n--)if(this.events[r][n]==t){this.events[r].splice(n,1),this.events[r].length<=0&&delete this.events[r];return}}emitAndWait(t,r=null,n){return new Promise((s,a)=>{let f=this.on(n??t,c=>{f.unregister(),s(c)});this.emit(t,r)||(f.unregister(),a("ControlSocket is not connected"))})}};Gi.MaxReconnectTime=30,Gi.OutsideSceneDisconnectTime=30;var k0=Gi,He=new k0(qe.socketAddress,!0,()=>{Mc.setVisible(!1),He.emit("status.get")},()=>{Mc.setVisible(!0),_c.status="images/ui/socket/alert.png",Mc.onReconnect=()=>{He.connect()}});md(async()=>{await He.connect(),qe.enablePassword?He.onPlayerOutsideScene():He.onPlayerInsideScene()});var cT=require("~system/Runtime");var C0=class{constructor(t,r=!1,n,s){this.initalize(t,r,n,s)}initalize(t,r=!1,n,s){return this.mask=t,this.skipNextObservers=r,this.target=n,this.currentTarget=s,this}},I0=class{constructor(t,r,n=null){this.callback=t,this.mask=r,this.scope=n,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1}},mr=class e{constructor(t){this._observers=new Array,this._onObserverAdded=null,this._eventState=new C0(0),t&&(this._onObserverAdded=t)}add(t,r=-1,n=!1,s=null,a=!1){if(!t)return null;let f=new I0(t,r,s);return f.unregisterOnNextCall=a,n?this._observers.unshift(f):this._observers.push(f),this._onObserverAdded&&this._onObserverAdded(f),f}addOnce(t){return this.add(t,void 0,void 0,void 0,!0)}remove(t){return t&&this._observers.indexOf(t)!==-1?(this._deferUnregister(t),!0):!1}removeCallback(t,r){for(let n=0;n<this._observers.length;n++)if(this._observers[n].callback===t&&(!r||r===this._observers[n].scope))return this._deferUnregister(this._observers[n]),!0;return!1}notifyObservers(t,r=-1,n,s){if(!this._observers.length)return!0;let a=this._eventState;a.mask=r,a.target=n,a.currentTarget=s,a.skipNextObservers=!1,a.lastReturnValue=t;for(let f of this._observers)if(!f._willBeUnregistered&&(f.mask&r&&(f.scope?a.lastReturnValue=f.callback.apply(f.scope,[t,a]):a.lastReturnValue=f.callback(t,a),f.unregisterOnNextCall&&this._deferUnregister(f)),a.skipNextObservers))return!1;return!0}notifyObserversWithPromise(t,r=-1,n,s){let a=Promise.resolve(t);if(!this._observers.length)return a;let f=this._eventState;return f.mask=r,f.target=n,f.currentTarget=s,f.skipNextObservers=!1,this._observers.forEach(c=>{f.skipNextObservers||c._willBeUnregistered||c.mask&r&&(c.scope?a=a.then(l=>(f.lastReturnValue=l,c.callback.apply(c.scope,[t,f]))):a=a.then(l=>(f.lastReturnValue=l,c.callback(t,f))),c.unregisterOnNextCall&&this._deferUnregister(c))}),a.then(()=>t)}notifyObserver(t,r,n=-1){let s=this._eventState;s.mask=n,s.skipNextObservers=!1,t.callback(r,s)}hasObservers(){return this._observers.length>0}clear(){this._observers=new Array,this._onObserverAdded=null}clone(){let t=new e;return t._observers=this._observers.slice(0),t}hasSpecificMask(t=-1){for(let r of this._observers)if(r.mask&t||r.mask===t)return!0;return!1}_deferUnregister(t){t.unregisterOnNextCall=!1,t._willBeUnregistered=!0,Promise.resolve().then.bind(Promise.resolve())(async()=>this._remove(t)).catch(console.error)}_remove(t){if(!t)return!1;let r=this._observers.indexOf(t);return r!==-1?(this._observers.splice(r,1),!0):!1}};var aT=require("~system/EngineApi");function b3(e){let t=so(e),r=sc(e),n=ic(e),s=oc(e),a=new Map,f=[],c=[];return e.addSystem(()=>{let l=Array.from(e.getEntitiesWith(r,s));if(l.length!==a.size)for(let[y,g]of l)a.has(y)||(a.set(y,g.address),f.length&&f.forEach(M=>M(v3({userId:g.address}))),s.onChange(y,M=>{!M&&c.length&&a.get(y)&&(c.forEach(w=>w(a.get(y))),a.delete(y))}))}),{onEnterScene(l){f.push(l)},onLeaveScene(l){c.push(l)},getPlayer(l){function y(){if(!l?.userId)return e.PlayerEntity;for(let[P,S]of e.getEntitiesWith(r))if(S.address===l.userId)return P}let g=y();if(!g)return null;let M=r.getOrNull(g),w=s.getOrNull(g),I=n.getOrNull(g);return!M&&!w&&!I?null:{entity:g,name:w?.name??"",isGuest:!!M?.isGuest,userId:M?.address??"",avatar:w??void 0,wearables:I?.wearableUrns??[],emotes:I?.emoteUrns??[],position:t.getOrNull(g)?.position}}}}var oT=b3(Q),{getPlayer:v3,onEnterScene:SB,onLeaveScene:xB}=oT;var A0=oT;function ho(e){return()=>{e==="comms"?(0,aT.subscribe)({eventId:e}).catch(console.error):M3?.subscribe(e)}}var w3=new mr(ho("onEnterScene"));var k3=new mr(ho("onLeaveScene"));var C3=new mr(ho("sceneStart")),I3=new mr(ho("playerExpression")),CB=new mr(ho("videoEvent")),iT=new mr(ho("profileChanged")),A3=new mr(ho("playerConnected")),R3=new mr(ho("playerDisconnected")),P3=new mr(ho("onRealmChanged")),N3=new mr(ho("playerClicked")),Gd=new mr(ho("comms"));async function sT(e){let{events:t}=await e({actions:[]});for(let r of t)if(r.generic){let n=JSON.parse(r.generic.eventData);switch(r.generic.eventId){case"comms":{Gd.notifyObservers(n);break}}}}var M3=_3();function _3(){let e=new Set;function t(M){if(!e.has(M)){switch(M){case"playerClicked":a();case"onEnterScene":case"playerConnected":r();case"onLeaveScene":case"playerDisconnected":n();case"onRealmChanged":s();case"playerExpression":f();case"profileChanged":c()}e.add(M)}}function r(){A0.onEnterScene(M=>{e.has("onEnterScene")&&w3.notifyObservers({userId:M.userId}),e.has("playerConnected")&&A3.notifyObservers({userId:M.userId})})}function n(){A0.onLeaveScene(M=>{e.has("onLeaveScene")&&k3.notifyObservers({userId:M}),e.has("playerDisconnected")&&R3.notifyObservers({userId:M})})}function s(){Di.onChange(Q.RootEntity,M=>{M&&P3.notifyObservers({domain:M.baseUrl,displayName:M.realmName,room:M.room??"",serverName:M.realmName})})}function a(){let M=new Set;Q.addSystem(()=>{for(let[w]of Q.getEntitiesWith(pd)){if(M.has(w))return;M.add(w),FE.onChange(w,I=>{I?.hit&&N3.notifyObservers({userId:pd.getOrNull(w)?.address??"",ray:{direction:I.hit.direction,distance:I.hit.length,origin:I.hit.globalOrigin}})})}})}function f(){DE.onChange(Q.PlayerEntity,M=>{I3.notifyObservers({expressionId:M?.emoteUrn??""})})}function c(){zE.onChange(Q.PlayerEntity,()=>{y&&iT.notifyObservers({ethAddress:y,version:0})}),UE.onChange(Q.PlayerEntity,()=>{y&&iT.notifyObservers({ethAddress:y,version:0})})}let l=!1,y;function g(){if(l&&y)return Q.removeSystem(g);l||(l=!0,C3.notifyObservers({})),!y&&(y=pd.getOrNull(Q.PlayerEntity)?.address)}return Q.addSystem(g),{subscribe:t}}var lT=_e(require("~system/CommunicationsController")),Hi=class{constructor(){this.messageQueue=[],this.flushing=!1}on(t,r){return Gd.add(n=>{try{let s=JSON.parse(n.message);s.message===t&&r(s.payload,n.sender)}catch{}})}sendRaw(t){this.messageQueue.push(t),this.flush()}emit(t,r){let n=JSON.stringify({message:t,payload:r});this.sendRaw(n),Gd.notifyObservers({message:n,sender:"self"})}flush(){if(!this.messageQueue.length||this.flushing)return;let t=this.messageQueue.shift();lT.send({message:t}).then(r=>{this.flushing=!1,this.flush()},r=>{this.flushing=!1})}};var R0=class{constructor(t=!1,r=!1){this.realm="LocalPreview";this.messageBus=new Hi;this.socket=He;this.useSocket=!1;this.selfExecute=!1;this.events={};this.getRealm(),Di.onChange(Q.PlayerEntity,n=>{n?.realmName&&this.realm!=n.realmName&&(this.realm=n.realmName)}),this.useSocket=t,this.selfExecute=r}async getRealm(){this.realm=(await(0,cT.getRealm)({}))?.realmInfo?.realmName??"LocalPreview",(!this.realm||this.realm.indexOf("127.0.0.1")>-1)&&(this.realm="LocalPreview")}getEventName(t){return"bc."+t}on(t,r){let n=new Vi(r,a=>this.unregisterEvent(a)),s=this.getEventName(t);if(s in this.events?this.events[s].push(n):this.events[s]=[n],this.useSocket){let a=this.socket.on(s,f=>this.handleEvent(r,f));n.unregisterHandler=f=>{a.unregisterOnNextCall=!0,this.unregisterEvent(f)}}else{let a=this.messageBus.on(s,f=>this.handleEvent(r,f));n.unregisterHandler=f=>{a.unregisterOnNextCall=!0,this.unregisterEvent(f)}}return n}handleEvent(t,r){r.realm==this.realm&&t(r)}emit(t,r={}){r.realm=this.realm;let n=this.getEventName(t);this.useSocket?this.socket.emit(n,r)&&this.selfExecute&&n in this.events&&this.events[n].forEach(s=>s.call(r)):this.messageBus.emit(n,r)}unregisterEvent(t){for(let r in this.events)for(let n=this.events[r].length-1;n>=0;n--)if(this.events[r][n]==t){this.events[r].splice(n,1),this.events[r].length<=0&&delete this.events[r];return}}},Ne=new R0(!0,!0);function Oc(e){let t=De.getOrNull(e);if(!t)return p.Zero();let r=t.parent;if(r){let n=De.get(r).rotation;return p.add(Oc(r),p.rotate(t.position,n))}else return t.position}function Bc(e){let t=De.getOrNull(e);if(!t)return V.Identity();let r=t.parent;return r?V.multiply(t.rotation,Bc(r)):t.rotation}var Ze;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(Ze||(Ze={}));function P0(e,t){switch(e){case Ze.LINEAR:return t;case Ze.EASEINQUAD:return O3(t);case Ze.EASEOUTQUAD:return B3(t);case Ze.EASEQUAD:return z3(t);case Ze.EASEINSINE:return D3(t);case Ze.EASEOUTSINE:return U3(t);case Ze.EASESINE:return L3(t);case Ze.EASEINEXPO:return F3(t);case Ze.EASEOUTEXPO:return V3(t);case Ze.EASEEXPO:return W3(t);case Ze.EASEINELASTIC:return G3(t);case Ze.EASEOUTELASTIC:return H3(t);case Ze.EASEELASTIC:return j3(t);case Ze.EASEINBOUNCE:return q3(t);case Ze.EASEOUTEBOUNCE:return Q3(t);case Ze.EASEBOUNCE:return Y3(t);default:return t}}function O3(e){return e*e}function B3(e){return e*(2-e)}function z3(e){return e*e/(2*(e*e-e)+1)}function D3(e){return 1-Math.cos(e*Math.PI/2)}function U3(e){return Math.sin(e*Math.PI/2)}function L3(e){return-(Math.cos(Math.PI*e)-1)/2}function F3(e){return e===0?0:Math.pow(2,10*e-10)}function V3(e){return e===1?1:1-Math.pow(2,-10*e)}function W3(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}function G3(e){let t=2*Math.PI/3;return e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*t)}function H3(e){let t=2*Math.PI/3;return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*t)+1}function j3(e){let t=2*Math.PI/4.5;return e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1}function q3(e){return 1-Hd(1-e)}function Q3(e){return Hd(e)}function Y3(e){return e<.5?(1-Hd(1-2*e))/2:(1+Hd(2*e-1))/2}function Hd(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function uT(e,t,r){let n=new Array,s=1/t,a=0;if(r){let f=e.length;for(let c=0;c<f;c++){a=0;for(let l=0;l<t;l++)n.push(p.catmullRom(e[c%f],e[(c+1)%f],e[(c+2)%f],e[(c+3)%f],a)),a+=s}n.push(n[0])}else{let f=new Array;f.push(p.clone(e[0])),Array.prototype.push.apply(f,e),f.push(p.clone(e[e.length-1]));let c=0;for(;c<f.length-3;c++){a=0;for(let l=0;l<t;l++)n.push(p.catmullRom(f[c],f[c+1],f[c+2],f[c+3],a)),a+=s}c--,n.push(p.catmullRom(f[c],f[c+1],f[c+2],f[c+3],a))}return n}function fT(e,t,r,n){return e.x<=n.x&&t.x>=r.x&&e.y<=n.y&&t.y>=r.y&&e.z<=n.z&&t.z>=r.z}function dT(e,t,r,n){let s=p.distanceSquared(e,r),a=t+n;return s<a*a}function N0(e,t,r,n){let s=0;return r.x<e.x&&(s+=(e.x-r.x)*(e.x-r.x)),r.x>t.x&&(s+=(r.x-t.x)*(r.x-t.x)),r.y<e.y&&(s+=(e.y-r.y)*(e.y-r.y)),r.y>t.y&&(s+=(r.y-t.y)*(r.y-t.y)),r.z<e.z&&(s+=(e.z-r.z)*(e.z-r.z)),r.z>t.z&&(s+=(r.z-t.z)*(r.z-t.z)),s<n*n}var Bn;(function(e){e.TimerSystemPriority=1e5+256,e.TweenSystemPriority=1e5+192,e.PerpetualMotionSystemPriority=1e5+192,e.PathSystemPriority=1e5+192,e.TriggerSystemPriority=1e5+128,e.ActionSystemPriority=1e5+64})(Bn||(Bn={}));function J3(e){let t=new Map,r=0;function n(s){let a=[],f=[];for(let[c,l]of t)l.accumulatedTime+=1e3*s,!(l.accumulatedTime<l.interval)&&(f.push(l.callback),l.recurrent?l.accumulatedTime-=Math.floor(l.accumulatedTime/l.interval)*l.interval:a.push(c));for(let c of a)t.delete(c);for(let c of f)c()}return e.addSystem(n,Bn.TimerSystemPriority),{setTimeout(s,a){let f=r++;return t.set(f,{callback:s,interval:a,recurrent:!1,accumulatedTime:0}),f},clearTimeout(s){t.delete(s)},setInterval(s,a){let f=r++;return t.set(f,{callback:s,interval:a,recurrent:!0,accumulatedTime:0}),f},clearInterval(s){t.delete(s)}}}var M0=J3(Q);var fl;(function(e){e[e.Off=0]="Off",e[e.On=1]="On"})(fl||(fl={}));function $3(e,t){let r=e.defineComponent("dcl.utils.Toggle",{state:B.EnumNumber(fl,fl.Off)}),n=new Map;return t.setInterval(function(){for(let s of n.keys())(e.getEntityState(s)==Xt.Removed||!r.has(s))&&n.delete(s)},5e3),{addToggle(s,a,f){n.set(s,f),r.createOrReplace(s,{state:a})},removeToggle(s){n.delete(s),r.deleteFrom(s)},setCallback(s,a){n.set(s,a)},set(s,a){if(r.get(s).state!=a){r.getMutable(s).state=a;let c=n.get(s);c&&c(a)}},flip(s){this.set(s,1-r.get(s).state)},isOn(s){return r.get(s).state==fl.On}}}var K3=$3(Q,M0);function Z3(e){let t={start:B.Vector3,end:B.Vector3,interpolationType:B.EnumString(Ze,Ze.LINEAR),speed:B.Float,normalizedTime:B.Float},r=e.defineComponent("dcl.utils.PositionTween",t),n=e.defineComponent("dcl.utils.ScaleTween",t),s=e.defineComponent("dcl.utils.RotationTween",{start:B.Quaternion,end:B.Quaternion,interpolationType:B.EnumString(Ze,Ze.LINEAR),speed:B.Float,normalizedTime:B.Float}),a=new Map,f=new Map,c=new Map;function l(w,I,P){return function(x){let k=[];for(let N of I.keys()){if(e.getEntityState(N)==Xt.Removed||!w.has(N)){I.delete(N);continue}let F=w.getMutable(N);F.normalizedTime=kt.clamp(F.normalizedTime+x*F.speed,0,1);let ae=P0(F.interpolationType,F.normalizedTime);P(De.getMutable(N),F.start,F.end,ae),F.normalizedTime>=1&&k.push(N)}for(let N of k){let F=I.get(N);w.deleteFrom(N),I.delete(N),F&&F()}}}function y(w,I){return function(P){w.deleteFrom(P),I.delete(P)}}function g(w,I){return function(P,S,x,k,N=Ze.LINEAR,F){I.set(P,F),w.createOrReplace(P,{start:S,end:x,speed:k==0?0:1/k,interpolationType:N,normalizedTime:k==0?1:0})}}function M(w){return function(I){if(!w.has(I))throw new Error(`Entity ${I} is not registered with tweens system`);return w.get(I)}}return e.addSystem(l(r,a,function(w,I,P,S){w.position=p.lerp(I,P,S)}),Bn.TweenSystemPriority),e.addSystem(l(s,f,function(w,I,P,S){w.rotation=V.slerp(I,P,S)}),Bn.TweenSystemPriority),e.addSystem(l(n,c,function(w,I,P,S){w.scale=p.lerp(I,P,S)}),Bn.TweenSystemPriority),{startTranslation:g(r,a),stopTranslation:y(r,a),startRotation:g(s,f),stopRotation:y(s,f),startScaling:g(n,c),stopScaling:y(n,c),getTranslationOnFinishCallback:M(a),getRotationOnFinishCallback:M(f),getScalingOnFinishCallback:M(c)}}var zn=Z3(Q);function X3(e){let t=e.defineComponent("dcl.utils.PerpetualRotation",{velocity:B.Quaternion});function r(n){for(let[s,a]of e.getEntitiesWith(t,De)){let f=V.slerp(V.Identity(),a.velocity,n),c=De.getMutable(s);c.rotation=V.normalize(V.multiply(c.rotation,f))}}return e.addSystem(r,Bn.PerpetualMotionSystemPriority),{startRotation(n,s){t.createOrReplace(n,{velocity:s})},stopRotation(n){t.deleteFrom(n)}}}var ji=X3(Q);function ev(e){let t=e.defineComponent("dcl.utils.FollowPath",{points:B.Array(B.Vector3),faceDirection:B.Boolean,speed:B.Number,normalizedTime:B.Number,currentIndex:B.Number,segmentTimes:B.Array(B.Number),curveSegmentCount:B.Number}),r=new Map,n=new Map;function s(c){r.delete(c),n.delete(c),t.deleteFrom(c)}function a(c){let l=[],y=[];for(let g of r.keys()){if(e.getEntityState(g)==Xt.Removed||!t.has(g)){s(g);continue}let M=De.getMutable(g),w=t.getMutable(g);for(w.normalizedTime=kt.clamp(w.normalizedTime+c*w.speed,0,1),w.normalizedTime>=1&&l.push(g);w.normalizedTime>=w.segmentTimes[w.currentIndex]&&w.currentIndex<w.points.length-1;){if(w.faceDirection){let S=p.subtract(w.points[w.currentIndex+1],w.points[w.currentIndex]);M.rotation=V.lookRotation(S)}if(w.currentIndex>0&&w.currentIndex%w.curveSegmentCount==0){let S=w.currentIndex/w.curveSegmentCount,x=w.points[w.currentIndex],k=w.points[w.currentIndex+w.curveSegmentCount];y.push({entity:g,index:S,coords:x,nextCoords:k})}w.currentIndex+=1}let I=w.segmentTimes[w.currentIndex]-w.segmentTimes[w.currentIndex-1],P=(w.segmentTimes[w.currentIndex]-w.normalizedTime)/I;M.position=p.lerp(w.points[w.currentIndex],w.points[w.currentIndex-1],P)}for(let g of y){let M=n.get(g.entity);M&&M(g.index,g.coords,g.nextCoords)}for(let g of l){let M=r.get(g);s(g),M&&M()}}e.addSystem(a,Bn.PathSystemPriority);function f(c,l,y,g,M,w,I){if(l.length<2)throw new Error("At least 2 points are required to form a path.");if(y==0)throw new Error("Path duration must not be zero");if(M){let k=p.equals(l[0],l[l.length-1]);k&&(l.pop(),l.unshift(l.pop())),l=uT(l,M,k)}else M=1;r.set(c,w),n.set(c,I);let P=0,S=[];for(let k=0;k<l.length-1;k++){let N=p.distance(l[k],l[k+1]);P+=N,S.push(N)}let x=[0];for(let k=0;k<S.length;k++)x.push(S[k]/P+x[k]);t.createOrReplace(c,{points:l,segmentTimes:x,curveSegmentCount:M,speed:1/y,normalizedTime:0,currentIndex:0,faceDirection:g})}return{startStraightPath(c,l,y,g,M,w){return f(c,l,y,g,0,M,w)},startSmoothPath(c,l,y,g,M,w,I){if(g<2||!Number.isInteger(g))throw new Error(`segmentCount must be an integer that is greater than 2, got: ${g}`);return f(c,l,y,M,g,w,I)},stopPath(c){s(c)},getOnFinishCallback(c){if(!r.has(c))throw new Error(`Entity ${c} is not registered in triggers system`);return r.get(c)}}}var _0=ev(Q);var yo=1;var pi=255,Kn=0,O0=yo;function tv(e){let t=Q.defineComponent("dcl.utils.Trigger",{active:B.Boolean,layerMask:B.Int,triggeredByMask:B.Int,areas:B.Array(B.OneOf({box:B.Map({position:B.Vector3,scale:B.Vector3}),sphere:B.Map({position:B.Vector3,radius:B.Number})})),debugColor:B.Color3}),r=new Map,n=new Map,s=!1,a=new Map,f=new Map;function c(P){if(P)for(let[S,x]of e.getEntitiesWith(t,De)){let k=f.get(S),N=x.areas.length;for(;k.length>N;)e.removeEntity(k.pop());for(;k.length<N;)k.push(e.addEntity());let F=Oc(S),ae=Bc(S);for(let Ae=0;Ae<N;++Ae){let ne=x.areas[Ae],j=k[Ae],se;if(ne.$case=="box")se=ne.value.scale,Cr.setBox(j);else{let $=ne.value.radius;se={x:$,y:$,z:$},Cr.setSphere(j)}De.createOrReplace(j,{position:p.add(F,p.rotate(ne.value.position,ae)),scale:se});let oe=x.active?x.debugColor:rt.Black();Fe.setPbrMaterial(j,{albedoColor:xe.fromInts(255*oe.r,255*oe.g,255*oe.b,75)})}}}function l(P,S,x,k){for(let N=0;N<S.areas.length;++N){let F=P[N],ae=S.areas[N];if(ae.$case=="box"){let Ae=ae.value,ne=p.subtract(F,p.scale(Ae.scale,.5)),j=p.add(ne,Ae.scale);for(let se=0;se<k.areas.length;++se){let oe=x[se],$=k.areas[se];if($.$case=="box"){let A=$.value,O=p.subtract(oe,p.scale(A.scale,.5)),H=p.add(O,A.scale);if(fT(ne,j,O,H))return!0}else if(N0(ne,j,oe,$.value.radius))return!0}}else{let Ae=ae.value.radius;for(let ne=0;ne<k.areas.length;++ne){let j=x[ne],se=k.areas[ne];if(se.$case=="box"){let oe=se.value,$=p.subtract(j,p.scale(oe.scale,.5)),A=p.add($,oe.scale);if(N0($,A,F,Ae))return!0}else if(dT(F,Ae,j,se.value.radius))return!0}}}return!1}function y(P,S){let x=dl,k=t.get(P);if(!k.active)return x;if(k.triggeredByMask==O0){let N=e.PlayerEntity,F=t.get(e.PlayerEntity);if(N==P||!F.active||!(k.triggeredByMask&F.layerMask))return x;l(S.get(P),k,S.get(N),F)&&(x===dl&&(x=new Set),x.add(N))}else for(let[N,F]of e.getEntitiesWith(t,De)){if(N==P||!F.active||!(k.triggeredByMask&F.layerMask))continue;l(S.get(P),k,S.get(N),F)&&(x===dl&&(x=new Set),x.add(N))}return x}function g(){let P=[],S=[],x=new Map;for(let k of a.keys()){if(e.getEntityState(k)==Xt.Removed||!t.has(k)){for(let ne of f.get(k))e.removeEntity(ne);for(let ne of a.values())ne.has(k)&&ne.delete(k);f.delete(k),a.delete(k),r.delete(k),n.delete(k);continue}let N=[],F=Oc(k),ae=Bc(k),Ae=t.get(k);for(let ne of Ae.areas)N.push(p.add(F,p.rotate(ne.value.position,ae)));x.set(k,N)}for(let k of a.keys()){let N=y(k,x),F=a.get(k);for(let ae of F)N.has(ae)||S.push([k,ae]);for(let ae of N)F.has(ae)||P.push([k,ae]);a.set(k,N)}for(let[k,N]of P){let F=r.get(k);F&&F(N)}for(let[k,N]of S){let F=n.get(k);F&&F(N)}}function M(P){g(),c(s)}e.addSystem(M,Bn.TriggerSystemPriority);function w(P){P||(P=[{type:"box"}]);let S=[];for(let x of P)x.type=="box"?S.push({$case:"box",value:{position:x.position?x.position:p.Zero(),scale:x.scale?x.scale:p.One()}}):S.push({$case:"sphere",value:{position:x.position?x.position:p.Zero(),radius:x.radius?x.radius:1}});return S}let I={addTrigger(P,S=Kn,x=Kn,k,N,F,ae){if(S<0||S>pi||!Number.isInteger(S))throw new Error(`Bad layerMask: ${S}. Expected a non-negative integer no greater than ${pi}`);if(x<0||x>pi||!Number.isInteger(x))throw new Error(`Bad triggeredByMask: ${x}. Expected a non-negative integer no greater than ${pi}`);f.set(P,[]),a.set(P,new Set),r.set(P,N),n.set(P,F),t.createOrReplace(P,{active:!0,layerMask:S,triggeredByMask:x,areas:w(k),debugColor:ae||rt.Red()})},removeTrigger(P){let S=a.get(P),x=n.get(P);for(let N of f.get(P))e.removeEntity(N);f.delete(P),a.delete(P),r.delete(P),n.delete(P),t.deleteFrom(P);let k=[];for(let[N,F]of a)F.has(P)&&(F.delete(P),k.push(N));if(x)for(let N of S)x(N);for(let N of k){let F=n.get(N);F&&F(P)}},oneTimeTrigger(P,S=Kn,x=Kn,k,N,F){this.addTrigger(P,S,x,k,function(ae){Zn.removeTrigger(P),N&&N(ae)},void 0,F)},enableTrigger(P,S){t.getMutable(P).active=S},isTriggerEnabled(P){return t.get(P).active},getLayerMask(P){return t.get(P).layerMask},setLayerMask(P,S){if(S<0||S>pi||!Number.isInteger(S))throw new Error(`Bad layerMask: ${S}. Expected a non-negative integer no greater than ${pi}`);t.getMutable(P).layerMask=S},getTriggeredByMask(P){return t.get(P).triggeredByMask},setTriggeredByMask(P,S){if(S<0||S>pi||!Number.isInteger(S))throw new Error(`Bad layerMask: ${S}. Expected a non-negative integer no greater than ${pi}`);t.getMutable(P).triggeredByMask=S},getAreas(P){return t.get(P).areas},setAreas(P,S){t.getMutable(P).areas=w(S)},setOnEnterCallback(P,S){r.set(P,S)},setOnExitCallback(P,S){n.set(P,S)},enableDebugDraw(P){if(s=P,!P)for(let S of f.values()){for(let x of S)e.removeEntity(x);S.length=0}},isDebugDrawEnabled(){return s}};return I.addTrigger(e.PlayerEntity,O0,Kn,[{type:"box",scale:{x:.65,y:1.92,z:.65},position:{x:0,y:.15,z:0}}],void 0,void 0,rt.Green()),I}var Zn=tv(Q),dl=new Set;dl.add=e=>{debugger;throw new Error("EMPTY_SET is read only")};dl.delete=e=>{throw new Error("EMPTY_SET is read only")};dl.has=e=>!1;var B0;(function(e){class t{constructor(g,M,w){this.beginSequenceNode=null,this.currentSequenceNode=null,this.running=!1,this.started=!1,this.engine=g,this.systemFn=I=>{this.update(I)},this.engine.addSystem(this.systemFn,Bn.ActionSystemPriority),M&&this.startSequence(M),w&&this.setOnFinishCallback(w)}startSequence(g){this.beginSequenceNode=g.beginSequenceNode,this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}destroy(){this.engine.removeSystem(this.systemFn)}setOnFinishCallback(g){this.onFinishCallback=g}isRunning(){return this.running}stop(){this.running=!1}resume(){this.beginSequenceNode!=null&&(this.running=!0)}reset(){this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}getRunningAction(){let g=this.currentSequenceNode;if(this.currentSequenceNode instanceof s)do g=g.currentInnerSequence;while(g instanceof s);return g.action}update(g){if(this.running){if(!this.started){this.currentSequenceNode.onStart(),this.started=!0;return}if(!this.currentSequenceNode.hasFinish()){this.currentSequenceNode.update(g);return}this.currentSequenceNode.onFinish(),this.currentSequenceNode=this.currentSequenceNode.next,this.currentSequenceNode?this.currentSequenceNode.onStart():(this.running=!1,this.onFinishCallback&&this.onFinishCallback())}}}e.SequenceRunner=t;class r{constructor(){this.currentSequenceNode=null,this.beginSequenceNode=null,this.whileNodeStack=[]}then(g){if(this.currentSequenceNode==null)this.currentSequenceNode=new n,this.currentSequenceNode.action=g,this.beginSequenceNode=this.currentSequenceNode;else{let M=new n;M.action=g,this.currentSequenceNode=this.currentSequenceNode.then(M)}return this}if(g){let M=new a(g);return this.currentSequenceNode==null?(this.currentSequenceNode=M,this.beginSequenceNode=M):this.currentSequenceNode=this.currentSequenceNode.then(M),this}else(){let g=this.currentSequenceNode.getSequence();if(g instanceof a){g.closed=!0;let M=new f(g);this.currentSequenceNode=this.currentSequenceNode.then(M)}else throw new Error("IF statement is needed to be called before ELSE statement.");return this}endIf(){let g=this.currentSequenceNode.getSequence();if(g instanceof a||g instanceof f)g.closed=!0;else throw new Error("IF statement is needed to be called before ENDIF statement.");return this}while(g){let M=new c(g);return this.currentSequenceNode==null?(this.currentSequenceNode=M,this.beginSequenceNode=M):this.currentSequenceNode=this.currentSequenceNode.then(M),this.whileNodeStack.push(M),this}endWhile(){let g=this.currentSequenceNode.getSequence();if(g instanceof c)g.closed=!0,this.whileNodeStack.length>0&&this.whileNodeStack.splice(this.whileNodeStack.length-1,1);else throw new Error("WHILE statement is needed to be called before ENDWHILE statement.");return this}breakWhile(){if(this.whileNodeStack.length>0)this.currentSequenceNode=this.currentSequenceNode.then(new l(this.whileNodeStack[this.whileNodeStack.length-1]));else throw new Error("WHILE statement is needed to be called before BREAKWHILE statement.");return this}}e.SequenceBuilder=r;class n{constructor(){this.action=null,this.next=null}then(g){return this.next=g,g}onStart(){this.action&&this.action.onStart()}update(g){this.action&&this.action.update(g)}onFinish(){this.action&&this.action.onFinish()}hasFinish(){return this.action?this.action.hasFinished:!0}getSequence(){return this}}e.SequenceNode=n;class s extends n{constructor(){super(...arguments),this.currentInnerSequence=null,this.startingInnerSequence=null,this.closed=!1}then(g){if(this.currentInnerSequence==null)this.currentInnerSequence=g,this.startingInnerSequence=g;else{if(this.closed)return this.next=g,g;this.currentInnerSequence=this.currentInnerSequence.then(g)}return this}onStart(){this.currentInnerSequence=this.startingInnerSequence,this.currentInnerSequence&&this.currentInnerSequence.onStart()}update(g){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(g))}onFinish(){this.currentInnerSequence&&this.currentInnerSequence.onFinish()}hasFinish(){return this.currentInnerSequence==null}getSequence(){if(this.currentInnerSequence){let g=this.currentInnerSequence.getSequence();if(g instanceof s&&!g.closed)return g}return this}}class a extends s{constructor(g){super(),this.result=!1,this.condition=g}onStart(){this.result=this.condition(),this.result?super.onStart():this.currentInnerSequence=null}}class f extends s{constructor(g){super(),this.ifSequence=null,this.ifSequence=g}onStart(){this.ifSequence&&!this.ifSequence.result?super.onStart():this.currentInnerSequence=null}}class c extends s{constructor(g){super(),this.breakWhile=!1,this.condition=g}onStart(){this.breakWhile=!1,this.condition()?super.onStart():this.currentInnerSequence=null}update(g){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence==null&&(this.currentInnerSequence=this.startingInnerSequence),this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(g))}hasFinish(){return this.breakWhile||!this.condition()}}class l extends n{constructor(g){super(),this.whileNode=g}onStart(){this.whileNode.breakWhile=!0}}})(B0||(B0={}));var mT=require("~system/RestrictedActions");var ml=Q.defineComponent("quizItemComponent",{correct:B.Boolean,shape:B.String}),Ho=class Ho{static create(t,r,n){let s=ie.createGltfShape(t,r);return ml.create(s,{correct:!1,shape:n}),ji.startRotation(s,V.fromEulerDegrees(0,90,0)),Ot.attach(s,!0),Zn.addTrigger(s,Kn,yo,[{type:"box",scale:t.scale}],a=>Ho.onItemTouch(s,n)),Ho.setVisible(s,!1),s}static onItemTouch(t,r){Ho.getState(t)==2&&(gt.setTimeout(()=>{(0,mT.triggerEmote)({predefinedEmote:"clap"})},.3),Ne.emit("quiz.winner",{shape:r,players:[lt]})),Ne.emit("quiz.item.touch",{shape:r}),Ho.events.emit("touch",{entity:t,shape:r}),He.emit("status.set",{name:r+"Visibility",value:0})}static setVisible(t,r){Ot.set(t,r),Zn.enableTrigger(t,r)}static getEntityByShape(t){let r=Q.getEntitiesWith(ml);for(let[n,s]of r)if(s.shape==t)return n;return null}static setState(t,r){if(Ho.setVisible(t,r>=1),!ml.has(t))return;let n=ml.getMutable(t);n.correct=r>1}static getState(t){if(!ml.has(t))return;let r=ml.get(t),n=Ot.get(t)?1:0;return n>0&&r.correct&&(n=2),n}static initEvent(){Ne.on("quiz.item.touch",t=>{let r=Ho.getEntityByShape(t.shape);r&&Ho.setState(r,0)})}};Ho.events=new Sn;var Xn=Ho;Xn.initEvent();var pT=require("~system/RestrictedActions");var yi=Q.defineComponent("quizTileComponent",{players:B.Array(B.Map({username:B.String,id:B.String})),correct:B.Boolean,announced:B.Boolean,shape:B.String,baseEntity:B.Entity}),er=class er{static create(t,r,n,s,a){let f=ie.createPosition(t);s.parent=f;let c=ie.createBox(s);return n.parent=f,yi.create(f,{players:[],correct:!1,announced:!1,shape:a,baseEntity:c}),ie.createGltfShape(n,r),Ot.attach(f,!0),Zn.addTrigger(f,Kn,yo,[{type:"box",scale:p.create(1.2,1.2,1.2)}],l=>{Ne.emit("quiz.tile.setState",{shape:a,state:!0,player:lt})},()=>{Ne.emit("quiz.tile.setState",{shape:a,state:!1,player:lt})}),er.setVisible(f,!1),f}static getEntityByShape(t){let r=Q.getEntitiesWith(yi);for(let[n,s]of r)if(s.shape==t)return n;return null}static setStepOnState(t,r,n){let s=yi.getMutable(t);if(r)s.players.push({id:n.id,username:n.username});else{let a=s.players.findIndex(f=>f.id==n.id);a!=-1&&s.players.splice(a,1)}er.updateState(t)}static updateState(t){if(!yi.has(t))return;let r=yi.get(t);r.announced?Fe.setPbrMaterial(r.baseEntity,r.correct?er.CorrectMaterial:er.InCorrectMaterial):r.players.length>0?Fe.setPbrMaterial(r.baseEntity,er.OnMaterial):Fe.setPbrMaterial(r.baseEntity,er.OffMaterial)}static setVisible(t,r){Ot.set(t,r),Zn.enableTrigger(t,r)}static setState(t,r){let n=yi.getMutable(t);n.announced=r>0,n.correct=r==2,er.updateState(t)}static playEmote(t){let r=yi.getMutable(t);r.players.findIndex(s=>s.id==lt.id)!=-1&&(0,pT.triggerEmote)({predefinedEmote:r.correct?"clap":"shrug"})}static initEvent(){Ne.on("quiz.tile.setState",t=>{let r=er.getEntityByShape(t.shape);r&&er.setStepOnState(r,t.state,t.player)})}};er.OffMaterial={albedoColor:xe.create(1,1,1),metallic:0,roughness:0},er.OnMaterial={albedoColor:xe.White(),metallic:0,roughness:0,emissiveIntensity:3,emissiveColor:rt.create(1,1,1)},er.CorrectMaterial={albedoColor:xe.Blue(),metallic:.1,roughness:0,emissiveIntensity:4,emissiveColor:rt.create(0,1,0)},er.InCorrectMaterial={albedoColor:xe.create(1,.1,.1,1),metallic:.1,roughness:0,emissiveIntensity:4,emissiveColor:rt.create(1,.1,.1)};var tr=er;tr.initEvent();var go=Q.defineComponent("quizItemGroupComponent",{itemMap:B.Map({circle:B.Entity,square:B.Entity,triangle:B.Entity,diamond:B.Entity})}),nr=Q.defineComponent("quizTileGroupComponent",{tileMap:B.Map({circle:B.Entity,square:B.Entity,triangle:B.Entity,diamond:B.Entity})}),qi=class qi{static create(t){let r=ie.createPosition(t),n=Xn.create({position:p.create(-1,.5,0),scale:p.create(1,1,1),parent:r},"models/quiz/circle.glb","circle"),s=Xn.create({position:p.create(-3,.5,0),scale:p.create(1,1,1),parent:r},"models/quiz/square.glb","square"),a=Xn.create({position:p.create(1,.5,0),scale:p.create(1,1,1),parent:r},"models/quiz/triangle.glb","triangle"),f=Xn.create({position:p.create(3,.5,0),scale:p.create(.85,.85,.85),parent:r},"models/quiz/diamond.glb","diamond"),c=go.create(r,{itemMap:{circle:n,square:s,triangle:a,diamond:f}});return r}static setVisible(t,r){if(!go.has(t))return;let n=go.getMutable(t);Object.values(n.itemMap).map(s=>Xn.setVisible(s,r))}static setItemVisible(t,r,n){if(!go.has(t))return;let s=go.get(t);Xn.setVisible(s.itemMap[r],n)}static setCorrect(t,r){if(!go.has(t))return;let n=go.get(t);for(let s in n.itemMap)Xn.setState(n.itemMap[s],s==r?2:1)}static playPickupAudio(t){Vo.createOrReplace(t,{audioClipUrl:"sounds/coinPickup.mp3",loop:!1,playing:!0})}static getSingleEntity(){let t=Q.getEntitiesWith(go);for(let[r,n]of t)return r;return null}static getSingle(){let t=Q.getEntitiesWith(go);for(let[r,n]of t)return n;return null}static initEvent(){Xn.events.on("touch",t=>{let r=qi.getSingle();(r?!Object.values(r.itemMap).find(s=>Xn.getState(s)!=0):!1)&&qi.events.emit("touchAll")}),Ne.on("quiz.item.touch",t=>{let r=qi.getSingleEntity();r&&qi.playPickupAudio(r)})}};qi.events=new Sn,qi.pickupAudioSrc="sounds/coinPickup.mp3";var jo=qi,Na=class{static square(t,r,n=0){return[p.create(-t/2,n,r/2),p.create(t/2,n,r/2),p.create(t/2,n,-r/2),p.create(-t/2,n,-r/2)]}},an=class an{static create(t){let r=ie.createPosition(t.transform);this.tilesPos=t.tilePositions;let n=tr.create({position:this.tilesPos[0],scale:an.TileScale,parent:r},"models/quiz/circle.glb",an.shapeTransform,an.baseTransform,"circle"),s=tr.create({position:this.tilesPos[1],scale:an.TileScale,parent:r},"models/quiz/square.glb",an.shapeTransform,an.baseTransform,"square"),a=tr.create({position:this.tilesPos[2],scale:an.TileScale,parent:r},"models/quiz/triangle.glb",an.shapeTransform,an.baseTransform,"triangle"),f=tr.create({position:this.tilesPos[3],scale:an.TileScale,parent:r},"models/quiz/diamond.glb",an.shapeTransform,an.baseTransform,"diamond"),c=nr.create(r,{tileMap:{circle:n,square:s,triangle:a,diamond:f}});return r}static setVisible(t,r){if(!nr.has(t))return;let n=nr.getMutable(t);Object.values(n.tileMap).map(s=>tr.setVisible(s,r))}static clear(t){if(!nr.has(t))return;let r=nr.getMutable(t);Object.values(r.tileMap).map(n=>tr.setState(n,0))}static setItemVisible(t,r,n){if(!nr.has(t))return;let s=nr.get(t);tr.setVisible(s.tileMap[r],n)}static setCorrect(t,r){if(!nr.has(t))return;let n=nr.get(t);for(let s in n.tileMap)tr.setState(n.tileMap[s],s==r?2:1),tr.playEmote(n.tileMap[s])}static getSingleEntity(){let t=Q.getEntitiesWith(nr);for(let[r,n]of t)return r;return null}static getSingle(){let t=Q.getEntitiesWith(nr);for(let[r,n]of t)return n;return null}static initEvent(){}static setTilePosIndex(t,r){let n=nr.getMutable(t),s=0;for(let a in n.tileMap){let f=n.tileMap[a],c=De.getMutable(f),l=an.tilesPos[r[s]];c.position=l,s++}}};an.events=new Sn,an.BaseScale=p.create(1,.05,1),an.TileScale=p.create(1.5,1,1.5),an.shapeTransform={position:p.create(0,.01,0),scale:p.create(.7,.7,.7),rotation:V.fromEulerDegrees(90,0,0)},an.baseTransform={position:p.create(0,0,0),scale:an.BaseScale};var Eo=an;jo.initEvent();Eo.initEvent();var nv={id:0,slideVideoMode:1,quizMode:0,prizeMode:0,slideDirectory:"images/slides/Slide",currentSlide:1,maxSlide:20,videoUrl:"[]",videoPosition:0,videoState:0,diamondVisibility:0,circleVisibility:0,triangleVisibility:0,squareVisibility:0,trophyPickedup:null,trophyPos:null,lines:null,enablewhitelist:0,synchronize3d:"[]",realm:"LocalPreview",position:"1,1",tpEnabled:!1,tpPosition:"",tpTitle:"",tpImage:""},gi=class gi{static initSocketEvent(){He.on("status.sync",t=>{gi.status=t,gi.events.emit("sync",gi.status)})}static setStatus(t){Array.isArray(t)||(t=[t]);for(let r of t)r.field in gi.status&&(gi.status[r.field]=r.value);He.emit("status.set",t)}};gi.events=new Sn,gi.status={...nv};var rr=gi;rr.initSocketEvent();var ln=class e{static create(t,r){e.mode=0,e.quizItemGroup=jo.create(t),e.quizTileGroup=Eo.create(r)}static onQuizModePressed(t){if(e.mode!=0)Ne.emit("quizmanager.off",{}),He.emit("status.set",[{name:"quizMode",value:0}]);else if(t==1)Ne.emit("quizmanager.itemmode",{}),He.emit("status.set",[{name:"circleVisibility",value:1},{name:"squareVisibility",value:1},{name:"triangleVisibility",value:1},{name:"diamondVisibility",value:1},{name:"quizMode",value:1}]);else if(t==2){let r=[0,1,2,3].sort((n,s)=>Math.random()-.5);Ne.emit("quizmanager.tilemode",{tileIndex:r}),He.emit("status.set",[{name:"circleVisibility",value:0},{name:"squareVisibility",value:0},{name:"triangleVisibility",value:0},{name:"diamondVisibility",value:0},{name:"quizMode",value:2}])}}static onCorrectPressed(t){let r=[{name:"circleVisibility",value:t=="circle"?2:1},{name:"squareVisibility",value:t=="square"?2:1},{name:"triangleVisibility",value:t=="triangle"?2:1},{name:"diamondVisibility",value:t=="diamond"?2:1}];if(e.mode==0&&(Ne.emit("quizmanager.itemmode",{}),r.push({name:"quizMode",value:1})),Ne.emit("quizmanager.setCorrect",{shape:t}),He.emit("status.set",r),this.mode==2){let n=nr.get(e.quizTileGroup),s=yi.get(n.tileMap[t]);Ne.emit("quiz.winner",{players:s.players})}}static setMode(t){!this.quizItemGroup||!this.quizTileGroup||t!=this.mode&&(console.log("Set quiz mode:",t),t==0?(jo.setVisible(this.quizItemGroup,!1),Eo.setVisible(this.quizTileGroup,!1)):t==1?(Eo.setVisible(this.quizTileGroup,!1),jo.setVisible(this.quizItemGroup,!0)):t==2&&(jo.setVisible(this.quizItemGroup,!1),Eo.clear(this.quizTileGroup),Eo.setVisible(this.quizTileGroup,!0)),e.mode=t)}static initEvent(){Ne.on("quizmanager.off",t=>{e.setMode(0)}),Ne.on("quizmanager.itemmode",t=>{e.setMode(1)}),Ne.on("quizmanager.tilemode",t=>{e.setMode(2),Eo.setTilePosIndex(e.quizTileGroup,t.tileIndex)}),Ne.on("quizmanager.setCorrect",t=>{!this.quizItemGroup||!this.quizTileGroup||(e.mode==1?jo.setCorrect(e.quizItemGroup,t.shape):Eo.setCorrect(e.quizTileGroup,t.shape))}),rr.events.on("sync",t=>{if(!(!this.quizItemGroup||!this.quizTileGroup)){if(console.log("Sync quiz"),e.setMode(t.quizMode),e.mode==1){let r=go.get(e.quizItemGroup);for(let n in r.itemMap)Xn.setState(r.itemMap[n],t[n+"Visibility"])}if(e.mode==2){let r=nr.get(e.quizTileGroup);for(let n in r.tileMap)tr.setState(r.tileMap[n],t[n+"Visibility"])}}}),jo.events.on("touchAll",()=>{Ne.emit("quizmanager.off",{}),He.emit("status.set",[{name:"quizMode",value:0}])}),Go.events.on("panel2d.setCorrect",t=>{e.onCorrectPressed(t.shape)})}};ln.initEvent();var jd=require("~system/RestrictedActions");var D0=Q.defineComponent("slideObjectDisplayComponent",{objectEntity:B.Entity,logoEntity:B.Entity,modelEntity:B.Optional(B.Entity)}),Yr=Q.defineComponent("slideObjectComponent",{id:B.String,transform:B.Map({position:B.Vector3,scale:B.Vector3,rotation:B.Quaternion},{position:p.create(0,0,0),scale:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0)}),effect:B.Map({rotate:B.Boolean,zoom:B.Boolean,moveout:B.Boolean,focus:B.Boolean,playing:B.Boolean},{rotate:!1,zoom:!1,moveout:!1,focus:!1,playing:!0}),animations:B.Array(B.String),currentAnimations:B.Array(B.String),children:B.Array(B.Entity)}),Pe=class Pe{static create(t){let r=ie.createPosition(t),n=ie.createPosition({position:p.create(0,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:r}),s=Pe.createModel(r,"logo",Pe.getLogoModelData());return D0.create(r,{objectEntity:n,logoEntity:s}),Ot.attach(s,!0),r}static getLogoModelData(){let t="/new_logo.glb",r=p.create(.03,.03,.03);switch(qe.themeFeature){case 1:t="/SeasonDecoration/XMas/logo_with_hat_new2.glb";break;case 2:case 3:t="/SeasonDecoration/NewYear/new_year_logo_2023.glb",r=p.create(1,1,1);break;default:break}return{modelName:t,position:p.create(0,1,0),scale:r,rotation:p.create(0,0,0),animate:{onLoad:{name:"self-rotate"}}}}static createModel(t,r,n){let s=ie.createPosition({position:n.position?p.clone(n.position):p.create(0,0,0),scale:n.scale?p.clone(n.scale):p.create(1,1,1),rotation:n.rotation?V.fromEulerDegrees(n.rotation.x,n.rotation.y,n.rotation.z):V.fromEulerDegrees(0,0,0),parent:t});if(n.modelName.startsWith("shape::"))switch(n.modelName.substring(7)){case"cube":Cr.setBox(s),uo.setBox(s);break;case"plane":Cr.setPlane(s),uo.setPlane(s);break;case"sphere":Cr.setSphere(s),uo.setSphere(s);break;case"cylinder":Cr.setCylinder(s),uo.setCylinder(s);break}else{let c=n.modelName.startsWith("/")?"models"+n.modelName:"models/3dObjects/"+n.modelName;co.createOrReplace(s,{src:c,invisibleMeshesCollisionMask:qn.CL_PHYSICS|qn.CL_POINTER,visibleMeshesCollisionMask:qn.CL_POINTER})}let a=Pe.getAllAnimation(n);console.log("Model animations:",r,a),ft.create(s,{states:a.map((c,l)=>({clip:c,name:c,playing:!1}))});let f=n.group?n.group.map((c,l)=>Pe.createModel(s,`${r}-${l}`,c)):[];return Yr.create(s,{id:r,transform:{position:n.position?p.clone(n.position):p.create(0,0,0),scale:n.scale?p.clone(n.scale):p.create(1,1,1),rotation:n.rotation?V.fromEulerDegrees(n.rotation.x,n.rotation.y,n.rotation.z):V.fromEulerDegrees(0,0,0)},animations:a,currentAnimations:[],children:f}),Pe.setModelEvent(s,r,n),s}static setModelEvent(t,r,n){if(!n.animate)return;let s=[];n.animate.onTouch&&s.push({button:pe.IA_POINTER,hoverText:Pe.getEventDisplay(n.animate.onTouch),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.onTouch,a)}),n.animate.onE&&s.push({button:pe.IA_PRIMARY,hoverText:Pe.getEventDisplay(n.animate.onE),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.onE,a)}),n.animate.onF&&s.push({button:pe.IA_SECONDARY,hoverText:Pe.getEventDisplay(n.animate.onF),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.onF,a)}),n.animate.on1&&s.push({button:pe.IA_ACTION_3,hoverText:Pe.getEventDisplay(n.animate.on1),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.on1,a)}),n.animate.on2&&s.push({button:pe.IA_ACTION_4,hoverText:Pe.getEventDisplay(n.animate.on2),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.on2,a)}),n.animate.on3&&s.push({button:pe.IA_ACTION_5,hoverText:Pe.getEventDisplay(n.animate.on3),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.on3,a)}),n.animate.on4&&s.push({button:pe.IA_ACTION_6,hoverText:Pe.getEventDisplay(n.animate.on4),eventCallback:a=>Pe.handleModelEvent(t,r,n.animate.on4,a)}),wt.setEvents(t,s),n.animate?.onLoad?Pe.playModelAnimation(t,n.animate.onLoad):Pe.resetAllAnimation(t)}static handleModelEvent(t,r,n,s){if(typeof n.name=="number")Pe.setSlide(n.name);else{if(typeof n.name=="string"&&n.name.trim()=="")return;Ne.emit("slideobject.animate",{id:r,animation:n,playerId:lt.id})}}static setSlide(t){t>0?Pe.events.emit("setSlide",{slideNum:t}):Ne.emit("slideobject.changeModel",{slideNum:t})}static getAllAnimation(t){let r=[];return t.animate&&(t.animate.all?r=t.animate.all.split("+").map(n=>n.trim()):r=r.concat(Pe.getEventAnimations(t.animate.onLoad),Pe.getEventAnimations(t.animate.onTouch),Pe.getEventAnimations(t.animate.onE),Pe.getEventAnimations(t.animate.onF))),[...new Set(r)]}static getEventAnimations(t){if(!t)return[];if(typeof t.name=="number"||Object.values(Od).includes(t.name))return[];if(typeof t.name=="string")return t.name.split("+").map(r=>r.trim()).filter(r=>r!="noloop"&&!r.startsWith("animatespeed-"));if(typeof t.name=="object"){for(let r of t.name)if(r.type=="animation")return r.name.split("+").map(n=>n.trim()).filter(n=>n!="noloop"&&!n.startsWith("animatespeed-"))}return[]}static getEventDisplay(t){return t.display?t.display:typeof t.name=="number"?`Change model #${t.name}`:Object.values(Od).includes(t.name)?{"pause-animate":"Pause","self-rotate":"Self rotate","move-out":"Move out","zoom-in":"Zoom in",focus:"Focus","reset-animate":"Reset"}[t.name]:"Play"}static togglePauseAnimations(t,r=!1){let n=Yr.getMutableOrNull(t);if(!n)return;n.effect.playing=!n.effect.playing;let s=ft.getMutable(t);if(n.effect.playing)for(let a of s.states)n.currentAnimations.includes(a.clip)&&(a.playing=!0);else ft.stopAllAnimations(t,r);return n.effect.playing}static toggleSelfRotate(t,r,n=!0){let s=Yr.getMutableOrNull(t);if(s)return s.effect.rotate=!s.effect.rotate,s.effect.rotate?ji.startRotation(t,V.fromEulerDegrees(0,r*(n?1:-1),0)):ji.stopRotation(t),s.effect.rotate}static toggleMoveOut(t,r,n=.5){let s=Yr.getMutableOrNull(t);if(s)return s.effect.moveout=!s.effect.moveout,s.effect.moveout?zn.startTranslation(t,s.transform.position,p.add(s.transform.position,r),n,Ze.EASEOUTQUAD):zn.startTranslation(t,p.add(s.transform.position,r),s.transform.position,n,Ze.EASEOUTQUAD),s.effect.moveout}static toggleZoomIn(t,r,n=.5){let s=Yr.getMutableOrNull(t);if(s)return s.effect.zoom=!s.effect.zoom,s.effect.zoom?zn.startScaling(t,s.transform.scale,p.multiply(s.transform.scale,r),n,Ze.EASEOUTQUAD):zn.startScaling(t,p.multiply(s.transform.scale,r),s.transform.scale,n,Ze.EASEOUTQUAD),s.effect.zoom}static toggleFocus(t,r,n,s=1){let a=Yr.getMutableOrNull(t);if(a)return a.effect.focus=!a.effect.focus,a.effect.focus?(zn.startTranslation(t,a.transform.position,p.add(a.transform.position,r),s/2,Ze.EASEOUTQUAD,()=>{}),zn.startScaling(t,a.transform.scale,p.multiply(a.transform.scale,n),s/2,Ze.EASEOUTQUAD)):(zn.startScaling(t,p.multiply(a.transform.scale,n),a.transform.scale,s/2,Ze.EASEOUTQUAD,()=>{}),zn.startTranslation(t,p.add(a.transform.position,r),a.transform.position,s/2,Ze.EASEOUTQUAD)),a.effect.focus}static resetAllAnimation(t){console.log("Reset all model animation");let r=ft.getMutable(t);for(let n of r.states)n.shouldReset=!0,n.playing=!0,n.speed=0;gt.callNextFrame(()=>{let n=ft.getMutableOrNull(t);if(n)for(let s of n.states)s.playing=!1,s.speed=1})}static resetAllStockAnimation(t){let r=Yr.getMutableOrNull(t);if(!r)return;r.effect.focus=!1,r.effect.moveout=!1,r.effect.rotate=!1,r.effect.zoom=!1;let n=De.getMutable(t);n.position=p.clone(r.transform.position),n.scale=p.clone(r.transform.scale),n.rotation=V.create(r.transform.rotation.x,r.transform.rotation.y,r.transform.rotation.z,r.transform.rotation.w)}static async playAnimationString(t,r,n,s,a){let f=Yr.getMutableOrNull(t);if(!f)return;let c=r.split("+").map(I=>I.trim()),l=n!==void 0?n.split("+").map(I=>I.trim()):null,y=c.findIndex(I=>I.startsWith("animatespeed")),g=a??(y!=-1?Number(c[y]):1),M=s!==void 0?s:c.findIndex(I=>I=="noloop")==-1,w=ft.getMutable(t);f.currentAnimations=c,f.effect.playing=!0;for(let I of w.states)(l==null||l.includes(I.clip))&&(I.shouldReset=!0,I.playing=!0,I.speed=0);gt.callNextFrame(()=>{let I=ft.getMutableOrNull(t);if(I)for(let P of I.states)c.includes(P.clip)?(P.loop=M,P.speed=g,P.playing=!0):P.playing=!1})}static playModelEmote(t,r,n,s,a,f){if(console.log("Emote animation"),!!Yr.getMutableOrNull(t))for(let l of r)l.type==="emote"?n==lt.id&&gt.setTimeout(()=>{(0,jd.triggerSceneEmote)({src:`models/3dObjects/${l.name}`,loop:!1})},l.delay??0):l.type==="animation"?gt.setTimeout(()=>{Pe.playAnimationString(t,l.name,s,a,f)},l.delay??0):l.type==="movePlayer"&&n==lt.id&&(0,jd.movePlayerTo)({newRelativePosition:p.create(l.target?.x,l.target?.y,l.target?.z),cameraTarget:p.create(l.cameraTarget?.x,l.cameraTarget?.y,l.cameraTarget?.z)})}static playModelAnimation(t,r,n){let s=Yr.getMutableOrNull(t);if(s)switch(console.log("Model animation",s.id,r),r.name){case"pause-animate":Pe.togglePauseAnimations(t),r.audio&&Pe.playModelAudio(t,r,!1,s.effect.playing);break;case"self-rotate":Pe.toggleSelfRotate(t,90),r.audio&&Pe.playModelAudio(t,r,!1,s.effect.rotate);break;case"move-out":Pe.toggleMoveOut(t,p.create(0,0,3)),r.audio&&Pe.playModelAudio(t,r,!1,s.effect.moveout);break;case"zoom-in":Pe.toggleZoomIn(t,p.create(1.5,1.5,1.5)),r.audio&&Pe.playModelAudio(t,r,!1,s.effect.zoom);break;case"focus":Pe.toggleFocus(t,p.create(0,0,3),p.create(1.5,1.5,1.5)),r.audio&&Pe.playModelAudio(t,r,!1,s.effect.focus);break;case"reset-animate":Pe.resetAllAnimation(t),Pe.resetAllStockAnimation(t),r.audio&&Pe.playModelAudio(t,r,!0,!1);break;default:console.log("animation typeof",typeof r.name,r.name),typeof r.name=="string"&&r.name.trim()!=""&&Pe.playAnimationString(t,r.name,r.reset,r.loop,r.speed),typeof r.name=="object"&&Pe.playModelEmote(t,r.name,n,r.reset,r.loop,r.speed),r.audio&&Pe.playModelAudio(t,r);break}}static playModelAudio(t,r,n=!0,s=!0){if(r.audio&&(!Vo.has(t)||n))console.log("Playing audio",r.audio),Vo.createOrReplace(t,{audioClipUrl:r.audio,volume:r.audioVol??1,playing:!0});else{console.log("Set audio",s);let a=Vo.getMutable(t);a.playing=s}}static findEntityById(t){let r=Q.getEntitiesWith(Yr);for(let[n,s]of r)if(s.id==t)return n;return null}static showModel(t,r){let n=D0.getMutable(t);console.log("SlideObject: Show model",r),Ot.set(n.logoEntity,!1),n.modelEntity&&(Pe.removeModel(n.modelEntity),n.modelEntity=void 0),n.modelEntity=Pe.createModel(n.objectEntity,`${r.slide}-${r.modelName}`,r)}static showLogo(t){let r=D0.getMutable(t);console.log("SlideObject: Show logo"),r.modelEntity&&(Pe.removeModel(r.modelEntity),r.modelEntity=void 0),Ot.set(r.logoEntity,!0)}static removeModel(t){let r=Yr.getOrNull(t);if(r){for(let n of r.children)Pe.removeModel(n);wt.removeEvent(t),Q.removeEntityWithChildren(t)}}static initEvent(){Ne.on("slideobject.animate",t=>{let r=Pe.findEntityById(t.id);r&&Pe.playModelAnimation(r,t.animation,t.playerId)})}};Pe.events=new Sn,Pe.currentObject=2,Pe.dclAnimate=["self-rotate","move-out","zoom-in","pause-animate","noloop","animatespeed","focus"],Pe.isPlaying=!0,Pe.isRotating=!1,Pe.ismoveout=!1,Pe.isZoomIn=!1,Pe.isFocus=!1;var pr=Pe;pr.initEvent();var hT=new Hi,hl=class e{constructor(t,r){this.x=t,this.y=r}static create(t,r){return new e(t,r)}},qd=Q.defineComponent("lazeRayComponent",{fromPlayer:B.String,rayType:B.String,rayEntity:B.Entity,lifeTimer:B.Number}),pl=class e{static create(t,r){let n=ie.createPosition(t),s=ie.createCylinder({position:p.create(0,0,r.offset+r.length/2),scale:p.create(r.size.x,r.length,r.size.y),rotation:V.fromEulerDegrees(90,0,0),parent:n},.5,.5,!1);Fe.setPbrMaterial(s,{albedoColor:r.albedoColor??xe.Red(),emissiveColor:r.emissiveColor??xe.Red(),emissiveIntensity:r.emissiveIntensity??7}),zn.startScaling(s,p.create(0,r.length,0),p.create(r.size.x,r.length,r.size.y),.2,Ze.EASEOUTQUAD);let a=-1;return r.lifeTime&&(a=gt.setTimeout(()=>{zn.startScaling(s,p.create(r.size.x,r.length,r.size.y),p.create(0,r.length,0),.3,Ze.EASEOUTQUAD,()=>{e.remove(n)})},r.lifeTime)),qd.create(n,{rayType:r.rayType,fromPlayer:r.fromPlayer,rayEntity:s,lifeTimer:a}),n}static remove(t){let r=qd.get(t);r.lifeTimer!==-1&&gt.clearTimeout(r.lifeTimer),Q.removeEntityWithChildren(t)}static setRayLength(t,r,n=1){let s=qd.get(t),a=De.getMutable(s.rayEntity);a.position=p.create(0,0,n+r/2),a.scale.y=r}};var To=class To{constructor(t){this.castType=1;this.rayType=t.rayType,this.size=t.size,this.offset=t.offset,this.lifeTime=t.lifeTime,this.maxLength=t.maxLength??64,this.albedoColor=t.albedoColor??xe.Red(),this.emissiveColor=t.emissiveColor??xe.Red(),this.emissiveIntensity=t.emissiveIntensity??7,this.castType=t.castType??1}castRay(){t0.registerLocalDirectionRaycast({entity:Q.CameraEntity,opts:{queryType:rc.RQT_HIT_FIRST,direction:p.Forward(),maxDistance:1e3,collisionMask:qn.CL_PHYSICS|qn.CL_POINTER}},t=>{if(t.hits&&t.hits.length>0&&t.hits[0]&&t.hits[0].position&&t.hits[0].normalHit){let r=De.get(Q.PlayerEntity),n=p.add(p.create(0,To.PlayerHeight,0),To.RayStartOffset),s=p.add(r.position,n),a=t.hits[0].position,f=V.lookRotation(p.subtract(a,s),p.Up()),c=Math.min(p.distance(s,a),this.maxLength),l=pl.create({position:s,rotation:f},{fromPlayer:lt.username,rayType:this.rayType,size:this.size,length:c,offset:this.offset,lifeTime:this.lifeTime,albedoColor:this.albedoColor,emissiveColor:this.emissiveColor,emissiveIntensity:this.emissiveIntensity})}})}castRaySync(){t0.registerLocalDirectionRaycast({entity:Q.CameraEntity,opts:{queryType:rc.RQT_HIT_FIRST,direction:p.Forward(),maxDistance:1e3,collisionMask:qn.CL_PHYSICS|qn.CL_POINTER}},t=>{if(t.hits&&t.hits.length>0&&t.hits[0]&&t.hits[0].position&&t.hits[0].normalHit){let r=De.get(Q.PlayerEntity),n=p.add(p.create(0,To.PlayerHeight,0),To.RayStartOffset),s=p.add(r.position,n),a=t.hits[0].position,f=V.lookRotation(p.subtract(a,s),p.Up()),c=Math.min(p.distance(s,a),this.maxLength);this.createRaySync(s,f,c)}})}createRaySync(t,r,n){hT.emit("lazecast.createRay",{position:t,rotation:r,length:n,fromPlayer:lt.username,rayType:this.rayType,size:this.size,offset:this.offset,lifeTime:this.lifeTime,albedoColor:this.albedoColor,emissiveColor:this.emissiveColor,emissiveIntensity:this.emissiveIntensity,castType:this.castType})}static createRay(t,r,n){if(n===1)return pl.create(t,r);if(n===0){let s=Q.getEntitiesWith(qd);for(let[a,f]of s)r.rayType==f.rayType&&r.fromPlayer==f.fromPlayer&&pl.remove(a);return pl.create(t,r)}}static initEvent(){hT.on("lazecast.createRay",t=>{To.createRay({position:t.position,rotation:t.rotation},{fromPlayer:t.fromPlayer,rayType:t.rayType,size:t.size,length:t.length,offset:t.offset,lifeTime:t.lifeTime,albedoColor:t.albedoColor,emissiveColor:t.emissiveColor,emissiveIntensity:t.emissiveIntensity},t.castType)})}static system(t){if(!To.currentCaster)return;zi.getInputCommand(pe.IA_ACTION_4,jr.PET_DOWN)&&To.currentCaster.castRaySync()}};To.PlayerHeight=1.68,To.RayStartOffset=p.create(0,-.1,0);var hr=To;Q.addSystem(e=>hr.system(e));hr.initEvent();var L0=require("~system/RestrictedActions");var U0=Q.defineComponent("viewAreaComponent",{areaName:B.String,cameraLookAt:B.Vector3,cameraMode:B.Number,active:B.Boolean,enabled:B.Boolean,hasCollider:B.Boolean},{cameraLookAt:p.create(0,0,0),cameraMode:_n.CT_FIRST_PERSON,active:!1,enabled:!0,hasCollider:!1}),cn=class e{static create(t,r){let n=ie.createPosition({position:t.position});return U0.create(n,{areaName:r.name,cameraLookAt:r.cameraLookAt,cameraMode:r.cameraMode,hasCollider:r.hasCollider??!1}),n}static setActive(t,r,n=!1){let s=U0.getMutable(t);if(s.active!=r&&r){let a=De.get(t);n0.create(t,{area:a.scale,mode:s.cameraMode}),n&&((0,L0.movePlayerTo)({newRelativePosition:a.position,cameraTarget:s.cameraLookAt}),e.fixViewTimer&&gt.clearTimeout(e.fixViewTimer),e.fixViewTimer=gt.setTimeout(()=>{(0,L0.movePlayerTo)({newRelativePosition:a.position,cameraTarget:s.cameraLookAt}),e.fixViewTimer=void 0},.5))}else n0.deleteFrom(t);s.active=r}static toggleSingleActive(t,r){let n=Q.getEntitiesWith(U0,De),s=!!r&&lt.isAuth&&lt.username!=r;for(let[a,f,c]of n)f.areaName==t?e.setActive(a,!f.active,s):e.setActive(a,!1,s)}static toggleSingleActiveSync(t,r=!0){Ne.emit("viewarea.toggleSingleActive",{exceptPlayer:r?lt.username:void 0,areaName:t})}static initEvent(){Ne.on("viewarea.toggleSingleActive",t=>{e.toggleSingleActive(t.areaName,t.exceptPlayer)})}};cn.initEvent();var Ei=Q.defineComponent("panelCompnent",{currentSlide:B.Number,maxSlide:B.Number,slideUrl:B.String},{currentSlide:1,maxSlide:20,slideUrl:"images/slides/Slide"}),re=class re{static create(t){re.entity=ie.createGltfShape(t,"models/panel/panel.glb"),Ei.create(re.entity);let r=new hr({rayType:"pointer",size:hl.create(.08,.08),offset:.5,lifeTime:1,albedoColor:xe.White(),emissiveColor:xe.Red(),emissiveIntensity:10,castType:0}),n=mt.create({position:p.create(.7,0,.2),scale:p.create(re.ArrowSize,re.ArrowSize,re.ArrowSize),parent:re.entity},"models/panel/button/arrow_button.glb",[{button:pe.IA_POINTER,hoverText:"Previous slide",maxDistance:re.ButtonDistance,eventCallback:P=>{re.screenMode(re.entity,1),re.prevSlide(re.entity)}},{button:pe.IA_PRIMARY,hoverText:"First slide",maxDistance:re.ButtonDistance,eventCallback:P=>{re.screenMode(re.entity,1),re.setSlide(re.entity,1)}}]),s=mt.create({position:p.create(-.7,0,.2),scale:p.create(-re.ArrowSize,re.ArrowSize,re.ArrowSize),parent:re.entity},"models/panel/button/arrow_button.glb",[{button:pe.IA_POINTER,hoverText:"Next slide",maxDistance:re.ButtonDistance,eventCallback:P=>{re.screenMode(re.entity,1),re.nextSlide(re.entity)}},{button:pe.IA_PRIMARY,hoverText:"Go to slide",maxDistance:re.ButtonDistance,eventCallback:P=>{let S=Ei.get(re.entity);ul.show(S.currentSlide,S.maxSlide)}}]),a=mt.create({position:p.create(.45,-.5,.2),scale:re.ButtonSize,parent:re.entity},"models/panel/button/slide_button.glb",[{button:pe.IA_POINTER,hoverText:"Slide mode",maxDistance:re.ButtonDistance,eventCallback:P=>{re.screenMode(re.entity,1)}}]),f=mt.create({position:p.create(-.45,-.5,.2),scale:re.ButtonSize,parent:re.entity},"models/panel/button/video_button.glb",[{button:pe.IA_POINTER,hoverText:"Video mode",maxDistance:re.ButtonDistance,eventCallback:P=>{re.screenMode(re.entity,2)}},{button:pe.IA_PRIMARY,hoverText:"Restart video",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Restart video"),re.screenMode(re.entity,2),Ne.emit("screen.reset",{})}},{button:pe.IA_SECONDARY,hoverText:"Video List",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Video List"),Qr.setVisible(!0)}}]),c=mt.create({position:p.create(.45,-1.1,.2),scale:re.ButtonSize,parent:re.entity},"models/panel/button/quiz_button.glb",[{button:pe.IA_POINTER,hoverText:"Quiz mode",maxDistance:re.ButtonDistance,eventCallback:P=>{re.quizMode(re.entity,1)}},{button:pe.IA_PRIMARY,hoverText:"Quiz mode (Tile)",maxDistance:re.ButtonDistance,eventCallback:P=>{re.quizMode(re.entity,2)}}]),l=mt.create({position:p.create(-.45,-1.1,.2),scale:re.ButtonSize,parent:re.entity},"models/panel/button/prize_button.glb",[{button:pe.IA_PRIMARY,hoverText:"View slide",eventCallback:P=>{console.log("View slide"),cn.toggleSingleActiveSync("slide")}},{button:pe.IA_SECONDARY,hoverText:"View model",eventCallback:P=>{console.log("View model"),cn.toggleSingleActiveSync("model")}}]);hr.currentCaster=r;let y=mt.create({position:p.create(-.45,1.1,.15),scale:re.QuizButtonSize,parent:re.entity},"models/panel/quiz_button/circle_button.glb",[{button:pe.IA_POINTER,hoverText:"Circle is correct answer",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Circle is correct answer"),ln.onCorrectPressed("circle")}}]),g=mt.create({position:p.create(.45,.5,.15),scale:re.QuizButtonSize,parent:re.entity},"models/panel/quiz_button/diamond_button.glb",[{button:pe.IA_POINTER,hoverText:"Diamond is correct answer",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Diamond is correct answer"),ln.onCorrectPressed("diamond")}}]),M=mt.create({position:p.create(.45,1.1,.15),scale:re.QuizButtonSize,parent:re.entity},"models/panel/quiz_button/triangle_button.glb",[{button:pe.IA_POINTER,hoverText:"Triangle is correct answer",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Triangle is correct answer"),ln.onCorrectPressed("triangle")}}]),w=mt.create({position:p.create(-.45,.5,.15),scale:re.QuizButtonSize,parent:re.entity},"models/panel/quiz_button/square_button.glb",[{button:pe.IA_POINTER,hoverText:"Square is correct answer",maxDistance:re.ButtonDistance,eventCallback:P=>{console.log("Square is correct answer"),ln.onCorrectPressed("square")}}]),I=ie.createGltfShape({position:p.create(0,1.8,0),scale:p.create(.5,.3,.5),rotation:V.fromEulerDegrees(0,90,0),parent:re.entity},"models/panel/discord_name.glb");return re.discordNameText=ie.createText({position:p.create(0,2.16,.05),scale:p.create(.21,.21,.21),rotation:V.fromEulerDegrees(0,180,0),parent:re.entity},{text:"",textColor:xe.fromHexString("#f18535"),outlineWidth:.3,lineSpacing:-.5,outlineColor:rt.fromHexString("#f18535"),textAlign:dr.TAM_MIDDLE_CENTER}),Je.create(re.discordNameText,{visible:!0}),mi.slideUrl="images/slides/Slide",re.entity}static bindComponent(t){return re.entity=t,Ei.createOrReplace(t),mi.slideUrl="images/slides/Slide",t}static setSlide(t,r){let n=Ei.getMutable(t);n.currentSlide=r;let s=`${n.slideUrl}${n.currentSlide}.jpg`;Ne.emit("screen.setSlide",{slideUrl:s,slideNum:n.currentSlide,maxSlide:n.maxSlide}),He.emit("status.set",[{name:"currentSlide",value:n.currentSlide}])}static nextSlide(t){let r=Ei.getMutable(t);if(r.currentSlide+1>r.maxSlide)return;r.currentSlide+=1;let n=`${r.slideUrl}${r.currentSlide}.jpg`;Ne.emit("screen.setSlide",{slideUrl:n,slideNum:r.currentSlide,maxSlide:r.maxSlide}),He.emit("status.set",[{name:"currentSlide",value:r.currentSlide},{name:"slideVideoMode",value:1}])}static prevSlide(t){let r=Ei.getMutable(t);if(r.currentSlide<=1)return;r.currentSlide-=1;let n=`${r.slideUrl}${r.currentSlide}.jpg`;Ne.emit("screen.setSlide",{slideUrl:n,slideNum:r.currentSlide,maxSlide:r.maxSlide}),He.emit("status.set",[{name:"currentSlide",value:r.currentSlide},{name:"slideVideoMode",value:1}])}static screenMode(t,r){Ne.emit("screen.setmode",{mode:r});let n=[{name:"slideVideoMode",value:r},{name:"videoState",value:r==2?1:0}];if(r==2){let s=Qr.getCurrentItem();Ne.emit("screen.setVideo",{mode:2,url:s?.url??"",title:s?.name??"No video"}),n.push({name:"videoPosition",value:0}),n.push({name:"videoUrl",value:JSON.stringify(Qr.videos)})}He.emit("status.set",n)}static quizMode(t,r){ln.onQuizModePressed(r)}static initEvent(){Go.events.on("panel2d.nextSlide",r=>{re.nextSlide(re.entity)}),Go.events.on("panel2d.prevSlide",r=>{re.prevSlide(re.entity)}),mi.events.on("fullscreen.nextSlide",r=>{re.nextSlide(re.entity)}),mi.events.on("fullscreen.prevSlide",r=>{re.prevSlide(re.entity)}),Go.events.on("panel2d.setSlideMode",r=>{re.screenMode(re.entity,1)}),Go.events.on("panel2d.setVideoMode",r=>{re.screenMode(re.entity,2)}),Go.events.on("panel2d.quizitem",r=>{re.quizMode(re.entity,1)}),ul.events.on("setSlide",r=>{re.screenMode(re.entity,1),re.setSlide(re.entity,r.slideNum)}),On.events.on("setSlide",r=>{re.screenMode(re.entity,1),re.setSlide(re.entity,r.slideNum)}),pr.events.on("setSlide",r=>{re.screenMode(re.entity,1),re.setSlide(re.entity,r.slideNum)});let t="";rr.events.on("sync",async r=>{if(!re.entity)return;let n=Ei.getMutable(re.entity);n.slideUrl=r.slideDirectory??"images/slides/Slide",n.currentSlide=r.currentSlide,n.maxSlide=r.maxSlide;try{t=r.position;let s=`${qe.multilandManagementAddress}/api/vc-realm?realm=${r.realm}&position=${r.position}`,a=await fetch(s).then(l=>l.json());console.log("scene data: ",a);let f=Je.getMutable(re.discordNameText);f.visible=!0;let c=Fo.getMutable(re.discordNameText);a.length<=0?c.text="No Voice Channel":c.text=a[0].voiceChannel}catch{console.log("Error fetch Multiland Management URL");let a=Je.getMutable(re.discordNameText);a.visible=!1}}),Di.onChange(Q.PlayerEntity,async r=>{try{let n=`${qe.multilandManagementAddress}/api/vc-realm?realm=${r?.realmName}&position=${t}`,s=await fetch(n).then(c=>c.json());console.log("scene data: ",s);let a=Je.getMutable(re.discordNameText);a.visible=!0;let f=Fo.getMutable(re.discordNameText);s.length<=0?f.text="No Voice Channel":f.text=s[0].voiceChannel}catch{console.log("Error fetch Multiland Management URL");let s=Je.getMutable(re.discordNameText);s.visible=!1}})}};re.ButtonSize=p.create(.5,.4,.15),re.ArrowSize=1.75,re.ButtonDistance=15,re.QuizButtonSize=p.create(.5,.5,.15),re.viewSLideBoxIsActive=!1,re.viewObjectBoxIsActive=!1;var je=re;je.initEvent();var or=class or{static create(t,r){let n=ie.createPosition(t),s=ie.createBox({position:p.create(0,0,0),scale:p.create(r.x,or.baseThickness,r.z),parent:n},!0),a=ie.createBox({position:p.create(-r.x/2+or.wallThickness/2,r.y/2,0),scale:p.create(or.wallThickness,r.y,r.z),parent:n},!0),f=ie.createBox({position:p.create(0,r.y/2,(or.wallThickness-r.z)/2),scale:p.create(r.x,r.y,or.wallThickness),parent:n},!0),c=ie.createText({position:p.create(0,or.baseThickness,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(90,180,0),parent:n},{text:"3D",textColor:xe.create(.86,.8,.95,1),fontSize:30,outlineWidth:.4,outlineColor:rt.create(.86,.8,.95),textAlign:dr.TAM_MIDDLE_CENTER});return Fe.setPbrMaterial(s,or.baseMaterial),Fe.setPbrMaterial(a,or.WallMaterial),Fe.setPbrMaterial(f,or.WallMaterial),n}};or.WallMaterial={albedoColor:xe.create(.2,.9,.7,1),metallic:.1,roughness:.3},or.baseMaterial={albedoColor:xe.White(),metallic:0,roughness:1,emissiveColor:rt.create(0,0,.6),emissiveIntensity:2},or.wallThickness=.1,or.baseThickness=.1;var Qd=or,yT=Q.defineComponent("area3dComponent",{slideObject:B.Entity}),yr=class{static create(t,r){let n=ie.createPosition(t);r(n,t);let s=pr.create({position:p.create(0,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:n});return yT.create(n,{slideObject:s}),n}static getSlideObject(t){return yT.getOrNull(t)?.slideObject}static initEvent(){}};yr.WallMaterial={albedoColor:xe.create(.2,.9,.7,1),metallic:.1,roughness:.3},yr.baseMaterial={albedoColor:xe.White(),metallic:0,roughness:1,emissiveColor:rt.create(0,0,.6),emissiveIntensity:2};yr.initEvent();var Yd=class e{static create(t){let r=ie.createBox(t);return e.startElevator(r),r}static startElevator(t){let r=[p.create(3.5,.15,5.23),p.create(3.5,8,5.23),p.create(3.5,.15,5.23)];_0.startStraightPath(t,r,5,!1,async()=>{await gt.delay(1),e.startElevator(t)})}};var F0=require("~system/RestrictedActions"),Jd=class e{static create(t,r){let n=ie.createPosition(t),s=ie.createColliderBox({position:p.create(0,8,0),scale:p.create(16,16,1),parent:n}),a=ie.createPosition({position:p.create(0,4,0),parent:n});return Zn.addTrigger(a,Kn,yo,[{type:"box",scale:p.create(15,8,2.5)}],f=>{mo.setVisible(!0),mo.onCorrectPassword=()=>{e.remove(n),(0,F0.movePlayerTo)({newRelativePosition:p.create(11,1,6),cameraTarget:p.create(8,2.5,29.5)}),r?.()}},()=>{mo.setVisible(!1)},rt.Blue()),e.wallEntity=n,n}static remove(t){Q.removeEntityWithChildren(t)}},Rr=class{static create(t,r){let n=ie.createPosition({position:t.position});return Zn.addTrigger(n,Kn,yo,[{type:"box",scale:t.scale}],s=>{(0,F0.movePlayerTo)({newRelativePosition:r.kickoutPosition,cameraTarget:r.kickoutCameraTarget})},()=>{},rt.Yellow()),r.enabled===!1&&Zn.enableTrigger(n,!1),n}static setEnabled(t,r){Zn.enableTrigger(t,r)}};var $d=Q.defineComponent("countDownComponent",{digitEntity:B.Entity,tenthEntity:B.Entity,hundredthEntity:B.Entity,startTranform:B.Map({position:B.Optional(B.Vector3),scale:B.Optional(B.Vector3),rotation:B.Optional(B.Quaternion)}),endTransform:B.Map({position:B.Optional(B.Vector3),scale:B.Optional(B.Vector3),rotation:B.Optional(B.Quaternion)}),currentNumber:B.Number,timerId:B.Optional(B.Number)}),Pr=class e{static create(t,r,n){let s=ie.createPosition(t),a=ie.createGltfShape({position:p.create(.5,0,0),scale:p.create(1.5,1.5,1.5),rotation:V.fromEulerDegrees(0,180,0),parent:s},"models/countNumber/num1.glb"),f=ie.createGltfShape({position:p.create(0,0,0),scale:p.create(1.5,1.5,1.5),rotation:V.fromEulerDegrees(0,180,0),parent:s},"models/countNumber/num2.glb"),c=ie.createGltfShape({position:p.create(-.5,0,0),scale:p.create(1.5,1.5,1.5),rotation:V.fromEulerDegrees(0,180,0),parent:s},"models/countNumber/num3.glb");return $d.create(s,{digitEntity:a,tenthEntity:f,hundredthEntity:c,startTranform:r,endTransform:n,currentNumber:-1}),Ot.attach(a,!1),Ot.attach(f,!1),Ot.attach(c,!1),e.initEvent(s),s}static playCountDownSound(t){Vo.createOrReplace(t,{audioClipUrl:"sounds/tick.mp3",loop:!1,playing:!0})}static playAlarmSound(t){Vo.createOrReplace(t,{audioClipUrl:"sounds/alarm.mp3",loop:!1,playing:!0})}static runEffect(t){let r=$d.getMutable(t);r.startTranform.position!=null&&r.endTransform.position!=null&&zn.startTranslation(t,r.startTranform.position,r.endTransform.position,1,Ze.EASEOUTQUAD),r.startTranform.scale!=null&&r.endTransform.scale!=null&&zn.startScaling(t,r.startTranform.scale,r.endTransform.scale,1,Ze.EASEOUTQUAD),r.startTranform.rotation!=null&&r.endTransform.rotation!=null&&zn.startRotation(t,r.startTranform.rotation,r.endTransform.rotation,1,Ze.EASEOUTQUAD)}static initEvent(t){Ne.on("countdown.setTime",r=>{e.startCountDown(t,r.time)})}static startCountDown(t,r){let n=$d.getMutable(t);n.currentNumber=r,e.displayNumber(t),n.timerId!==void 0&&gt.clearInterval(n.timerId),n.timerId=gt.setInterval(()=>{n.currentNumber-=1,e.displayNumber(t),e.runEffect(t),n.currentNumber<0&&(e.playAlarmSound(n.digitEntity),gt.clearInterval(n.timerId),n.timerId=void 0,Ot.set(n.digitEntity,!1))},1)}static displayNumber(t){let r=$d.get(t);if(r.currentNumber<0)return;Ot.set(r.digitEntity,!0),e.playCountDownSound(r.digitEntity);let n=Math.floor(r.currentNumber/100),s=Math.floor(r.currentNumber%100/10),a=r.currentNumber%10;co.createOrReplace(r.hundredthEntity,{src:`models/countNumber/num${n}.glb`}),co.createOrReplace(r.tenthEntity,{src:`models/countNumber/num${s}.glb`}),co.createOrReplace(r.digitEntity,{src:`models/countNumber/num${a}.glb`});let f=De.getMutable(r.hundredthEntity),c=De.getMutable(r.tenthEntity),l=De.getMutable(r.digitEntity);n==0&&s==0?(l.position.x=0,Ot.set(r.tenthEntity,!1),Ot.set(r.hundredthEntity,!1)):n==0?(Ot.set(r.hundredthEntity,!1),Ot.set(r.tenthEntity,!0),c.position.x=-.3,l.position.x=.3):(Ot.set(r.hundredthEntity,!0),Ot.set(r.tenthEntity,!0),Ot.set(r.digitEntity,!0),f.position.x=-.5,c.position.x=0,l.position.x=.5)}static userpressInputSystem(t){lt.isAuth&&zi.isTriggered(pe.IA_ACTION_3,jr.PET_DOWN)&&po.setVisible(!0)}};var Kd=class{static create(t){let r=ie.createPosition(t),n=ie.createBox({position:p.create(0,0,0),scale:p.create(1.3,.8,.05),parent:r},!0),s=ie.createText({position:p.create(0,0,-.04),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:r},{text:`PRIVATE AREA 
 Waiting for 
permission`,textColor:xe.fromHexString("#c15707"),fontSize:1.7,outlineWidth:.3,lineSpacing:-.5,outlineColor:rt.fromHexString("#c15707"),textAlign:dr.TAM_MIDDLE_CENTER})}};var yl=class{static create(){if(qe.themeFeature==1){let t=ie.createGltfShape({position:p.create(14,.7,28.97),scale:p.create(2,2,2),rotation:V.fromEulerDegrees(0,0,0)},"models/SeasonDecoration/XMas/xmas_tree4.glb"),r=ie.createGltfShape({position:p.create(12.5,1,28.97),scale:p.create(1.5,1.5,1.5),rotation:V.fromEulerDegrees(0,30,0)},"models/SeasonDecoration/XMas/gift1.glb"),n=ie.createGltfShape({position:p.create(13.5,.9,27.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,20,0)},"models/SeasonDecoration/XMas/gift2.glb");for(let s=0;s<7;s++){let a=Math.random()*2+.5,f=ie.createPlane({position:p.create(.95,Math.random()*5+1,Math.random()*5+8.2),scale:p.create(a,a,a),rotation:V.fromEulerDegrees(0,90,Math.random()*90+0)},"images/SeasonDecoration/XMas/Crystal-Snowflake-3.png"),c=ie.createPlane({position:p.create(Math.random()*5.5+0,Math.random()*5+1,7.7),scale:p.create(a,a,a),rotation:V.fromEulerDegrees(0,0,Math.random()*90+0)},"images/SeasonDecoration/XMas/Crystal-Snowflake-3.png")}}else if(qe.themeFeature==3){let t=ie.createGltfShape({position:p.create(13.4,.75,28.5),scale:p.create(.3,.3,.3)},"models/SeasonDecoration/LunarNewYear/table with cloth new2.glb"),r=ie.createGltfShape({position:p.create(1.25,4,-.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,180,0),parent:t},"models/SeasonDecoration/LunarNewYear/flower_vase2.glb"),n=ie.createPlane({position:p.create(5,5,7.7),scale:p.create(2,4.5,2),rotation:V.fromEulerDegrees(0,180,0)},"images/SeasonDecoration/LunarNewYear/TetBanner1.png"),s=ie.createPlane({position:p.create(2.1,5,7.7),scale:p.create(2,4.5,2),rotation:V.fromEulerDegrees(0,180,0)},"images/SeasonDecoration/LunarNewYear/TetBanner2.png")}}};yl.tetBanner1={texture:Fe.Texture.Common({src:"images/SeasonDecoration/LunarNewYear/TetBanner1.png",filterMode:nc.TFM_BILINEAR,wrapMode:tc.TWM_CLAMP})},yl.tetBanner2={texture:Fe.Texture.Common({src:"images/SeasonDecoration/LunarNewYear/TetBanner2.png",filterMode:nc.TFM_BILINEAR,wrapMode:tc.TWM_CLAMP})};var V0=Q.defineComponent("objectControlComoponent",{slideObject:B.Entity}),Ma=class e{static create(t,r){let n=ie.createPosition(t),s=ie.createGltfShape({position:p.create(0,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:n},"models/lectern.glb"),a=ie.createGltfShape({position:p.create(0,2.2,0),scale:p.create(5.5,5.5,5.5),rotation:V.fromEulerDegrees(-45,0,0),parent:n},"models/red_button.glb",[{clip:"trigger",playing:!1,loop:!1}]);return wt.setEvents(a,[{button:pe.IA_POINTER,hoverText:"First Object",maxDistance:10,eventCallback:f=>{ft.playSingleAnimation(a,"trigger");let c=e.getFirstObject();c&&pr.setSlide(c.slide)}},{button:pe.IA_PRIMARY,hoverText:"Next Object",maxDistance:10,eventCallback:f=>{ft.playSingleAnimation(a,"trigger");let c=e.getNextObject();c&&pr.setSlide(c.slide)}},{button:pe.IA_SECONDARY,hoverText:"Object List",maxDistance:10,eventCallback:f=>{ft.playSingleAnimation(a,"trigger"),On.setVisible(!0)}}]),V0.create(n,{slideObject:r}),e.entity=n,n}static bindComponent(t,r){return wt.setEvents(t,[{button:pe.IA_POINTER,hoverText:"First Object",maxDistance:10,eventCallback:n=>{let s=e.getFirstObject();s&&pr.setSlide(s.slide)}},{button:pe.IA_PRIMARY,hoverText:"Next Object",maxDistance:10,eventCallback:n=>{let s=e.getNextObject();s&&pr.setSlide(s.slide)}},{button:pe.IA_SECONDARY,hoverText:"Object List",maxDistance:10,eventCallback:n=>{On.setVisible(!0)}}]),V0.create(t,{slideObject:r}),e.entity=t,t}static getFirstObject(){let t=Object.values(On.slideModels);for(let r of t)if(r.slide&&r.slide>0)return r;return null}static getNextObject(){let t=Object.values(On.slideModels),r=!1;for(let n of t){if(r&&n.slide&&n.slide>0)return n;n.slide&&n.slide==On.currentSlide&&(r=!0)}return null}static displaySlideModel(t){let r=V0.get(t),n=On.getCurrentModel();n?pr.showModel(r.slideObject,n):pr.showLogo(r.slideObject)}static initEvent(){Ne.on("screen.setSlide",t=>{On.currentSlide=t.slideNum,e.displaySlideModel(e.entity)}),Ne.on("slideobject.changeModel",t=>{On.currentSlide=t.slideNum,e.displaySlideModel(e.entity)}),rr.events.on("sync",t=>{let r=[];try{r=JSON.parse(t.synchronize3d??"[]")}catch(n){console.error("Model JSON error",n)}On.slideModels={},On.currentSlide=t.currentSlide;for(let n of r)n.slide!=null&&(On.slideModels[n.slide]=n);console.log("Slide models:",On.slideModels),On.onSync(),this.displaySlideModel(e.entity)})}};Ma.initEvent();var _a=class{static create(t,r){let n="models/bangdieukhien",s=ie.createPosition(t),a={position:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0),scale:p.create(1,1,1),parent:s},f=new hr({rayType:"pointer",size:hl.create(.1,.1),offset:.5,lifeTime:1,albedoColor:xe.White(),emissiveColor:xe.Red(),emissiveIntensity:20,castType:0}),c=ie.createGltfShape(a,`${n}/new_table.glb`),l=mt.create(a,`${n}/ai_btn.glb`,[]),y=mt.create(a,`${n}/move_btn.glb`,[]),g=mt.create(a,`${n}/pause_btn.glb`,[]),M=mt.create(a,`${n}/play_btn.glb`,[]),w=mt.create(a,`${n}/refresh_btn.glb`,[]),I=mt.create(a,`${n}/view_3d_btn.glb`,[]),P=yr.getSlideObject(r);P&&Ma.bindComponent(I,P);let S=mt.create(a,`${n}/next_slide_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Next slide",maxDistance:je.ButtonDistance,eventCallback:H=>{je.screenMode(je.entity,1),je.nextSlide(je.entity)}}]),x=mt.create(a,`${n}/prev_slide_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Previous slide",maxDistance:je.ButtonDistance,eventCallback:H=>{je.screenMode(je.entity,1),je.prevSlide(je.entity)}}]),k=mt.create(a,`${n}/jump_slide_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Go to slide",maxDistance:je.ButtonDistance,eventCallback:H=>{let le=Ei.get(je.entity);ul.show(le.currentSlide,le.maxSlide)}}]),N=mt.create(a,`${n}/first_slide_btn.glb`,[{button:pe.IA_POINTER,hoverText:"First slide",maxDistance:je.ButtonDistance,eventCallback:H=>{je.screenMode(je.entity,1),je.setSlide(je.entity,1)}}]),F=mt.create(a,`${n}/slide_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Slide mode",maxDistance:je.ButtonDistance,eventCallback:H=>{je.screenMode(je.entity,1)}}]),ae=mt.create(a,`${n}/video_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Video mode",maxDistance:je.ButtonDistance,eventCallback:H=>{je.screenMode(je.entity,2)}},{button:pe.IA_PRIMARY,hoverText:"Restart video",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Restart video"),je.screenMode(je.entity,2),Ne.emit("screen.reset",{})}},{button:pe.IA_SECONDARY,hoverText:"Video List",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Video List"),Qr.setVisible(!0)}}]),Ae=mt.create(a,`${n}/quiz_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Quiz mode",maxDistance:je.ButtonDistance,eventCallback:H=>{je.quizMode(je.entity,1)}},{button:pe.IA_PRIMARY,hoverText:"Quiz mode (Tile)",maxDistance:je.ButtonDistance,eventCallback:H=>{je.quizMode(je.entity,2)}}]),ne=mt.create(a,`${n}/person_view_btn.glb`,[{button:pe.IA_PRIMARY,hoverText:"View slide",eventCallback:H=>{console.log("View slide"),cn.toggleSingleActiveSync("slide")}},{button:pe.IA_SECONDARY,hoverText:"View model",eventCallback:H=>{console.log("View model"),cn.toggleSingleActiveSync("model")}}]),j=mt.create(a,`${n}/laze_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Laze mode",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Laze mode",!!hr.currentCaster),hr.currentCaster?hr.currentCaster=void 0:hr.currentCaster=f}}]);hr.currentCaster=f;let se=mt.create(a,`${n}/quiz_triangle.glb`,[{button:pe.IA_POINTER,hoverText:"Triangle is correct answer",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Triangle is correct answer"),ln.onCorrectPressed("triangle")}}]),oe=mt.create(a,`${n}/quiz_circle.glb`,[{button:pe.IA_POINTER,hoverText:"Circle is correct answer",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Circle is correct answer"),ln.onCorrectPressed("circle")}}]),$=mt.create(a,`${n}/quiz_square.glb`,[{button:pe.IA_POINTER,hoverText:"Square is correct answer",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Square is correct answer"),ln.onCorrectPressed("square")}}]),A=mt.create(a,`${n}/quiz_diamond.glb`,[{button:pe.IA_POINTER,hoverText:"Diamond is correct answer",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Diamond is correct answer"),ln.onCorrectPressed("diamond")}}]),O=mt.create(a,`${n}/count_down_btn.glb`,[{button:pe.IA_POINTER,hoverText:"Activate count down",maxDistance:je.ButtonDistance,eventCallback:H=>{console.log("Countdown pressed"),po.setVisible(!0)}}]);return je.bindComponent(s),s}};var So=Q.defineComponent("screenCompnent",{slideUrl:B.String,videoUrl:B.Optional(B.String),mode:B.Number,slideNum:B.Number,maxSlide:B.Number,videoTitle:B.String,screenStatusText:B.Entity,winnerText:B.Entity,videoStatusText:B.Entity,videoStatus:B.Map({state:B.Number,currentTimestamp:B.Number,videoLength:B.Number},{state:br.VS_NONE,currentTimestamp:-1,videoLength:0})}),te=class te{static create(t,r,n){te.entity=ie.createPlane(t),Fe.setPbrMaterial(te.entity,{texture:Fe.Texture.Common({src:r}),emissiveTexture:Fe.Texture.Common({src:r}),emissiveIntensity:te.ScreenBrightness,emissiveColor:rt.White()});let s=ie.createText({position:p.create(-.51,.5,0),scale:p.create(.024,.055,.027),rotation:V.fromEulerDegrees(0,0,0),parent:te.entity},{text:"Slide Mode: 1/20",textColor:xe.fromHexString("#f18535"),fontSize:16,outlineWidth:.3,outlineColor:rt.fromHexString("#f18535"),textAlign:dr.TAM_BOTTOM_LEFT,lineSpacing:-25,lineCount:2}),a=ie.createText({position:p.create(.5,.5,0),scale:p.create(.024,.055,.027),rotation:V.fromEulerDegrees(0,0,0),parent:te.entity},{text:"",textColor:xe.fromHexString("#f18535"),fontSize:16,outlineWidth:.3,outlineColor:rt.fromHexString("#f18535"),textAlign:dr.TAM_BOTTOM_RIGHT,lineSpacing:-10}),f=ie.createText({position:p.create(-.5,-.6,0),scale:p.create(.024,.052,.027),rotation:V.fromEulerDegrees(0,0,0),parent:te.entity},{text:"",textColor:te.VideoNormalTextColor,fontSize:16,outlineWidth:.4,outlineColor:te.VideoNormalTextColor,textAlign:dr.TAM_BOTTOM_LEFT});if(So.create(te.entity,{mode:1,screenStatusText:s,videoStatusText:f,winnerText:a,slideUrl:r,videoUrl:n}),qe.buildingTemplate=="9"){let c=ie.createGltfShape({position:p.create(0,-.52,0),scale:p.create(.2,.45,.25),rotation:V.fromEulerDegrees(0,90,0),parent:te.entity},"models/shared_photo/photo_pannel.glb"),l=ie.createGltfShape({position:p.create(0,-.8,0),scale:p.create(1.2,.7,1),rotation:V.fromEulerDegrees(0,0,0),parent:te.entity},"models/new_building_object/screen_base.glb")}return te.setScreenEvent(te.entity,1),te.entity}static setScreenMode(t,r,n=!1){let s=So.getMutable(t);if(r==1){if(wa.has(t)){let a=wa.getMutable(t);a.playing=!1}s.mode=1,Fe.setPbrMaterial(t,{texture:Fe.Texture.Common({src:s.slideUrl}),emissiveTexture:Fe.Texture.Common({src:s.slideUrl}),emissiveIntensity:te.ScreenBrightness,emissiveColor:rt.White()}),te.setScreenText(t,`Slide Mode: ${s.slideNum}/${s.maxSlide}`),te.setVideoText(t,""),te.setScreenEvent(t,r)}else{s.mode=2;let a=Qr.getCurrentItem();if(s.videoUrl=a?.url,s.videoTitle=a?.name??"No video",s.videoUrl){wa.createOrReplace(t,{src:s.videoUrl,playing:!0});let f=Fe.Texture.Video({videoPlayerEntity:t});Fe.setPbrMaterial(t,{texture:f,emissiveTexture:f,emissiveIntensity:te.ScreenBrightness,emissiveColor:rt.White()}),te.setScreenText(t,`Video Mode:
${s.videoTitle}`),te.setScreenEvent(t,r),n&&te.restartVideo(t)}else Fe.setPbrMaterial(t,{albedoColor:xe.Black(),roughness:.7,metallic:.5}),te.setScreenText(t,"Video Mode: No video"),te.setVideoText(t,"")}}static setScreenEvent(t,r){r==1?wt.setEvents(t,[{button:pe.IA_PRIMARY,hoverText:"Full Screen",maxDistance:20,eventCallback:n=>{mi.setVisible(!0)}}]):wt.setEvents(t,[{button:pe.IA_POINTER,hoverText:"Play/Pause",maxDistance:15,eventCallback:n=>{let s=wa.get(t);Ne.emit("screen.pause",{playState:!s.playing});let a=[{name:"videoState",value:s.playing?0:1}];He.emit("status.set",a)}}])}static setSlide(t,r,n,s){let a=So.getMutable(t);a.slideNum=n,a.slideUrl=r,s!==void 0&&(a.maxSlide=s),Fe.setPbrMaterial(t,{texture:Fe.Texture.Common({src:a.slideUrl}),emissiveTexture:Fe.Texture.Common({src:a.slideUrl}),emissiveIntensity:te.ScreenBrightness,emissiveColor:rt.White()}),mi.slideUrl=r,te.setScreenText(t,`Slide Mode: ${a.slideNum}/${a.maxSlide}`),te.setVideoText(t,"")}static setVideo(t,r,n){let s=So.getMutable(t);console.log("Set video:",r,n),s.mode=2,s.videoUrl=r,s.videoTitle=n,wa.createOrReplace(t,{src:s.videoUrl,playing:!0});let a=Fe.Texture.Video({videoPlayerEntity:t});Fe.setPbrMaterial(t,{texture:a,emissiveTexture:a,emissiveIntensity:te.ScreenBrightness,emissiveColor:rt.White()}),te.setScreenText(t,`Video Mode:
${s.videoTitle}`)}static setVideoPause(t,r){let n=wa.getMutable(t);n.playing=r}static restartVideo(t){let r=So.get(t);this.setVideo(t,"https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875","Restarting video"),gt.setTimeout(()=>{this.setVideo(t,r.videoUrl,r.videoTitle)},.5)}static setScreenText(t,r){let n=So.get(t),s=Fo.getMutable(n.screenStatusText);s.text=r}static setVideoText(t,r,n){let s=So.get(t),a=Fo.getMutable(s.videoStatusText);a.text=r,n&&(a.textColor=n,a.outlineColor=n)}static setWinnerText(t,r){let n=So.get(t),s=Fo.getMutable(n.winnerText);s.text=r}static initEvent(){Ne.on("screen.setmode",t=>{te.setScreenMode(te.entity,t.mode)}),Ne.on("screen.pause",t=>{te.setVideoPause(te.entity,t.playState)}),Ne.on("screen.reset",t=>{te.restartVideo(te.entity)}),Ne.on("screen.setSlide",t=>{console.log("Set slide",t),te.setSlide(te.entity,t.slideUrl,t.slideNum,t.maxSlide)}),Ne.on("screen.setVideo",t=>{te.setScreenMode(te.entity,2),t.url&&te.setVideo(te.entity,t.url,t.title),Qr.videos.forEach(r=>{r.isActive=r.url==t.url})}),Ne.on("quizmanager.itemmode",t=>{te.setWinnerText(te.entity,"Choose a correct answer")}),Ne.on("quizmanager.tilemode",t=>{te.setWinnerText(te.entity,"Step on the correct answer")}),Ne.on("quizmanager.off",t=>{te.setWinnerText(te.entity,"")}),Ne.on("quiz.winner",t=>{if(t.players.length<=0)te.setWinnerText(te.entity,"No one got the correct answer :(");else if(t.players.length==1){let r=t.players[0].username;te.setWinnerText(te.entity,"Winner: "+r)}else if(t.players.length==2){let r=t.players[0].username+" , "+t.players[1].username;te.setWinnerText(te.entity,"Winner: "+r)}else{let r=t.players[0].username+" , "+t.players[1].username+"...";te.setWinnerText(te.entity,"Winner: "+r)}}),rr.events.on("sync",t=>{let r=So.getMutable(te.entity),n=[];try{n=JSON.parse(t.videoUrl)}catch{console.log("Error parsing video list data")}if(Qr.videos=n,te.setScreenMode(te.entity,t.slideVideoMode),t.slideVideoMode==1){let s=`${t.slideDirectory??"images/slides/Slide"}${t.currentSlide}.jpg`;te.setSlide(te.entity,s,t.currentSlide,t.maxSlide)}else{let s=Qr.getCurrentItem();s?te.setVideo(te.entity,s.url,s.name):te.setScreenText(te.entity,"Video Mode: No video"),r.maxSlide=t.maxSlide,r.slideNum=t.currentSlide,r.slideUrl=`${t.slideDirectory??"images/slides/Slide"}${t.currentSlide}.jpg`}})}static videoEventSysten(t){let r=BE.getVideoState(te.entity);if(te.videoData&&te.videoData.state==br.VS_PLAYING){let n=So.getMutable(te.entity);n.videoStatus.currentTimestamp+=t,te.setVideoText(te.entity,`Playing ${gl(n.videoStatus.currentTimestamp)} / ${gl(n.videoStatus.videoLength)}`),n.mode==1&&te.setVideoText(te.entity,"")}if(!te.videoData||te.videoData.timestamp!=r?.timestamp){let n=So.getMutable(te.entity);switch(te.videoData=r,te.videoData?.state){case br.VS_READY:te.setVideoText(te.entity,"Ready",te.VideoNormalTextColor);break;case br.VS_LOADING:te.setVideoText(te.entity,"Loading...",te.VideoWarningTextColor);break;case br.VS_BUFFERING:te.setVideoText(te.entity,"Buffering...",te.VideoWarningTextColor);break;case br.VS_PLAYING:n.videoStatus.videoLength=te.videoData.videoLength,n.videoStatus.currentTimestamp=te.videoData.currentOffset,te.setVideoText(te.entity,`Playing ${gl(n.videoStatus.currentTimestamp)} / ${gl(n.videoStatus.videoLength)}`,te.VideoNormalTextColor);break;case br.VS_PAUSED:n.videoStatus.currentTimestamp>=n.videoStatus.videoLength?te.setVideoText(te.entity,"Video Ended",te.VideoNormalTextColor):te.setVideoText(te.entity,`Paused ${gl(n.videoStatus.currentTimestamp)} / ${gl(n.videoStatus.videoLength)}`,te.VideoNormalTextColor);break;case br.VS_SEEKING:te.setVideoText(te.entity,"Seeking...",te.VideoWarningTextColor);break;case br.VS_ERROR:te.setVideoText(te.entity,"Video Error",te.VideoDangerTextColor);break;case br.VS_NONE:break;default:te.setVideoText(te.entity,"",te.VideoNormalTextColor);break}n.mode==1&&te.setVideoText(te.entity,"")}}};te.VideoNormalTextColor=xe.fromHexString("#f18535ff"),te.VideoWarningTextColor=xe.fromHexString("#ff8800ff"),te.VideoDangerTextColor=xe.Red(),te.ScreenBrightness=.9;var xo=te;xo.initEvent();Q.addSystem(e=>xo.videoEventSysten(e));function gl(e){if(e<0)return"--:--";let t=Math.floor(e/60),r=Math.round(e%60);return`${t>=10?t:"0"+t}:${r>=10?r:"0"+r}`}var Oa=Q.defineComponent("doorComponent",{opening:B.Boolean,hasPlayer:B.Boolean,locked:B.Boolean,animation:B.String,openTime:B.Number,holdTimer:B.Number}),Ba=class e{static create(t,r){let n=ie.createGltfShape(t,r.src,[{clip:r.animation,loop:!1,playing:!1}]),s=ie.createPosition({position:r.triggerAreaTransform.position,parent:n});return Oa.createOrReplace(n,{locked:r.locked,opening:!1,animation:r.animation,openTime:r.animOpenTime,holdTimer:-1}),Zn.addTrigger(s,Kn,yo,[{type:"box",scale:r.triggerAreaTransform.scale}],a=>{let f=Oa.getMutable(n);f.hasPlayer=!0,f.locked?(mo.setVisible(!0),mo.onCorrectPassword=()=>{mo.setVisible(!1),e.unlock(n),r.onCorrectPassword?.()}):e.open(n)},()=>{mo.setVisible(!1);let a=Oa.getMutable(n);a.hasPlayer=!1,!a.locked&&e.close(n)},rt.Blue()),rr.events.on("sync",a=>{a.nopassword&&e.unlock(n,!1),mo.setVisible(!1),r.onCorrectPassword?.()}),n}static unlock(t,r=!0){let n=Oa.getMutable(t);n.locked=!1,r&&e.open(t)}static open(t){let r=Oa.getMutable(t);r.opening=!0,ft.playSingleAnimation(t,r.animation),r.holdTimer!=-1&&gt.clearTimeout(r.holdTimer),r.holdTimer=gt.setTimeout(()=>{let n=Oa.getMutable(t);n.hasPlayer?ft.getClip(t,n.animation).playing=!1:e.close(t),n.holdTimer=-1},r.openTime)}static close(t){let r=Oa.getMutable(t);r.opening=!1,ft.getClip(t,r.animation).shouldReset=!1,ft.getClip(t,r.animation).playing=!0,r.holdTimer!=-1&&gt.clearTimeout(r.holdTimer),r.holdTimer=-1}};var W0=new Hi,zc=Q.defineComponent("windowComponent",{name:B.String,open:B.Boolean,openAnimation:B.String,closeAnimation:B.String}),Dc=class e{static create(t,r){let n=ie.createGltfShape(t,r.src,[{clip:r.openAnimation,loop:!1,playing:r.opening??!0},{clip:r.closeAnimation,loop:!1,playing:r.opening===void 0?!1:!r.opening}]);zc.create(n,{name:r.name,open:r.opening??!0,openAnimation:r.openAnimation,closeAnimation:r.closeAnimation}),wt.setEvents(n,[{button:pe.IA_POINTER,hoverText:"Open/Close window",maxDistance:15,eventCallback:s=>{e.toggleOpenSync(n)}}])}static setOpen(t,r){let n=zc.getMutable(t);n.open=r,ft.playSingleAnimation(t,n.open?n.openAnimation:n.closeAnimation)}static setOpenSync(t,r){let n=zc.getMutable(t);W0.emit("window.setOpen",{name:n.name,open:r})}static toggleOpenSync(t){let r=zc.getMutable(t);W0.emit("window.setOpen",{name:r.name,open:!r.open})}static findByName(t){let r=Q.getEntitiesWith(zc);for(let[n,s]of r)if(s.name==t)return n;return null}static initEvent(){W0.on("window.setOpen",t=>{let r=e.findByName(t.name);r&&e.setOpen(r,t.open)})}};Dc.initEvent();var gT=require("~system/RestrictedActions");var ce=class ce{static create(t){let r=ie.createPosition(t);return ce.photoPlane=ie.createPlane({position:p.create(0,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:r}),Fe.setPbrMaterial(ce.photoPlane,{texture:Fe.Texture.Common({src:"images/no-photo.png"}),emissiveTexture:Fe.Texture.Common({src:"images/no-photo.png"}),emissiveIntensity:1,emissiveColor:rt.White()}),ce.prevPhotoBtn=ie.createGltfShape({position:p.create(-.65,0,-.02),scale:p.create(.25,.5,.25),rotation:V.fromEulerDegrees(0,-90,0),parent:r},"models/shared_photo/photo_btn.glb",[{clip:"rotate",playing:!1,loop:!1}]),ce.powerBtn=ie.createGltfShape({position:p.create(.6,-.32,-.01),scale:p.create(.06,.09,.06),rotation:V.fromEulerDegrees(0,180,0),parent:r},"models/shared_photo/power_button3.glb",[{clip:"turnoff",playing:!1,loop:!1},{clip:"turnon",playing:!0,loop:!1}]),ce.nextPhotoBtn=ie.createGltfShape({position:p.create(.65,0,-.02),scale:p.create(.25,.5,.25),rotation:V.fromEulerDegrees(0,90,0),parent:r},"models/shared_photo/photo_btn.glb",[{clip:"rotate",playing:!1,loop:!1}]),qe.buildingTemplate=="8"||qe.buildingTemplate=="9"?ce.qrCodePlane=ie.createPlane({position:p.create(-1.05,.1,0),scale:p.create(.5,1,.5),rotation:V.fromEulerDegrees(0,0,0),parent:r}):parseInt(qe.buildingTemplate)<=5?(ce.qrCodePlane=ie.createPlane({position:p.create(-.95,.1,0),scale:p.create(.4,.8,.4),rotation:V.fromEulerDegrees(0,0,0),parent:r}),ce.photoPanel=ie.createGltfShape({position:p.create(0,-.5,.002),scale:p.create(.25,.45,.25),rotation:V.fromEulerDegrees(0,90,0),parent:r},"models/shared_photo/shared_photo_panel_4.glb",[{clip:"turnoff",playing:!1,loop:!1},{clip:"turnon",playing:!0,loop:!1}])):ce.qrCodePlane=ie.createPlane({position:p.create(1.05,.1,0),scale:p.create(.5,1,.5),rotation:V.fromEulerDegrees(0,0,0),parent:r}),Fe.setPbrMaterial(ce.qrCodePlane,{texture:Fe.Texture.Common({src:"images/no-photo.png"}),emissiveTexture:Fe.Texture.Common({src:"images/no-photo.png"}),emissiveIntensity:1,emissiveColor:rt.White()}),ce.photoAlbumText=ie.createText({position:p.create(0,.62,0),scale:p.create(.048,.11,.054),rotation:V.fromEulerDegrees(0,0,0),parent:r},{text:"Photo Album",textColor:xe.fromHexString("#f18535"),fontSize:16,outlineWidth:.3,outlineColor:rt.fromHexString("#f18535"),textAlign:dr.TAM_MIDDLE_CENTER,lineSpacing:-25,lineCount:2}),Je.create(ce.photoPlane,{visible:!0}),Je.create(ce.photoAlbumText,{visible:!0}),Je.create(ce.qrCodePlane,{visible:!0}),Je.create(ce.prevPhotoBtn,{visible:!0}),Je.create(ce.nextPhotoBtn,{visible:!0}),ce.updatePhotoAlbumImage(),ce.addOpenUploadImageLink(),ce.checkChangePhotoBtnEvent(),ce.powerBtnPointerEvent(),ce.initPowerBtnStatus(),ce.changePowerBtnStatus(),r}static updateQrImage(){let t=`${this.getServerUrl()}/qrcode/${He.position}/${He.realm}@${He.position}.png`;console.log("qr image link: ",t),Fe.setPbrMaterial(ce.qrCodePlane,{texture:Fe.Texture.Common({src:t}),emissiveTexture:Fe.Texture.Common({src:t}),emissiveIntensity:1,emissiveColor:rt.White()})}static prevPhotoBtnPointerEvent(){wt.setEvents(ce.prevPhotoBtn,[{button:pe.IA_POINTER,hoverText:"Previous Photo",maxDistance:15,eventCallback:t=>{He.emit("shareimage.prev",ce.currentIndex),ft.playSingleAnimation(ce.prevPhotoBtn,"rotate",!1),ce.currentIndex--,ce.checkChangePhotoBtnEvent(),ce.updatePhotoAlbumImage()}}])}static nextPhotoBtnPointerEvent(){wt.setEvents(ce.nextPhotoBtn,[{button:pe.IA_POINTER,hoverText:"Next Photo",maxDistance:15,eventCallback:t=>{He.emit("shareimage.next",ce.currentIndex),ft.playSingleAnimation(ce.nextPhotoBtn,"rotate",!1),ce.currentIndex++,ce.checkChangePhotoBtnEvent(),ce.updatePhotoAlbumImage()}}])}static updatePhotoAlbumImage(){He.on("shareimage.update",t=>{ce.currentIndex=t.currentIndex,ce.imageCount=t.imageCount,t.currentImage!=null&&Fe.setPbrMaterial(ce.photoPlane,{texture:Fe.Texture.Common({src:qe.socketAddress.replace("wss://","https://").replace("/ws","")+t.currentImage}),emissiveTexture:Fe.Texture.Common({src:qe.socketAddress.replace("wss://","https://").replace("/ws","")+t.currentImage}),emissiveIntensity:1,emissiveColor:rt.White()})})}static initPowerBtnStatus(){He.on("shareimage.update",t=>{if(ce.powerStatus=t.visible,console.log("power status: ",ce.powerStatus),t.visible){ft.playSingleAnimation(ce.powerBtn,"turnon"),ft.playSingleAnimation(ce.photoPanel,"turnon");let r=Je.getMutable(ce.photoPlane);r.visible=!0;let n=Je.getMutable(ce.photoAlbumText);n.visible=!0;let s=Je.getMutable(ce.qrCodePlane);s.visible=!0;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!0;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!0}else{ft.playSingleAnimation(ce.photoPanel,"turnoff"),ft.playSingleAnimation(ce.powerBtn,"turnoff");let r=Je.getMutable(ce.photoPlane);r.visible=!1;let n=Je.getMutable(ce.photoAlbumText);n.visible=!1;let s=Je.getMutable(ce.qrCodePlane);s.visible=!1;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!1;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!1}})}static changePowerBtnStatus(){He.on("shareimage.update.visible",t=>{if(ce.powerStatus=t.visible,console.log("power status: ",ce.powerStatus),t.visible){ft.playSingleAnimation(ce.powerBtn,"turnon"),ft.playSingleAnimation(ce.photoPanel,"turnon");let r=Je.getMutable(ce.photoPlane);r.visible=!0;let n=Je.getMutable(ce.photoAlbumText);n.visible=!0;let s=Je.getMutable(ce.qrCodePlane);s.visible=!0;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!0;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!0}else{ft.playSingleAnimation(ce.photoPanel,"turnoff"),ft.playSingleAnimation(ce.powerBtn,"turnoff");let r=Je.getMutable(ce.photoPlane);r.visible=!1;let n=Je.getMutable(ce.photoAlbumText);n.visible=!1;let s=Je.getMutable(ce.qrCodePlane);s.visible=!1;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!1;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!1}})}static checkChangePhotoBtnEvent(){console.log("current index: ",ce.currentIndex,"image count: ",ce.imageCount),ce.currentIndex==0?wt.removeEvent(ce.prevPhotoBtn):ce.prevPhotoBtnPointerEvent(),this.currentIndex==this.imageCount-1?wt.removeEvent(ce.nextPhotoBtn):ce.nextPhotoBtnPointerEvent()}static addOpenUploadImageLink(){wt.setEvents(ce.qrCodePlane,[{button:pe.IA_POINTER,hoverText:"Open upload image link",maxDistance:15,eventCallback:t=>{(0,gT.openExternalUrl)({url:`${ce.getServerUrl()}/rooms/${He.realm}@${He.position}/shareimage`})}}])}static getServerUrl(){return qe.socketAddress.replace("wss://","https://").replace("/ws","")}static powerBtnPointerEvent(){wt.setEvents(ce.powerBtn,[{button:pe.IA_POINTER,hoverText:"Turn On/Off Album",maxDistance:15,eventCallback:t=>{if(console.log("power status: ",ce.powerStatus),ce.powerStatus){He.emit("shareimage.setvisible",{visible:!1}),ft.playSingleAnimation(ce.photoPanel,"turnoff"),ft.playSingleAnimation(ce.powerBtn,"turnoff");let r=Je.getMutable(ce.photoPlane);r.visible=!1;let n=Je.getMutable(ce.photoAlbumText);n.visible=!1;let s=Je.getMutable(ce.qrCodePlane);s.visible=!1;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!1;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!1,ce.powerStatus=!1}else{console.log("realm message power on"),He.emit("shareimage.setvisible",{visible:!0}),ft.playSingleAnimation(ce.powerBtn,"turnon"),ft.playSingleAnimation(ce.photoPanel,"turnon");let r=Je.getMutable(ce.photoPlane);r.visible=!0;let n=Je.getMutable(ce.photoAlbumText);n.visible=!0;let s=Je.getMutable(ce.qrCodePlane);s.visible=!0;let a=Je.getMutable(ce.prevPhotoBtn);a.visible=!0;let f=Je.getMutable(ce.nextPhotoBtn);f.visible=!0,ce.powerStatus=!0}}}])}};ce.currentIndex=15,ce.imageCount=0,ce.powerStatus=!0;var An=ce;var ET=require("~system/RestrictedActions");var Zd=class Zd{static create(t){let r=ie.createPosition(t),n=ie.createGltfShape({position:p.create(0,0,0),scale:p.create(.5,.5,.5),rotation:V.fromEulerDegrees(0,0,0),parent:r},"models/teleport/mirror9.glb"),s=ie.createGltfShape({position:p.create(0,1,0),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0),parent:r},"models/teleport/quizbox3.glb"),a=ie.createPlane({position:p.create(0,1,0),scale:p.create(1.5,1.5,1.5),rotation:V.fromEulerDegrees(0,90,0),parent:r});return ji.startRotation(s,V.fromEulerDegrees(0,90,0)),rr.events.on("sync",f=>{if(f.tpEnabled&&f.tpPosition!=null&&f.tpPosition.trim()!=""){var c=De.getMutable(n);if(c.scale=p.create(.5,.5,.5),f.tpTitle==Zd.tpQuizZoneTitle){var l=De.getMutable(s);l.scale=p.create(.3,.3,.3);var y=De.getMutable(a);y.scale=p.create(0,0,0);var g=co.getMutable(n);g.src="models/teleport/mirror9.glb"}else{if(f.tpImage!=null){var l=De.getMutable(s);l.scale=p.create(0,0,0);var y=De.getMutable(a);y.scale=p.create(1.5,1.5,1.5),Fe.setPbrMaterial(a,{texture:Fe.Texture.Common({src:f.tpImage}),emissiveTexture:Fe.Texture.Common({src:f.tpImage}),emissiveIntensity:.9,emissiveColor:rt.White()})}var g=co.getMutable(n);g.src="models/teleport/mirror7.glb"}wt.setEvents(n,[{button:pe.IA_POINTER,hoverText:`Teleport to ${f.tpTitle}`,eventCallback:M=>{if(f.tpPosition!=null){var w=f.tpPosition.split(",");(0,ET.teleportTo)({worldCoordinates:{x:Number(w[0]),y:Number(w[1])}})}}}])}else{var c=De.getMutable(n);c.scale=p.create(0,0,0);var l=De.getMutable(s);l.scale=p.create(0,0,0);var y=De.getMutable(a);y.scale=p.create(0,0,0)}}),r}};Zd.tpQuizZoneTitle="Quiz Zone";var Qi=Zd;var TT=require("~system/Runtime");var Yi=class{static create(t,r){let n=ie.createPosition(t);if(Number(qe.buildingTemplate)>5){let c=ie.createGltfShape({position:p.create(0,1.5,0),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0),parent:n},"models/emg_logo/emg_logo.glb")}let s=ie.createGltfShape({position:p.create(-.5,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:n},`models/emg_logo/${qe.buildingLetter}.glb`),a=ie.createGltfShape({position:p.create(-1.5,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:n},"models/emg_logo/dash.glb"),f=ie.createGltfShape({position:p.create(-2.5,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:n},`models/emg_logo/${r}.glb`);return n}};var Uc=class e{static create(t){let r=ie.createGltfShape(t,`models/new_building/new_building${qe.buildingTemplate}.glb`),n=parseInt(qe.buildingTemplate);return n<=5?e.createOldBuildingObjects(r,n):e.createNewBuildingObjects(r,n),r}static async createOldBuildingObjects(t,r){Yi.create({position:p.create(6.5,-.1,.51),scale:p.create(1.1,1.1,1.1),rotation:V.fromEulerDegrees(0,180,0)},Number(qe.buildingTemplate)),je.create({position:p.create(1.9,2,27),scale:p.create(.75,.75,.75),rotation:V.fromEulerDegrees(0,180,0)});let n=cn.create({position:p.create(8.5,1,23.74),scale:p.create(1,1,1)},{name:"slide",cameraLookAt:p.create(8,2,29),cameraMode:_n.CT_FIRST_PERSON}),s=cn.create({position:p.create(3.8,1,17.7),scale:p.create(1,1,1)},{name:"model",cameraLookAt:p.create(3,1,11.5),cameraMode:_n.CT_FIRST_PERSON}),a=yr.create({position:p.create(3.47,0,10.7)},(y,g)=>Qd.create({position:p.create(0,0,0),parent:y},p.create(5.3,7.2,6.3))),f=yr.getSlideObject(a);Ma.create({position:p.create(6.2,0,14.12),scale:p.create(.4,.4,.4),rotation:V.fromEulerDegrees(0,180,0)},f),Yd.create({position:p.create(3.5,.15,5.23),scale:p.create(4,.3,3)}),Kd.create({position:p.create(.28,2,2.17),scale:p.create(1,1,1)}),ln.create({position:p.create(8,.55,28)},{transform:{position:p.create(8,.45,17.56)},tilePositions:[p.create(-6.1,-.43,5),p.create(5.9,-.43,5),p.create(5.9,-.43,-2),p.create(-6.1,-.43,-2)]}),An.create({position:p.create(1,3.2,22),scale:p.create(6,3.3,6),rotation:V.fromEulerDegrees(0,-90,0)}),Qi.create({position:p.create(15,.88,14.69),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)});let c=Pr.create({position:p.create(8.32,6,31.13),scale:p.create(1,1,1)},{position:p.create(8.32,6,31.13),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,180,0)},{position:p.create(8.32,6,30.13),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)}),l=Pr.create({position:p.create(3.47,5,8.21),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)},{position:p.create(3.47,5,8.21),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0)},{position:p.create(3.47,5,9.21),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)});if(wt.addGlobalEvent({button:pe.IA_ACTION_3,eventCallback:y=>{lt.isAuth&&po.setVisible(!0)}}),yl.create(),qe.enablePassword){let y=Rr.create({position:p.create(8,3,17),scale:p.create(15,6,28)},{kickoutPosition:p.create(2,1,.3),kickoutCameraTarget:p.create(3,1,4)});Jd.create({position:p.create(8,0,3),scale:p.create(1,1,1)},()=>{Rr.setEnabled(y,!1),An.updateQrImage(),An.checkChangePhotoBtnEvent()})}else lt.isAuth=!0,lt.role=2}static async createNewBuildingObjects(t,r){let n={position:p.create(0,0,0),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:t},s=11;Dc.create(n,{name:"side",src:`models/window_new/window${qe.buildingTemplate}.glb`,opening:!0,openAnimation:"Window_close",closeAnimation:"Window_open"}),qe.enablePassword||(lt.isAuth=!0,lt.role=2);let{realmInfo:a}=await(0,TT.getRealm)({});if(r==6){let f=Rr.create({position:p.create(2.7,s/2,15),scale:p.create(25,s,23.5)},{kickoutPosition:p.create(-13,1.5,14.5),kickoutCameraTarget:p.create(13,3,16.3),enabled:qe.enablePassword});Ba.create(n,{animation:"Animation",animOpenTime:2.5,locked:qe.enablePassword,src:`models/new_building_door/building_door${qe.buildingTemplate}.glb`,triggerAreaTransform:{position:p.create(-8.2,2,-1),scale:p.create(8,3,8)},onCorrectPassword:()=>{Rr.setEnabled(f,!1),An.updateQrImage(),An.checkChangePhotoBtnEvent()}});let c=cn.create({position:p.create(5,1.51,21.8),scale:p.create(1,1,1)},{name:"slide",cameraLookAt:p.create(5,2.7,25.8),cameraMode:_n.CT_FIRST_PERSON}),l=cn.create({position:p.create(5,1.51,13.9),scale:p.create(1,1,1)},{name:"model",cameraLookAt:p.create(3,1,6.1),cameraMode:_n.CT_FIRST_PERSON});xo.create({position:p.create(-5.18,4,-10.32),scale:p.create(-8.55,4.232,.92),parent:t},"images/slides/Slide1.jpg","https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875"),ln.create({position:p.create(5.15,.7,23)},{transform:{position:p.create(7.3,.7,16.5),rotation:V.fromEulerDegrees(0,0,0)},tilePositions:Na.square(8,5)});let y=yr.create({position:p.create(3.8,.7,7.5),scale:p.create(1,1,1)},(w,I)=>ie.createGltfShape({position:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0),parent:w},"models/new_building_object/model_viewer.glb"));_a.create({position:p.create(-1,.6,-5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:t},y),An.create({position:p.create(14.75,4,16),scale:p.create(6,3.3,6),rotation:V.fromEulerDegrees(0,90,0)}),Qi.create({position:p.create(14.5,2,22),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)}),Yi.create({position:p.create(-15.75,4,5.9),scale:p.create(.7,.7,.7),rotation:V.fromEulerDegrees(0,-90,0)},4);let g=Pr.create({position:p.create(5.32,6,25.5),scale:p.create(1,1,1)},{position:p.create(5.32,6,25.5),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,180,0)},{position:p.create(5.32,6,25.1),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)}),M=Pr.create({position:p.create(3.47,5,8.21),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)},{position:p.create(3.47,5,8.21),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0)},{position:p.create(3.47,5,9.21),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)});wt.addGlobalEvent({button:pe.IA_ACTION_3,eventCallback:w=>{lt.isAuth&&po.setVisible(!0)}})}else if(r==7){let f=Rr.create({position:p.create(0,s/2,16),scale:p.create(31.8,s,24)},{kickoutPosition:p.create(.5,.95,.4),kickoutCameraTarget:p.create(0,3,24),enabled:qe.enablePassword});Ba.create(n,{animation:"Animation",animOpenTime:2.5,locked:qe.enablePassword,src:`models/new_building_door/building_door${qe.buildingTemplate}.glb`,triggerAreaTransform:{position:p.create(.5,1.5,-11.8),scale:p.create(8,3,6)},onCorrectPassword:()=>{Rr.setEnabled(f,!1),An.updateQrImage(),An.checkChangePhotoBtnEvent()}});let c=cn.create({position:p.create(.6,1.51,20.1),scale:p.create(1,1,1)},{name:"slide",cameraLookAt:p.create(.6,2.2,23.1),cameraMode:_n.CT_FIRST_PERSON}),l=cn.create({position:p.create(-9.6,1.51,15.4),scale:p.create(1,1,1)},{name:"model",cameraLookAt:p.create(-11.7,1.9,6.4),cameraMode:_n.CT_FIRST_PERSON});xo.create({position:p.create(-.55,3.48,-8.45),scale:p.create(-8.55,4.232,.92),parent:t},"images/slides/Slide1.jpg","https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875"),ln.create({position:p.create(1,.7,22)},{transform:{position:p.create(4,.7,14),rotation:V.fromEulerDegrees(0,0,0)},tilePositions:Na.square(8,5)}),An.create({position:p.create(10.1,3.4,14.2),scale:p.create(6,3.3,6),rotation:V.fromEulerDegrees(0,90,0)});let y=yr.create({position:p.create(-11.5,.7,8.75),scale:p.create(1,1,1)},(w,I)=>ie.createGltfShape({position:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0),parent:w},"models/new_building_object/model_viewer.glb"));_a.create({position:p.create(3,.6,-2),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:t},y),Qi.create({position:p.create(9.8,2,20),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)}),Yi.create({position:p.create(-7.5,4,2.25),scale:p.create(.7,.7,.7),rotation:V.fromEulerDegrees(0,-180,0)},3);let g=Pr.create({position:p.create(.5,5.5,23.8),scale:p.create(1,1,1)},{position:p.create(.5,5.5,23.8),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,180,0)},{position:p.create(.5,5.5,23.4),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)}),M=Pr.create({position:p.create(-11,5.5,6.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)},{position:p.create(-11,5.5,6.5),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0)},{position:p.create(-11,5.5,7),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)});wt.addGlobalEvent({button:pe.IA_ACTION_3,eventCallback:w=>{lt.isAuth&&po.setVisible(!0)}})}else if(r==8){let f=Rr.create({position:p.create(0,s/2,16),scale:p.create(31.6,s,23.8)},{kickoutPosition:p.create(-15,.95,31.15),kickoutCameraTarget:p.create(-12.2,3,4.35),enabled:qe.enablePassword});Ba.create(n,{animation:"Animation",animOpenTime:2.5,locked:qe.enablePassword,src:`models/new_building_door/building_door${qe.buildingTemplate}.glb`,triggerAreaTransform:{position:p.create(-13.9,1.5,11.8),scale:p.create(4,4,5)},onCorrectPassword:()=>{Rr.setEnabled(f,!1),An.updateQrImage(),An.checkChangePhotoBtnEvent()}});let c=cn.create({position:p.create(2.4,1.51,11.4),scale:p.create(1,1,1)},{name:"slide",cameraLookAt:p.create(5.5,2.2,11.4),cameraMode:_n.CT_FIRST_PERSON}),l=cn.create({position:p.create(-11,1.51,14),scale:p.create(1,1,1)},{name:"model",cameraLookAt:p.create(-12.7,1.9,4.5),cameraMode:_n.CT_FIRST_PERSON});xo.create({position:p.create(-6.75,3.48,4.6),scale:p.create(-8.55,4.232,.92),rotation:V.fromEulerDegrees(0,90,0),parent:t},"images/slides/Slide1.jpg","https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875"),ln.create({position:p.create(4.7,.7,11.5),rotation:V.fromEulerDegrees(0,90,0)},{transform:{position:p.create(-2,.7,14),rotation:V.fromEulerDegrees(0,90,0)},tilePositions:Na.square(8,5)});let y=yr.create({position:p.create(-13,.7,7.25),scale:p.create(1,1,1)},(w,I)=>ie.createGltfShape({position:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0),parent:w},"models/new_building_object/model_viewer.glb"));_a.create({position:p.create(-3,.6,9),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,90,0),parent:t},y),Yi.create({position:p.create(-7.66,4,29.3),scale:p.create(.7,.7,.7),rotation:V.fromEulerDegrees(0,0,0)},2),Qi.create({position:p.create(2,2,21),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-90,0)});let g=Pr.create({position:p.create(6.2,5.5,11.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,90,0)},{position:p.create(6.2,5.5,11.5),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,-90,0)},{position:p.create(5.8,5.5,11.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,90,0)}),M=Pr.create({position:p.create(-12.5,5.5,5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)},{position:p.create(-12.5,5.5,5),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,0,0)},{position:p.create(-12.5,5.5,5.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-180,0)});An.create({position:p.create(-3.5,3.4,21.05),scale:p.create(6,3.3,6),rotation:V.fromEulerDegrees(0,0,0)}),wt.addGlobalEvent({button:pe.IA_ACTION_3,eventCallback:w=>{lt.isAuth&&po.setVisible(!0)}})}else if(r==9){let f=Rr.create({position:p.create(-7,s/2,16),scale:p.create(17.6,s,24)},{kickoutPosition:p.create(5,1.5,16.5),kickoutCameraTarget:p.create(-14.5,3,15),enabled:qe.enablePassword});Ba.create(n,{animation:"Animation",animOpenTime:2.5,locked:qe.enablePassword,src:`models/new_building_door/building_door${qe.buildingTemplate}.glb`,triggerAreaTransform:{position:p.create(1.5,1.5,0),scale:p.create(6,4,8)},onCorrectPassword:()=>{Rr.setEnabled(f,!1),An.updateQrImage(),An.checkChangePhotoBtnEvent()}});let c=cn.create({position:p.create(-11.7,1.51,13.6),scale:p.create(1,1,1)},{name:"slide",cameraLookAt:p.create(-15.2,2.6,13.6),cameraMode:_n.CT_FIRST_PERSON}),l=cn.create({position:p.create(-11,1.51,17.8),scale:p.create(1,1,1)},{name:"model",cameraLookAt:p.create(-8.8,1.7,26.2),cameraMode:_n.CT_FIRST_PERSON});xo.create({position:p.create(15.5,3.8,2.55),scale:p.create(-8.55,4.232,.92),rotation:V.fromEulerDegrees(0,-90,0),parent:t},"images/slides/Slide1.jpg","https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875"),ln.create({position:p.create(-13.5,.7,13.5),rotation:V.fromEulerDegrees(0,-90,0)},{transform:{position:p.create(-5.5,.7,11),rotation:V.fromEulerDegrees(0,-90,0)},tilePositions:Na.square(8,5)}),An.create({position:p.create(-10.9,4.2,5.3),scale:p.create(6,3.3,6),rotation:V.fromEulerDegrees(0,180,0)});let y=yr.create({position:p.create(9.2,.7,-8),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0),parent:t},(w,I)=>ie.createGltfShape({position:p.create(0,0,0),rotation:V.fromEulerDegrees(0,0,0),parent:w},"models/new_building_object/model_viewer.glb"));_a.create({position:p.create(11,.6,7),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-90,0),parent:t},y),Yi.create({position:p.create(10.2,4,25.9),scale:p.create(.7,.7,.7),rotation:V.fromEulerDegrees(0,90,0)},1),Qi.create({position:p.create(1,2.5,4),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,90,0)});let g=Pr.create({position:p.create(-15,5.5,13.3),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-90,0)},{position:p.create(-15,5.5,13.3),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,90,0)},{position:p.create(-14.5,5.5,13.3),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,-90,0)}),M=Pr.create({position:p.create(-10,5.5,26.5),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)},{position:p.create(-10,5.5,26.5),scale:p.create(.3,.3,.3),rotation:V.fromEulerDegrees(0,-180,0)},{position:p.create(-10,5.5,26),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,0,0)});wt.addGlobalEvent({button:pe.IA_ACTION_3,eventCallback:w=>{lt.isAuth&&po.setVisible(!0)}})}}};var Xd=class{static create(t){let r=ie.createGltfShape(t,"models/stage.glb"),n=xo.create({position:p.create(0,3.4,.55),scale:p.create(-9.3,4.6,1),parent:r},"images/slides/Slide1.jpg","https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875");return r}};function ST(){parseInt(qe.buildingTemplate)<=5?(Uc.create({position:p.create(5.94,-.84,15.419),scale:p.create(.998,.999,.996),rotation:V.fromEulerDegrees(0,180,0)}),Xd.create({position:p.create(7.9,-.17,31),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,180,0)})):Uc.create({position:p.create(0,0,16),scale:p.create(1,1,1),rotation:V.fromEulerDegrees(0,180,0)})}function em(){ST(),eT()}var El=require("~system/EngineApi");function xT(e){async function t(n){let s=await e.crdtSendToRenderer({data:new Uint8Array(n)});if(s&&s.data&&s.data.length&&r.onmessage)for(let a of s.data)r.onmessage(a)}let r={async send(n){try{await t(n)}catch(s){console.error(s);debugger}},filter(n){return n.componentId>Yp?!1:!!n},type:"renderer"};return r}var G0={"assets/scene/main.composite":{version:1,components:[{name:"core::Transform",jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"},data:{512:{json:{position:{x:8,y:1,z:8},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}}}},{name:"core::MeshRenderer",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"},data:{512:{json:{mesh:{$case:"box",box:{uvs:[]}}}}}},{name:"core-schema::Name",jsonSchema:{type:"object",properties:{value:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},data:{512:{json:{value:"Magic Cube"}}}},{name:"inspector::Scene",jsonSchema:{type:"object",properties:{layout:{type:"object",properties:{base:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},parcels:{type:"array",items:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"}},serializationType:"map"},data:{0:{json:{layout:{base:{x:0,y:0},parcels:[{x:0,y:0}]}}}}},{name:"inspector::Nodes",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{entity:{type:"integer",serializationType:"entity"},children:{type:"array",items:{type:"integer",serializationType:"entity"},serializationType:"array"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{0:{json:{value:[{entity:512,children:[513]},{entity:513,children:[]}]}}}},{name:"cube-id",jsonSchema:{type:"object",properties:{},serializationType:"map"},data:{512:{json:{}}}}]}};var tm=[],H0={getCompositeOrNull(e,t){let r=G0[e];if(r){try{if(r instanceof Uint8Array){let n=Fi.fromBinary(r);tm.push({src:e,composite:n})}else if(typeof r=="string"){let n=Fi.fromJson(JSON.parse(r));tm.push({src:e,composite:n})}else if(typeof r=="object"){let n=Fi.fromJson(r);tm.push({src:e,composite:n})}}catch(n){console.error(n)}delete G0[e]}return tm.find(n=>n.src===e)||null}};var nm=xT({crdtSendToRenderer:El.crdtSendToRenderer});Q.addTransport(nm);async function av(e){Q.seal(),await Q.update(e),await sT(El.sendBatch)}async function sv(){let e=await(0,El.crdtGetState)({data:new Uint8Array});if(!e.hasEntities){let t=H0.getCompositeOrNull("main.composite");if(t)try{Fi.instance(Q,t,H0)}catch(r){console.log("Warning: main.composite couldn't be instanced."),console.error(r)}}if(nm.onmessage&&e&&e.data&&e.data.length)for(let t of e.data)nm.onmessage(t)}if(em!==void 0){let e=function(){try{let t=em();t&&typeof t=="object"&&typeof t.then=="function"&&t.catch(console.error)}catch(t){console.error(t)}finally{Q.removeSystem(e)}};Q.addSystem(e,1/0)}
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-reconciler/cjs/react-reconciler.production.min.js:
  (**
   * @license React
   * react-reconciler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
